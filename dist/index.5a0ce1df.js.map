{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,sCC0BA,IAAAE,E,6CA5CA,IAAIC,EAAY,CAAC,EA6BjB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAQ,0EAA2E,MAAQ,GAC/G,CAaAJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,KACZ,CAAE,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAM,oEAErC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,GAE9B,CAEA,MAAO,GACT,CArBYG,GACRT,EAAUJ,GAAMQ,GAGXA,CACT,C,ICbAM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,ynB,ICoCrDC,EAlCyBC,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,cAAgBA,EAASJ,IAC/I,wBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kBAAoBA,EAASJ,IACnJ,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,sCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,QAAUA,EAASJ,IACzI,qBACmV,OAAjVI,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACnW,oBACmV,OAAjVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACnW,oBAC4V,OAA1VA,SAAUC,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC5W,oBAC4V,OAA1VA,SAAUC,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC5W,oBACyV,OAAvVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzW,+BACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,gFACwV,OAAtVI,SAAUC,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACxW,wBAC2V,OAAzVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC3W,uEACN,EAAEyB,SAAU,I,iBCnBRC,EAdyBnC,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAClO,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,kBACHN,SAAQP,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACnT,KACAO,SAAQP,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,WACN,EAAEwB,SAAU,I,0BCHL,MAAME,UAAeC,EAAAC,QAC1BC,YAAYC,GACVC,MAAM,SAAUD,EAClB,CAEAE,SACE,OAAO,EAAAC,EAAAL,SAAQH,EAAMS,KAAKJ,MAC5B,E,ICgDEK,EAjEyB7C,EADzBL,EAAA,UACoCM,SAAS,CAAC,EAAI,SAASG,EAAUC,EAAOC,EAAQC,EAASC,GAC7F,IAAIE,EAAQW,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,WACHnB,EAAUU,iBAA0M,mBAAxLJ,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAClZ,OACN,EAAE,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQW,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,qBACHnB,EAAUU,iBAA4N,mBAA1MJ,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC9a,OACN,EAAE,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQW,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,iBACHnB,EAAUU,iBAAsN,mBAApMJ,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACra,OACN,EAAE,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQW,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,YACHnB,EAAUU,iBAA4M,mBAA1LJ,EAAwH,OAA7GA,EAASW,EAAef,EAAQ,YAAwB,MAAVD,EAAiBgB,EAAehB,EAAO,UAAYA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,SAASC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GACvZ,OACN,EAAER,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIC,EAAQC,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAC1O,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,gBACHN,SAAQP,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,YACAO,SAAQP,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACnT,WACAO,SAAQP,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,SACsR,OAApRD,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,SAAWA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAiBvB,EAAS,KACP,OAA7RA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,kBAAoBA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAiBvB,EAAS,KAClB,OAA3RA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,eAAiBA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAiBvB,EAAS,KACpB,OAAvRA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,UAAYA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAiBvB,EAAS,IACzS,OACN,EAAEyB,SAAU,I,IC5CRgB,EApByBlD,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAClO,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,oBACHN,SAAQP,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACnT,WACAO,SAAQP,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,sBACAO,SAAQP,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC9U,kBACAO,SAAQP,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,KAAKC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAAUtB,GACvU,KACAO,SAAQP,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,KAAKC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAAUtB,GACrT,iBACN,EAAEwB,SAAU,I,0BCDL,MAAMiB,UAAcd,EAAAC,QACzBC,YAAYC,GACVC,MAAM,MAAOD,EACf,CAEAE,SAEE,MAAwB,aAApBE,KAAKJ,MAAMY,MACN,EAAAT,EAAAL,SAAQY,EAAcN,KAAKJ,QAE7B,EAAAG,EAAAL,SAAQO,EAAWD,KAAKJ,MACjC,E,ICfEa,EAdyBrD,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAClO,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHN,SAAQP,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACnT,KACAO,SAAQP,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,UACN,EAAEwB,SAAU,I,0BCNL,MAAMoB,UAAcjB,EAAAC,QACzBC,YAAYC,GACVC,MAAM,MAAOD,EACf,CAEAE,SACE,OAAO,EAAAC,EAAAL,SAAQe,EAAMT,KAAKJ,MAC5B,E,ICqCEe,EAnDyBvD,EADzBL,EAAA,UACoCM,SAAS,CAAC,EAAI,SAASG,EAAUC,EAAOC,EAAQC,EAASC,GAC7F,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAC1I,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,sBACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,+BAAiCA,EAASJ,IAChK,+BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,IACAQ,EAA8M,mBAAtMH,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACpZ,+BACN,EAAER,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,aAAeA,EAASJ,IAC9I,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,eACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,gBAAkBA,EAASJ,IACjJ,QACAQ,SAAQH,EAAwH,OAA7GA,EAASW,EAAef,EAAQ,YAAwB,MAAVD,EAAiBgB,EAAehB,EAAO,UAAYA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,SAASC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACtT,QACAG,SAAQH,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,KAAKC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAAUtB,GACjU,iCACAG,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,aAAeA,EAASJ,IAC9I,IACAQ,SAAQH,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACnT,iCACAG,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,aAAeA,EAASJ,IAC9I,IACAQ,SAAQH,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,iCACAG,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,IACAQ,SAAQH,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,cAC+R,OAA7RD,EAASY,EAAef,EAAQ,MAAMoB,KAAKX,EAAkB,MAAVV,EAAiBgB,EAAehB,EAAO,gBAAkBA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,QAAkBvB,EAAS,IAC/S,0BACN,EAAEyB,SAAU,I,0BClCL,MAAMsB,UAAiBnB,EAAAC,QAC5BC,YAAYC,GACVC,MAAM,MAAOD,EACf,CAEAE,SACE,OAAO,EAAAC,EAAAL,SAAQiB,EAAMX,KAAKJ,MAC5B,E,ICkCEiB,EAzDyBzD,EADzBL,EAAA,UACoCM,SAAS,CAAC,EAAI,SAASG,EAAUC,EAAOC,EAAQC,EAASC,GAC7F,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAClO,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,mBACHN,SAAQP,EAA4I,OAAjIA,EAASW,EAAef,EAAQ,sBAAkC,MAAVD,EAAiBgB,EAAehB,EAAO,oBAAsBA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,mBAAmBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACpV,UACAO,SAAQP,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC9U,WACAO,SAAQP,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC/T,QACN,EAAE,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQW,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,OAAOnB,EAAUU,iBAAwM,mBAAtLJ,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,EACzZ,EAAE,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAClO,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,mBACHN,SAAQP,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACjV,UACAO,SAAQP,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC3U,WACAO,SAAQP,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC/T,QACN,EAAER,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIC,EAAQC,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIK,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAC9I,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHnB,EAAUU,iBAA0M,mBAAxLJ,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAClW,UACgS,OAA9RD,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,kBAAoBA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAAkBvB,EAAS,IAChT,QACsR,OAApRA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,QAAUA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAAkBvB,EAAS,IACtS,QAC+R,OAA7RA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,iBAAmBA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,QAAkBvB,EAAS,IAC/S,YACN,EAAEyB,SAAU,I,0BC3CL,MAAMwB,UAAarB,EAAAC,QACxBC,YAAYC,GACVC,MAAM,MAAOD,EACf,CAEAE,SACE,OAAO,EAAAC,EAAAL,SAAQmB,EAAMb,KAAKJ,MAC5B,E,ICFEmB,EAlByB3D,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAC1I,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,0BACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,yBACka,OAAhaI,EAA8M,mBAApMC,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAClb,kCACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mCAAqCA,EAASJ,IACpK,qCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,8BAAgCA,EAASJ,IAC/J,yEACN,EAAE6B,SAAU,I,0BCAG,MAAA0B,EAMbrB,YAAY/B,GACV,GAAIoD,EAAKC,SACP,OAAOD,EAAKC,SAGdjB,KAAKkB,MAAQtD,GAAc,CAAC,EAC5BoD,EAAKC,SAAWjB,IAClB,CAEOmB,QAAQvD,GAEb9B,OAAOD,KAAK+B,GAAMwD,SAASC,IAClBrB,KAAKkB,MAAOG,GAAOzD,EAAKyD,EAAI,GAEvC,CAEOC,SAAS1D,GAEd,IAAI2D,GAAU,EACVvB,KAAKkB,MAAMM,WACbxB,KAAKkB,MAAMM,WAAWJ,SAASK,IACzBA,EAAKxF,KAAO2B,EAAK3B,KACnBsF,GAAU,EACVE,EAAKC,MAAQ9D,EAAK8D,MACpB,IAGF1B,KAAKkB,MAAMM,WAAa,GAEtBD,GACFvB,KAAKkB,MAAMM,YAAYG,KAAK/D,EAEhC,CAEOgE,SAAS3F,GAEV+D,KAAKkB,MAAMM,YACbxB,KAAKkB,MAAMM,WAAWJ,SAASK,IAC7B,GAAIA,EAAKxF,KAAOA,EACd,OAAOwF,EAAKC,KAAK,GAKzB,CAKOG,QAAQR,GACb,OAAIA,EACKrB,KAAKkB,MAAMG,GAEbrB,KAAKkB,KACd,E,IC/DEY,EAdyB1E,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAClO,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,iBACHN,SAAQP,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACnT,UACAO,SAAQP,EAAkH,OAAvGA,EAASW,EAAef,EAAQ,SAAqB,MAAVD,EAAiBgB,EAAehB,EAAO,OAASA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,MAAMC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC7S,IACN,EAAEwB,SAAU,I,0BCHL,MAAMyC,UAActC,EAAAC,QACzBC,YAAYC,GACVC,MAAM,QAASD,EACjB,CAEAE,SACE,OAAO,EAAAC,EAAAL,SAAQoC,EAAM9B,KAAKJ,MAC5B,E,iBCnBK,MAAMoC,EAAS,CACpBC,WAAY,mCACZC,YAAa,6CACbC,aAAc,mCACdC,YAAa,CAAC,SAAU,UAAW,QAAS,SAAU,MAAO,OAAQ,OACnE,UAAW,WAAY,UAAW,SAAU,YCCzC,MAAMC,UAAoBN,EAE/BpC,YAAYC,GACVC,MAAMD,GAENI,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOC,4BACtB3C,KAAK4C,sBAAsBC,KAAK7C,MACpC,CAEA4C,sBAAsBE,GAEpB,MAAMC,EAAO9F,KAAKC,MAAM4F,EAAIE,cAC5BhC,EAAKC,SAASE,QAAQ,CAAE8B,OAAQF,EAAKE,SAErCjD,KAAKkD,SAAS,CACZC,IAAKnB,EAAOE,YAAca,EAAKE,QAEnC,ECXK,MAAMG,UAAe3D,EAAAC,QAI1BC,YAAYC,GACVC,MAAM,MAAOD,EACf,CAEAE,SAEE,MAAMqD,EAAMnC,EAAKC,SAASY,QAAQ,UAC9BG,EAAOE,YAAclB,EAAKC,SAASY,QAAQ,UAC3C7B,KAAKJ,MAAMyD,MAAMN,KAEfO,EAAc,IAAIjB,EAAY,CAClCkB,MAAOvD,KAAKJ,MAAM4D,OAAO,wBACzBL,IAAKA,IAKP,OAFAnD,KAAKyD,aAAeH,GAEb,EAAAvD,EAAAL,SAAQqB,EAAM,C,YACnBuC,KACGtD,KAAKJ,OAEZ,E,ICtBE8D,EAdyBtG,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIE,EAAQC,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIH,EAAOT,EAAUc,MAAMC,cAAeJ,EAAO,WAAYE,EAAOb,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAClO,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHN,SAAQP,EAAsH,OAA3GA,EAASW,EAAef,EAAQ,WAAuB,MAAVD,EAAiBgB,EAAehB,EAAO,SAAWA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,QAAQC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GACnT,KACAO,SAAQP,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASG,KAA2BE,EAASL,EAAOgB,KAAKf,EAAO,CAACgB,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAChT,QACN,EAAEwB,SAAU,I,0BCNL,MAAMqE,UAAqBlE,EAAAC,QAChCC,YAAYC,GACVC,MAAM,MAAOD,EACf,CAEAE,SACE,OAAO,EAAAC,EAAAL,SAAQgE,EAAM1D,KAAKJ,MAC5B,E,IC+GEgE,EA7HyBxG,EADzBL,EAAA,UACoCM,SAAS,CAAC,EAAI,SAASG,EAAUC,EAAOC,EAAQC,EAASC,GAC7F,IAAIC,EAAQE,EAAiB,MAAVN,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIK,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtI,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,YACiS,OAAlSd,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,QAAUA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGA,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAiBvB,EAAS,IACpT,SACuR,OAArRA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,QAAUA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,QAAkBvB,EAAS,KACf,OAAtRA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,QAAUA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,QAAkBvB,EAAS,KACC,OAAvSA,EAASY,EAAef,EAAQ,MAAMoB,KAAKf,EAAkB,MAAVN,EAAiBgB,EAAehB,EAAO,QAAUA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,GAAIvC,EAAM,GAAGwC,QAAU5C,EAAU2C,QAAQ,GAAIvC,EAAM,GAAGA,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,QAAkBvB,EAAS,IACzT,gBACN,EAAE,EAAI,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIC,EAAQY,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,SACHnB,EAAUU,iBAAiBV,EAAUQ,OAAkF,OAAzEH,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,6BAA+BA,EAASJ,IAC5L,MACN,EAAE,EAAI,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIC,EAAQY,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,SACHnB,EAAUU,iBAAiBV,EAAUQ,OAAkF,OAAzEH,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,8BAAgCA,EAASJ,IAC7L,MACN,EAAE,EAAI,SAASD,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQW,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,WACHnB,EAAUU,iBAAwM,mBAAtLJ,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GACjZ,MACN,EAAE,EAAI,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC7C,IAAIE,EAAQW,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,WACHnB,EAAUU,iBAAwM,mBAAtLJ,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GACjZ,MACN,EAAE,GAAK,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC9C,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIK,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GAC1M,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,sBACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,oCAAsCA,EAASJ,IACrK,SAC4R,OAA1RI,EAASY,EAAef,EAAQ,MAAMoB,KAAKX,EAAkB,MAAVV,EAAiBgB,EAAehB,EAAO,UAAYA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,GAAIvC,EAAM,GAAGwC,QAAU5C,EAAU6C,KAAKzC,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,QAAkBvB,EAAS,IAC5S,uBACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kCAAoCA,EAASJ,IACnK,IACAQ,EAA8L,mBAAtLH,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAKX,EAAO,CAACY,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAC7U,+BACN,EAAE,GAAK,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC9C,IAAIC,EAAQC,EAAQC,EAAOP,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACjH,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,wBACHZ,EAAOP,EAAUQ,OAAiF,OAAxEH,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,SAAWA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IACzJ,UACAM,EAAwM,mBAAhMD,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAC7Y,QACN,EAAE,GAAK,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC9C,IAAIC,EAAQC,EAAQC,EAAOP,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACjH,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,sBACHZ,EAAOP,EAAUQ,OAAkF,OAAzEH,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mCAAqCA,EAASJ,IAC9K,IACAM,EAA8L,mBAAtLD,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAC9X,YACN,EAAE,GAAK,SAASN,EAAUC,EAAOC,EAAQC,EAASC,GAC9C,IAAIC,EAAQC,EAAQC,EAAOP,EAAUU,iBAAkBO,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACjH,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,kBACHZ,EAAOP,EAAUQ,OAAkF,OAAzEH,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IAChK,IACAM,EAA8L,mBAAtLD,EAAoH,OAAzGA,EAASW,EAAef,EAAQ,UAAsB,MAAVD,EAAiBgB,EAAehB,EAAO,QAAUA,IAAmBK,EAASN,EAAUc,MAAMC,eAA+CT,EAAOgB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAG,CAACW,KAAO,OAAOC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAC9X,YACN,EAAER,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIC,EAAQY,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACtE,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,OAAmW,OAA1Vd,EAASY,EAAef,EAAQ,MAAMoB,KAAe,MAAVrB,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAc,MAAVX,EAAiBgB,EAAehB,EAAO,aAAeA,EAAQ,CAACsB,KAAO,KAAKC,KAAO,CAAC,EAAEkB,GAAK1C,EAAU2C,QAAQ,EAAGvC,EAAM,GAAGwC,QAAU5C,EAAU2C,QAAQ,GAAIvC,EAAM,GAAGA,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAiBvB,EAAS,EACrX,EAAEyB,SAAU,I,0BC7GL,MAAMuE,UAAgBpE,EAAAC,QAC3BC,YAAYC,GACVC,MAAM,MAAOD,EACf,CAEAE,SACE,OAAO,EAAAC,EAAAL,SAAQkE,EAAM5D,KAAKJ,MAC5B,E,iBCxBF6C,EAAA1F,EAAA,SAGA,MAAM+G,EAA2C,CAC/CC,MAAO,sBACPC,SAAU,gDACVC,MAAO,8CACPC,MAAO,8BACPnF,KAAM,gCACNoF,MAAO,OACPC,QAAS,MAGLC,EAAwC,CAC5CtF,KAAM,+HAENuF,QAAS,mIAETP,MAAO,kIAEPC,SAAU,gIAEVC,MAAO,iGAEPC,MAAO,mOAGPE,QAAS,qBAQJ,SAASG,EAAQC,GACtB,MAAMC,EAAkBD,EAAQE,QAAQC,WAGxC,GAFAC,QAAQC,IAAIJ,IAEPA,KAAqBA,KAAmBX,GAC3C,MAAO,CAAEgB,OAAO,GAGlB,MAAMC,EAAOjB,EAAiBW,GAE9B,GAAID,EAAQ/H,QAAwC,IAA/B+H,EAAQ/H,MAAMuI,OAAOD,GACxC,MAAO,CAAED,OAAO,GAIlB,MAAO,CAAEA,OAAO,E,OAFDT,EAAcI,GAG/B,CAWA,SAASQ,EAAeC,GAEtB,IAAIC,GAAc,EACdC,EAAgC,CAAC,EACjCC,EAAwC,CAAC,EA+B7C,OA7BAH,EAAO9D,SAAQkE,IACb,MAAMd,EAAUc,EAAMd,QACtB,GAAIA,EAAQE,QAAQC,WAAY,CAC9B,MAAMY,EAAcf,EAAQE,QAAQC,WAAWa,MAAM,KAWrD,GAVAJ,EAASZ,EAAQzF,MAAQ,CACvBtC,MAAO+H,EAAQ/H,MACfgJ,SAAS,GArBK7H,EAwBE4G,EAAQ/H,MAxBI+D,EAwBG+E,EAAY,IArBL,IAAxC3H,EAAKoH,OAAOlB,EAAiBtD,MAsB3B2E,GAAc,EACdC,EAASZ,EAAQzF,MAAM0G,SAAU,GAG/BF,EAAYvJ,OAAS,EAAG,CAC1B,MAAO0J,EAAGC,GAAKJ,EAAY,GAAGC,MAAM,KAE1B,SAANE,IACFL,EAAcb,EAAQzF,MAAQ4G,EAElC,CACF,CApCJ,IAAsB/H,EAAc4C,CAoChC,IAEF1E,OAAO8J,QAAQP,GAAejE,SAAQ,EAAEyE,EAAMC,MACxCV,EAASS,GAAMpJ,QAAU2I,EAASU,GAAMrJ,QAC1C0I,GAAc,EACdC,EAASS,GAAMJ,SAAU,EAC3B,IAEK,CAACN,EAAaC,EACvB,C,aClGA3F,EAAA1C,EAAA,SAUe,MAAAgJ,UAAmBtG,EAAAC,S,IC8C9BsG,EAtDyB5I,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,cAAgBA,EAASJ,IAC/I,wBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kBAAoBA,EAASJ,IACnJ,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,6CACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,QAAUA,EAASJ,IACzI,qBACmV,OAAjVI,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACnW,oBACmV,OAAjVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACnW,oBACmV,OAAjVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACnW,oBACmV,OAAjVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACnW,oBAC+V,OAA7VA,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC/W,oBACiW,OAA/VA,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACjX,oBACoW,OAAlWA,SAAUC,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACpX,oBACoW,OAAlWA,SAAUC,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACpX,oBACqV,OAAnVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,oBACqV,OAAnVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,oBAC8V,OAA5VA,SAAUC,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC9W,oBAC8V,OAA5VA,SAAUC,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC9W,oBACiW,OAA/VA,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACjX,oBACiW,OAA/VA,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACjX,oBAC2V,OAAzVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC3W,+BACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,gFAC2V,OAAzVI,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC3W,wBACwV,OAAtVA,SAAUC,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACxW,mEACN,EAAEyB,SAAU,I,8BCbR2G,EAxCyB7I,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kBAAoBA,EAASJ,IACnJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,4BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,MACkW,OAAhWI,SAAUC,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAClX,iCACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,oBAAsBA,EAASJ,IACrJ,sBACsV,OAApVI,SAAUC,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACtW,8BACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,gCAAkCA,EAASJ,IACjK,mCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,QACAQ,EAAOF,EAAiF,OAAxEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,SAAWA,GAAmBgB,EAAeZ,EAAO,UAAYA,EAASJ,IAC1I,UACAQ,SAAQH,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAC/T,2EACAG,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,wBAA0BA,EAASJ,IACzJ,sBACkV,OAAhVI,SAAUC,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAClW,oBACwV,OAAtVA,SAAUC,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACxW,wEACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,wBAA0BA,EAASJ,IACzJ,yBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,aAAeA,EAASJ,IAC9I,yEACN,EAAE6B,SAAU,I,6CCXR4G,EA5ByB9I,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mBAAqBA,EAASJ,IACpJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,0CACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,qBACkW,OAAhWI,SAAUC,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAClX,8BACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,mDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sCAAwCA,EAASJ,IACvK,yBAC4V,OAA1VI,SAAUC,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC5W,wBAC+V,OAA7VA,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC/W,0CAC2V,OAAzVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC3W,iDACN,EAAEyB,SAAU,I,0BCvBL,MAAM6G,UAAoBJ,EAC/BpG,YAAYC,GACVC,MAAM,MAAO,IACRD,EACHwG,OAAQ,CACNC,MAAQC,GAAatG,KAAKuG,UAAUD,MAIxCtG,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO8D,2BACtBxG,KAAKyG,qBAAqB5D,KAAK7C,MACnC,CAEAyG,qBAAqBC,GACnB9B,QAAQC,IAAI6B,EACd,CAEAH,UAAUD,GACR,MAAMK,EAAKL,EAAEM,OACb,IAAKD,EACH,OAAO,EAELA,EAAGE,UAAUC,SAAS9G,KAAKJ,MAAM4D,OAAO,qBAC1CxD,KAAK+G,MAET,CAEAjH,SAEE,MAAMkH,EAAgB,IAAItG,EAAM,CAAC,GAE3BuG,EAAkB,IAAI1G,EAAM,CAChCC,KAAM,OACN+C,MAAOvD,KAAKJ,MAAM4D,OAAO0D,OACzBnI,KAAM,cACNoI,OAAQ,wBACRf,OAAQ,CACNgB,OAASd,IACP,MAAMe,EAAcf,EAAEgB,cAClBD,GAAeA,EAAYE,QAC7B3C,QAAQC,IAAIwC,EAAYE,MAAM,GAAGxI,MACjCiI,EAAc9D,SAAS,CACrBsE,KAAMH,EAAYE,MAAM,GAAGxI,KAC3BwE,MAAOvD,KAAKJ,MAAM4D,OAAO,uBAE7B,KAKAiE,EAAiB,IAAI3G,EAAK,CAC9B0G,KAAM,6BACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkE,QAAQ1H,KAAKJ,MAAM4D,OAAO,8BACtD4C,OAAQ,CACNC,MAAO,KACLsB,SAASC,cAAc,gBAAgBC,cAAc,IAAIC,WAAW,QAAS,CAAEC,SAAS,IAAK,KAK7FC,EAAe,IAAIxI,EAAO,CAC9BgI,KAAM,WACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAAUjI,KAAKJ,MAAM4D,OAAO,gCACxD4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEF,MAAM9C,EAAW,IAAI+C,SACfd,EAAcJ,EAAgBzC,QAGpC,GADAI,QAAQC,IAAIwC,EAAYE,OACpBF,EAAYE,MAAO,CACrBnC,EAASgD,OAAO,SAAUf,EAAYE,MAAM,IAE5C,IACEvH,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO4F,oBAAqBlD,EAClE,CAAE,MAAOsB,GACP9B,QAAQC,IAAI6B,EACd,CACF,MAKN,OAAO,EAAA3G,EAAAL,SAAQwG,EAAM,C,cACnBc,E,eACAS,E,gBACAR,E,aACAe,KACGhI,KAAKJ,OAEZ,E,ICxEE2I,EAxByBnL,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mBAAqBA,EAASJ,IACpJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,0CACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,oBAAsBA,EAASJ,IACrJ,+BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,6CAC4V,OAA1VI,SAAUC,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC5W,oBACyV,OAAvVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzW,oBACyV,OAAvVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzW,iDACN,EAAEyB,SAAU,I,0BCnBL,MAAMkJ,UAAwBzC,EAInCpG,YAAYC,GACVC,MAAM,MAAO,IACRD,EACHwG,OAAQ,CACNC,MAAQC,GAAatG,KAAKuG,UAAUD,MAIxCtG,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO+F,2BACtBzI,KAAK0I,4BAA4B7F,KAAK7C,OACxCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOiG,yBACtB3I,KAAK4I,0BAA0B/F,KAAK7C,OACtCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOmG,0BACtB7I,KAAK8I,2BAA2BjG,KAAK7C,MACzC,CAEQ0I,4BAA4BtD,GAQlC,MANAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAC3C,KAEI,IAAIrH,MAAM,mBAClB,CAEQyM,0BAA0BhL,GAChC,MAAM4J,EAAOvK,KAAKC,MAAMU,GAAMoL,OAC9BhJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAE7B9B,QAAQC,IAAI,yBAA0B2C,EACxC,CAEQsB,6BACN9I,KAAK+G,MACP,CAEAR,UAAUD,GACR,MAAMK,EAAKL,EAAEM,OACb,IAAKD,EACH,OAAO,EAELA,EAAGE,UAAUC,SAAS9G,KAAKJ,MAAM4D,OAAO,qBAC1CxD,KAAK+G,MAET,CAEAjH,SAEE,MAAMoJ,EAAgB,IAAI3I,EAAM,CAC9BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,QAC5BvG,KAAM,QACNoK,eAAgB,QAChBC,YAAa,kBAGTC,EAAe,IAAI1F,EAAa,CACpC6D,KAAM,GACNjE,MAAOvD,KAAKJ,MAAM4D,OAAOkD,QAIrB4C,EAAe,IAAI9J,EAAO,CAC9BgI,KAAM,UACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAClBjI,KAAKJ,MAAM4D,OAAO,iCAClBxD,KAAKJ,MAAM4D,OAAO,wBAC5B4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEF,MAAMhD,EAAS,CAACgE,GAEhB,IACElJ,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO6G,oBAAqBrE,GAChElF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO8G,kBAAmBtE,GAC9DlF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+G,gBAE7C,CAAE,MAAO/C,GACP9B,QAAQC,IAAI,UAAW6B,EAEzB,MAON,OAFA1G,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQ6I,EAAM,C,cACnBW,E,aACAG,E,aACAC,KACGtJ,KAAKJ,OAEZ,E,ICzFE8J,EApByBtM,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mBAAqBA,EAASJ,IACpJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,qBACiW,OAA/VI,SAAUC,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACjX,gBAC0W,OAAxWA,SAAUC,EAAgJ,OAArIA,EAASW,EAAef,EAAQ,wBAAoC,MAAVD,EAAiBgB,EAAehB,EAAO,sBAAwBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,qBAAqBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC1X,gBAC8V,OAA5VA,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC9W,sCACN,EAAEyB,SAAU,I,8BCKRqK,EAxByBvM,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mBAAqBA,EAASJ,IACpJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,0CACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,iBAAmBA,EAASJ,IAClJ,+BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,uDAC+V,OAA7VI,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC/W,oBACyV,OAAvVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzW,oBACgV,OAA9UA,SAAUC,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAChW,iDACN,EAAEyB,SAAU,I,0BCnBL,MAAMsK,UAAqB7D,EAIhCpG,YAAYC,GACVC,MAAM,MAAO,IACRD,EACHwG,OAAQ,CACNC,MAAQC,GAAatG,KAAKuG,UAAUD,MAIxCtG,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOmH,4BACtB7J,KAAK8J,6BAA6BjH,KAAK7C,OACzCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOqH,0BACtB/J,KAAKgK,wBAAwBnH,KAAK7C,OACpCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOuH,2BACtBjK,KAAKkK,yBAAyBrH,KAAK7C,OACrCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOyH,0BACtBnK,KAAKoK,2BAA2BvH,KAAK7C,OACvCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO2H,2BACtBrK,KAAKsK,4BAA4BzH,KAAK7C,MAC1C,CAEQ8J,6BAA6B1E,GAQnC,MANAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAC3C,KAEI,IAAIrH,MAAM,mBAClB,CAEQ6N,wBAAwBpM,GAC9BgH,QAAQC,IAAI,aAAc5H,KAAKC,MAAMU,IACrC,MAAM4J,EAAOvK,KAAKC,MAAMU,GAAMoL,OAC9BhJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAE7B9B,QAAQC,IAAI,uBAAwB2C,EACtC,CAEQ0C,yBAAyBtM,GAC/BgH,QAAQC,IAAI,wCAAyCjH,GACrDoC,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO6H,mBAAoB,CAC7DC,OAAQ5M,EAAK3B,GACbwO,OAAQzK,KAAKJ,MAAM6K,SAErBzK,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOgI,oBAAqB1K,KAAKJ,MAAM6K,OAC7E,CAIQL,2BAA2BxM,GACjC,MAAM4J,EAAOvK,KAAKC,MAAMU,GAAMoL,OAC9BhJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAE7B9B,QAAQC,IAAI,2BAA4B2C,EAC1C,CAEQ8C,8BACNtK,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,aACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,OAE/B,CAEAH,UAAUD,GACR,MAAMK,EAAKL,EAAEM,OACb,IAAKD,EACH,OAAO,EAELA,EAAGE,UAAUC,SAAS9G,KAAKJ,MAAM4D,OAAO,qBAC1CxD,KAAK+G,MAET,CAEAjH,SAEE,MAAM6K,EAAiB,IAAIpK,EAAM,CAC/BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,QAC5BvG,KAAM,QACNoK,eAAgB,QAChBC,YAAa,uBAGTC,EAAe,IAAI1F,EAAa,CACpC6D,KAAM,GACNjE,MAAOvD,KAAKJ,MAAM4D,OAAOkD,QAIrBkE,EAAY,IAAIpL,EAAO,CAC3BgI,KAAM,WACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAClBjI,KAAKJ,MAAM4D,OAAO,iCAClBxD,KAAKJ,MAAM4D,OAAO,qBAC5B4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEFlI,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,GACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAG7B,MAAMxB,EAAS,CAACyF,GAEhB,IACE3K,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmI,qBAAsB3F,GACjElF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOoI,gBAAiB5F,EAAQ,CAClE6F,aAActI,EAAA/C,QAAegD,OAAOuH,2BACpCe,YAAavI,EAAA/C,QAAegD,OAAOqH,2BAGvC,CAAE,MAAOrD,GACP9B,QAAQC,IAAI,UAAW6B,EAEzB,MAQN,OAFA1G,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQiK,EAAM,C,eACnBgB,E,aACAtB,E,UACAuB,KACG5K,KAAKJ,OAEZ,E,IC3HEqL,EAxByB7N,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mBAAqBA,EAASJ,IACpJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,0CACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,oBAAsBA,EAASJ,IACrJ,+BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,wDAC+V,OAA7VI,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC/W,oBACyV,OAAvVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzW,oBACyV,OAAvVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzW,iDACN,EAAEyB,SAAU,I,0BCnBL,MAAM4L,UAAwBnF,EAInCpG,YAAYC,GACVC,MAAM,MAAO,IACRD,EACHwG,OAAQ,CACNC,MAAQC,GAAatG,KAAKuG,UAAUD,MAIxCtG,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOyI,+BACtBnL,KAAKoL,gCAAgCvI,KAAK7C,OAC5CA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO2I,6BACtBrL,KAAKgK,wBAAwBnH,KAAK7C,OACpCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO4I,8BACtBtL,KAAKkK,yBAAyBrH,KAAK7C,OACrCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO6I,6BACtBvL,KAAKwL,8BAA8B3I,KAAK7C,OAC1CA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO+I,8BACtBzL,KAAK0L,+BAA+B7I,KAAK7C,MAC7C,CAEQoL,gCAAgChG,GAQtC,MANAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAC3C,KAEI,IAAIrH,MAAM,mBAClB,CAEQ6N,wBAAwBpM,GAC9BgH,QAAQC,IAAI,aAAc5H,KAAKC,MAAMU,IACrC,MAAM4J,EAAOvK,KAAKC,MAAMU,GAAMoL,OAC9BhJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAE7B9B,QAAQC,IAAI,uBAAwB2C,EACtC,CAEQ0C,yBAAyBtM,GAC/BgH,QAAQC,IAAI,2CAA4CjH,GACxDoC,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOiJ,sBAAuB,CAChEnB,OAAQ5M,EAAK3B,GACbwO,OAAQzK,KAAKJ,MAAM6K,SAGrBzK,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOgI,oBAAqB1K,KAAKJ,MAAM6K,OAC7E,CAEQe,8BAA8B5N,GACpC,MAAM4J,EAAOvK,KAAKC,MAAMU,GAAMoL,OAC9BhJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAE7B9B,QAAQC,IAAI,2BAA4B2C,EAC1C,CAEQkE,iCACN1L,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,eACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,OAE/B,CAGAH,UAAUD,GACR,MAAMK,EAAKL,EAAEM,OACb,IAAKD,EACH,OAAO,EAELA,EAAGE,UAAUC,SAAS9G,KAAKJ,MAAM4D,OAAO,qBAC1CxD,KAAK+G,MAET,CAEAjH,SAEE,MAAM6K,EAAiB,IAAIpK,EAAM,CAC/BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,QAC5BvG,KAAM,QACNoK,eAAgB,QAChBC,YAAa,uBAGTC,EAAe,IAAI1F,EAAa,CACpC6D,KAAM,GACNjE,MAAOvD,KAAKJ,MAAM4D,OAAOkD,QAIrBkF,EAAe,IAAIpM,EAAO,CAC9BgI,KAAM,UACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UACvBjI,KAAKJ,MAAM4D,OAAO,iCAClBxD,KAAKJ,MAAM4D,OAAO,wBACvB4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEFlI,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,GACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAG7B,MAAMxB,EAAS,CAACyF,GAEhB,IACE3K,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmJ,wBAAyB3G,GACpElF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOoI,gBAAiB5F,EAAQ,CAClE6F,aAActI,EAAA/C,QAAegD,OAAO4I,8BACpCN,YAAavI,EAAA/C,QAAegD,OAAO2I,8BAGvC,CAAE,MAAO3E,GACP9B,QAAQC,IAAI,UAAW6B,EAEzB,MAQN,OAFA1G,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQuL,EAAM,C,eACnBN,E,aACAtB,E,aACAuC,KACG5L,KAAKJ,OAEZ,E,IC7HEkM,EAtByB1O,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,mBAAqBA,EAASJ,IACpJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAChJ,+BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,gDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kBAAoBA,EAASJ,IACnJ,iCAC4V,OAA1VI,SAAUC,EAAsI,OAA3HA,EAASW,EAAef,EAAQ,mBAA+B,MAAVD,EAAiBgB,EAAehB,EAAO,iBAAmBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,gBAAgBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC5W,oBACyV,OAAvVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzW,iDACN,EAAEyB,SAAU,I,uCChBL,MAAMyM,UAAqBhG,EAIhCpG,YAAYC,GACVC,MAAM,MAAO,IACRD,EACHwG,OAAQ,CACNC,MAAQC,GAAatG,KAAKuG,UAAUD,MAIxCtG,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOsJ,0BACtBhM,KAAKiM,2BAA2BpJ,KAAK7C,MACzC,CAEQiM,6BACNjM,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+G,iBAC3C,MAAMyC,EAAO,IAAIxL,EAAM,CACrB8G,KAAM,yCACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,gBAE3B,EAAA2I,EAAAC,WAAU,gBAAiBF,GAC3BlM,KAAK+G,MACP,CAEAR,UAAUD,GACR,MAAMK,EAAKL,EAAEM,OACb,IAAKD,EACH,OAAO,EAELA,EAAGE,UAAUC,SAAS9G,KAAKJ,MAAM4D,OAAO,qBAC1CxD,KAAK+G,MAET,CAEAjH,SAEE,MAAMuJ,EAAe,IAAI1F,EAAa,CACpC6D,KAAM,GACNjE,MAAOvD,KAAKJ,MAAM4D,OAAOkD,QAIrB2F,EAAgB,IAAI7M,EAAO,CAC/BgI,KAAM,cACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAClBjI,KAAKJ,MAAM4D,OAAO,gCAC5B4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEFlI,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,GACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAG7B,IACE1G,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO4J,kBAAmBtM,KAAKJ,MAAM6K,OAE3E,CAAE,MAAO/D,GACP9B,QAAQC,IAAI,UAAW6B,EAEzB,MAMA6F,EAAe,IAAI/M,EAAO,CAC9BgI,KAAM,WACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAClBjI,KAAKJ,MAAM4D,OAAO,kCAC5B4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBACFlI,KAAK+G,MAAI,KAQf,OAFA/G,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQoM,EAAM,C,aACnBzC,E,cACAgD,E,aACAE,KACGvM,KAAKJ,OAEZ,ECxFK,MAAM4M,UAAoBzG,EAE/BpG,YAAYC,GACVC,MAAM,MAAO,IACRD,EACHwG,OAAQ,CACNC,MAAQC,GAAatG,KAAKuG,UAAUD,KAI1C,CAEAC,UAAUD,GACR,MAAMK,EAAKL,EAAEM,OACb,IAAKD,EACH,OAAO,EAELA,EAAGE,UAAUC,SAAS9G,KAAKJ,MAAM4D,OAAO,qBAC1CxD,KAAK+G,MAET,CAEAjH,SACE,MAAM2M,EAAkB,IAAI3L,EAAK,CAC/ByC,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkE,QAAQ1H,KAAKJ,MAAM4D,OAAO,0BACtDkJ,eAAgB1M,KAAKJ,MAAMyD,MAAMsJ,QACjCC,iBAAkB5M,KAAKJ,MAAM4D,OAAO,qBACpCgE,KAAM,wBACNpB,OAAQ,CACNC,MAAO,KACL,MAAMwG,EAAe,IAAIjD,EAAa5J,KAAKJ,QAC3C,EAAAuM,EAAAC,WAAU,SAAUS,EAAA,KAKpBC,EAAqB,IAAIhM,EAAK,CAClCyC,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkE,QAAQ1H,KAAKJ,MAAM4D,OAAO,0BACtDkJ,eAAgB1M,KAAKJ,MAAMyD,MAAM0J,WACjCH,iBAAkB5M,KAAKJ,MAAM4D,OAAO,qBACpCgE,KAAM,uBACNpB,OAAQ,CACNC,MAAO,KACL,MAAM2G,EAAkB,IAAI9B,EAAgBlL,KAAKJ,QACjD,EAAAuM,EAAAC,WAAU,SAAUY,EAAA,KAKpBC,EAAiB,IAAInM,EAAK,CAC9ByC,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkE,QAAQ1H,KAAKJ,MAAM4D,OAAO,0BACtDkJ,eAAgB1M,KAAKJ,MAAMyD,MAAM6J,WACjCN,iBAAkB5M,KAAKJ,MAAM4D,OAAO,qBACpCgE,KAAM,cACNpB,OAAQ,CACNC,MAAO,KACL,MAAM8G,EAAe,IAAIpB,EAAa/L,KAAKJ,QAC3C,EAAAuM,EAAAC,WAAU,SAAUe,EAAA,KAK1B,OAAO,EAAApN,EAAAL,SAAQgK,EAAM,C,gBACnB+C,E,mBACAK,E,eACAG,KACGjN,KAAKJ,OAEZ,E,IChCEwN,EA5CyBhQ,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,cACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,mBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,iCAAmCA,EAASJ,IAClK,iBAC+U,OAA7UI,SAAUC,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC/V,oCACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kCAAoCA,EAASJ,IACnK,iBACyX,OAAvXI,SAAUC,EAA0J,OAA/IA,EAASW,EAAef,EAAQ,6BAAyC,MAAVD,EAAiBgB,EAAehB,EAAO,2BAA6BA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,0BAA0BC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,GAAGC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACzY,8CACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,+BAAiCA,EAASJ,IAChK,aAC8U,OAA5UI,SAAUC,EAA4H,OAAjHA,EAASW,EAAef,EAAQ,cAA0B,MAAVD,EAAiBgB,EAAehB,EAAO,YAAcA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,WAAWC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC9V,4BACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,uBAAyBA,EAASJ,IACxJ,uBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,2BAA6BA,EAASJ,IAC5J,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,iBAAmBA,EAASJ,IAClJ,QACAQ,EAAOF,EAAiF,OAAxEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,SAAWA,GAAmBgB,EAAeZ,EAAO,aAAeA,EAASJ,IAC7I,SACAQ,SAAQH,EAA8H,OAAnHA,EAASW,EAAef,EAAQ,eAA2B,MAAVD,EAAiBgB,EAAehB,EAAO,aAAeA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,YAAYC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GACjU,sCACAG,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,4BAA8BA,EAASJ,IAC7J,iBAC0V,OAAxVI,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC1W,oCACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,iBAC8U,OAA5UI,SAAUC,EAA4H,OAAjHA,EAASW,EAAef,EAAQ,cAA0B,MAAVD,EAAiBgB,EAAehB,EAAO,YAAcA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,WAAWC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,GAAGC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC9V,yCACN,EAAEyB,SAAU,I,oDCVL,MAAM+N,WAAqBtH,EAIhCpG,YAAYC,GACVC,MAAM,MAAOD,GAEbI,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO4K,kBACtBtN,KAAKuN,oBAAoB1K,KAAK7C,OAChCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO8K,4BACtBxN,KAAKyN,uBAAuB5K,KAAK7C,OACnCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOgL,4BACtB1N,KAAK2N,6BAA6B9K,KAAK7C,OAEzCA,KAAK4N,UAAY,EACnB,CAEQH,uBAAuB7P,GAE7B,MAAMiQ,MAAEA,GAAqCjQ,EACvCkQ,EAAqB,GAE3BD,EAAMzM,SAAS2B,IAEb,IAAIE,EAASjD,KAAKJ,MAAMyD,MAAMN,KAE1BA,EAAKE,SACPA,EAASjB,EAAOE,YAAca,EAAKE,QAGrC2B,QAAQC,IAAI5B,GACZ,MAAM8K,EAAchL,EAAKiL,aACrBjL,EAAKiL,aACL,GAAGjL,EAAKkL,cAAclL,EAAKmL,cAG/BJ,EAAUnM,KAAK,IAAII,EAAM,CACvBoB,IAAKF,EACLM,MAAOvD,KAAKJ,MAAM4D,OAAO,mBAE3BsK,EAAUnM,KAAK,IAAIjB,EAAM,CACvB8G,KAAMuG,EACNxK,MAAOvD,KAAKJ,MAAM4D,OAAO,4BAC3B,IAGFxD,KAAKkD,SAAS,C,UACZ4K,GAGJ,CAEQH,6BAA6BvI,GAQnC,MANAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAC3C,KAEI,IAAIrH,MAAM,mBAClB,CAEQoR,oBAAoB3P,GAE1B,MAAMuQ,EAA4ClR,KAAKC,MAAMU,GAE7D,IAAIwQ,EAEJ,GAAID,aAAwBE,MAC1BF,EAAaG,UAEbH,EAAa/M,SAASgD,IAEpB,MAAMmK,EAAc,IAAIC,KAAKpK,EAAQqK,MAChCL,GAAgBA,EAAaM,uBAAyBH,EAAYG,sBACrE1O,KAAK4N,UAAUjM,KAAK,IAAIkC,EAAQ,CAC9B8K,WAAW,EACXC,KAAM,GAAGL,EAAYM,aAAa7M,EAAOI,YAAYmM,EAAYO,cACjEtL,OAAQxD,KAAKJ,MAAM4D,UAGvB4K,EAAeG,EAEf,MAAMQ,EAAa,GAAGR,EAAYS,cAAcT,EAAYU,eACtDC,EAAOlO,EAAKC,SAASY,QAAQ,OAASuC,EAAQ+K,QAEpDnP,KAAK4N,UAAUjM,KAAK,IAAIkC,EAAQ,CAC9B8K,WAAW,EACXnL,OAAQxD,KAAKJ,MAAM4D,OACnBH,MAAOrD,KAAKJ,MAAMyD,MAClBmE,KAAMpD,EAAQgL,QACdX,KAAMM,EACNM,OAAQjL,EAAQkL,QAChBC,KAAMnL,EAAQmL,K,KACdL,IACF,IAGFlP,KAAKkD,SAAS,CACZsM,SAAUxP,KAAK4N,iBAGZ,GAA0B,YAAtBO,EAAa3N,KAAoB,CAE1C,MAAM+N,EAAc,IAAIC,KAAKL,EAAaM,MACpCM,EAAa,GAAGR,EAAYS,cAAcT,EAAYU,eACtDC,EAAOlO,EAAKC,SAASY,QAAQ,OAASsM,EAAagB,QAEzDnP,KAAK4N,UAAUjM,KAAK,IAAIkC,EAAQ,CAC9B8K,WAAW,EACXnL,OAAQxD,KAAKJ,MAAM4D,OACnBH,MAAOrD,KAAKJ,MAAMyD,MAClBmE,KAAM2G,EAAaiB,QACnBX,KAAMM,EACNM,OAAQlB,EAAamB,QACrBC,KAAMpB,EAAaoB,K,KACnBL,KAEFlP,KAAKkD,SAAS,CACZsM,SAAUxP,KAAK4N,WAEnB,CACF,CAEA9N,SAEE,MAGM2P,EAA0B,IAAI1N,EAAM,CACxCoB,IAAKnD,KAAKJ,MAAMyD,MAAMqM,UACtBnM,MAAOvD,KAAKJ,MAAM4D,OAAO,kBACzB4C,OAAQ,CACNC,MAAO,MACL,EAAA8F,EAAAC,WAAU,SAAU,IAAII,EAAYxM,KAAKJ,OAAK,KAK9C+P,EAAe,IAAIpP,EAAM,CAC7BC,KAAM,WACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,oCACvDzE,KAAM,UACNoK,eAAgB,UAChBC,YAAa,cAGTwG,EAAW,IAAI9O,EAAK,CACxByC,MAAOvD,KAAKJ,MAAM4D,OAAO,gBACzBoJ,iBAAkB5M,KAAKJ,MAAM4D,OAAO,eACpCkJ,eAAgB1M,KAAKJ,MAAMyD,MAAMwM,MACjCC,UAAW,sBACX1J,OAAQ,CACNC,MAAO,KAEL,MAAMnB,EAAS,CAACyK,GAEVvK,EAAqC,CAAC,EAC5C,IAAID,GAAc,EAiClB,GAhCAD,EAAO6K,KAAKzK,IACV,MAAMqB,EAAKrB,EAAMd,QACXwL,EAAmBzL,EAAQoC,GACjC,GAAKqJ,EAAiBlL,MAcf,CAEL,MAAM/F,EAAO4H,EAAGsJ,aAAa,SACvBxT,MAAEA,GAAUkK,EACd5H,IACFqG,EAASrG,GAAQtC,GAEnBkK,EAAGE,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBACtC,MAAM2M,EAAYxJ,EAAGyJ,mBACjBD,GAAaA,EAAUE,YAAcF,aAAqBG,EAAAC,YAC5DJ,EAAUE,WAAWG,YAAYL,EAErC,KA1B6B,CAC3BhL,GAAc,EACdwB,EAAGE,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBAEnC,MAAM2M,EAAYxJ,EAAGyJ,mBACjBD,GAAaA,EAAUE,YAAcF,aAAqBG,EAAAC,YAC5DJ,EAAUE,WAAWG,YAAYL,GAGnC,MAAMzJ,EAAQ,IAAI,EAAA4J,EAAAC,YAAW,CAC3B/I,KAAMwI,EAAiBhH,OACvBzF,MAAOvD,KAAKJ,MAAM4D,OAAO,iBAE3BmD,EAAG8J,sBAAsB,WAAY/J,EAAMgK,aAC7C,CAYA,IAGEvL,EACF,IACEnF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOiO,qBAAsBzL,GACjElF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOkO,mBAAoB1L,EACjE,CAAE,MAAOwB,GACP9B,QAAQC,IAAI,0BAA2B6B,EACzC,MAQR,OAAO,EAAA3G,EAAAL,SAAQ0N,EAAM,C,wBACnBqC,E,aACAE,E,UAhFoB,G,SADM,G,SAoF1BC,KACG5P,KAAKJ,OAEZ,E,IChKEiR,GA1FyBzT,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,wBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kBAAoBA,EAASJ,IACnJ,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,qBACwW,OAAtWI,SAAUC,EAA8I,OAAnIA,EAASW,EAAef,EAAQ,uBAAmC,MAAVD,EAAiBgB,EAAehB,EAAO,qBAAuBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,oBAAoBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IACxX,0DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,gBAAkBA,EAASJ,IACjJ,8CAC2V,OAAzVI,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC3W,oDACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,wBAA0BA,EAASJ,IACzJ,IACAQ,EAAOF,EAAgF,OAAvEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,QAAUA,GAAmBgB,EAAeZ,EAAO,gBAAkBA,EAASJ,IAC/I,oCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,iCAAmCA,EAASJ,IAClK,mCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,uCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,2BAA6BA,EAASJ,IAC5J,kDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,4BAA8BA,EAASJ,IAC7J,IACAQ,EAAOF,EAAgF,OAAvEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,QAAUA,GAAmBgB,EAAeZ,EAAO,SAAWA,EAASJ,IACxI,kEACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,uCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,2BAA6BA,EAASJ,IAC5J,kDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,4BAA8BA,EAASJ,IAC7J,IACAQ,EAAOF,EAAgF,OAAvEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,QAAUA,GAAmBgB,EAAeZ,EAAO,SAAWA,EAASJ,IACxI,kEACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,uCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,2BAA6BA,EAASJ,IAC5J,gDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,4BAA8BA,EAASJ,IAC7J,IACAQ,EAAOF,EAAgF,OAAvEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,QAAUA,GAAmBgB,EAAeZ,EAAO,cAAgBA,EAASJ,IAC7I,kEACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,uCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,2BAA6BA,EAASJ,IAC5J,oDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,4BAA8BA,EAASJ,IAC7J,IACAQ,EAAOF,EAAgF,OAAvEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,QAAUA,GAAmBgB,EAAeZ,EAAO,eAAiBA,EAASJ,IAC9I,kEACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,uCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,2BAA6BA,EAASJ,IAC5J,uDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,4BAA8BA,EAASJ,IAC7J,IACAQ,EAAOF,EAAgF,OAAvEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,QAAUA,GAAmBgB,EAAeZ,EAAO,gBAAkBA,EAASJ,IAC/I,kEACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,uCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,2BAA6BA,EAASJ,IAC5J,oDACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,4BAA8BA,EAASJ,IAC7J,IACAQ,EAAOF,EAAgF,OAAvEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,QAAUA,GAAmBgB,EAAeZ,EAAO,SAAWA,EAASJ,IACxI,4FACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,yBACiW,OAA/VI,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACjX,oDACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,yBAC6W,OAA3WI,SAAUC,EAAgJ,OAArIA,EAASW,EAAef,EAAQ,wBAAoC,MAAVD,EAAiBgB,EAAehB,EAAO,sBAAwBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,qBAAqBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC7X,oDACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,yBAC+U,OAA7UI,SAAUC,EAA4H,OAAjHA,EAASW,EAAef,EAAQ,cAA0B,MAAVD,EAAiBgB,EAAehB,EAAO,YAAcA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,WAAWC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC/V,sEACN,EAAEyB,SAAU,I,2CCvBRwR,GAlEyB1T,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,wBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,yBAA2BA,EAASJ,IAC1J,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,qBAC0X,OAAxXI,SAAUC,EAA0J,OAA/IA,EAASW,EAAef,EAAQ,6BAAyC,MAAVD,EAAiBgB,EAAehB,EAAO,2BAA6BA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,0BAA0BC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAC1Y,0DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,gBAAkBA,EAASJ,IACjJ,qBACwV,OAAtVI,SAAUC,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACxW,8BACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,iCAAmCA,EAASJ,IAClK,mCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACqV,OAAnVI,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,4BACqV,OAAnVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,4DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACqV,OAAnVI,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,4BACqV,OAAnVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,4DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACiW,OAA/VI,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACjX,4BACiW,OAA/VA,SAAUC,EAAwI,OAA7HA,EAASW,EAAef,EAAQ,oBAAgC,MAAVD,EAAiBgB,EAAehB,EAAO,kBAAoBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,iBAAiBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACjX,4DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACoW,OAAlWI,SAAUC,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACpX,4BACoW,OAAlWA,SAAUC,EAA0I,OAA/HA,EAASW,EAAef,EAAQ,qBAAiC,MAAVD,EAAiBgB,EAAehB,EAAO,mBAAqBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,kBAAkBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACpX,4DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACuW,OAArWI,SAAUC,EAA4I,OAAjIA,EAASW,EAAef,EAAQ,sBAAkC,MAAVD,EAAiBgB,EAAehB,EAAO,oBAAsBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,mBAAmBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACvX,4BACuW,OAArWA,SAAUC,EAA4I,OAAjIA,EAASW,EAAef,EAAQ,sBAAkC,MAAVD,EAAiBgB,EAAehB,EAAO,oBAAsBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,mBAAmBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACvX,4DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACqV,OAAnVI,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,4BACqV,OAAnVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,oEAC2V,OAAzVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC3W,oBACqV,OAAnVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,4CACN,EAAEyB,SAAU,I,2CCjBRyR,GAhDyB3T,EADzBL,EAAA,UACoCM,SAAS,CAACC,SAAW,CAAC,EAAE,YAAYC,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC1H,IAAIC,EAAQC,EAAQC,EAAOP,EAAUQ,OAAQC,EAAOT,EAAUU,iBAAkBC,EAAiB,MAAVV,EAAiBA,EAAUD,EAAUY,aAAe,CAAC,EAAIC,EAAOb,EAAUc,MAAMC,cAAeC,EAAO,WAAYC,EAAiBjB,EAAUiB,gBAAkB,SAASC,EAAQC,GACnQ,GAAI7C,OAAO8C,UAAUC,eAAeC,KAAKJ,EAAQC,GAC/C,OAAOD,EAAOC,EAGpB,EAEF,MAAO,eACHV,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,qBAAuBA,EAASJ,IACtJ,wBACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,kCAAoCA,EAASJ,IACnK,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,qBACgY,OAA9XI,SAAUC,EAA8J,OAAnJA,EAASW,EAAef,EAAQ,+BAA2C,MAAVD,EAAiBgB,EAAehB,EAAO,6BAA+BA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,4BAA4BC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,EAAEC,OAAS,IAAIC,IAAM,CAACF,KAAO,EAAEC,OAAS,OAAStB,GAAoBD,EAAS,IAChZ,0DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,0BAA4BA,EAASJ,IAC3J,2BACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,gBAAkBA,EAASJ,IACjJ,qBACwV,OAAtVI,SAAUC,EAAkI,OAAvHA,EAASW,EAAef,EAAQ,iBAA6B,MAAVD,EAAiBgB,EAAehB,EAAO,eAAiBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,cAAcC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACxW,8BACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,iCAAmCA,EAASJ,IAClK,mCACAQ,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACuW,OAArWI,SAAUC,EAA4I,OAAjIA,EAASW,EAAef,EAAQ,sBAAkC,MAAVD,EAAiBgB,EAAehB,EAAO,oBAAsBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,mBAAmBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACvX,4BACuW,OAArWA,SAAUC,EAA4I,OAAjIA,EAASW,EAAef,EAAQ,sBAAkC,MAAVD,EAAiBgB,EAAehB,EAAO,oBAAsBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,mBAAmBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACvX,4DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BACuW,OAArWI,SAAUC,EAA4I,OAAjIA,EAASW,EAAef,EAAQ,sBAAkC,MAAVD,EAAiBgB,EAAehB,EAAO,oBAAsBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,mBAAmBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACvX,4BACuW,OAArWA,SAAUC,EAA4I,OAAjIA,EAASW,EAAef,EAAQ,sBAAkC,MAAVD,EAAiBgB,EAAehB,EAAO,oBAAsBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,mBAAmBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACvX,4DACAI,EAAOF,EAAkF,OAAzEF,EAAoB,MAAVJ,EAAiBgB,EAAehB,EAAO,UAAYA,GAAmBgB,EAAeZ,EAAO,sBAAwBA,EAASJ,IACvJ,6BAC0W,OAAxWI,SAAUC,EAA8I,OAAnIA,EAASW,EAAef,EAAQ,uBAAmC,MAAVD,EAAiBgB,EAAehB,EAAO,qBAAuBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,oBAAoBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC1X,4BAC0W,OAAxWA,SAAUC,EAA8I,OAAnIA,EAASW,EAAef,EAAQ,uBAAmC,MAAVD,EAAiBgB,EAAehB,EAAO,qBAAuBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,oBAAoBC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC1X,oEAC2V,OAAzVA,SAAUC,EAAoI,OAAzHA,EAASW,EAAef,EAAQ,kBAA8B,MAAVD,EAAiBgB,EAAehB,EAAO,gBAAkBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,eAAeC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IAC3W,oBACqV,OAAnVA,SAAUC,EAAgI,OAArHA,EAASW,EAAef,EAAQ,gBAA4B,MAAVD,EAAiBgB,EAAehB,EAAO,cAAgBA,IAAmBK,EAASO,KAA2BG,EAASV,EAAOgB,KAAKX,EAAO,CAACY,KAAO,aAAaC,KAAO,CAAC,EAAEpB,KAAOA,EAAKqB,IAAM,CAACC,MAAQ,CAACC,KAAO,GAAGC,OAAS,IAAIC,IAAM,CAACF,KAAO,GAAGC,OAAS,OAAStB,GAAoBD,EAAS,IACrW,4CACN,EAAEyB,SAAU,I,2CCjDZ0R,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,G,q0JAxGAxG,GAA2B,gBAC3BC,GAA2C,gCAC3CC,GAA0B,eAC1BC,GAA0B,eAC1BC,GAA+B,oBAC/BC,GAAwC,6BACxCC,GAA8B,mBAC9BC,GAAgC,qBAChCC,GAAiC,sBACjCC,GAA8B,mBAC9BC,GAA8B,mBAC9BC,GAAsC,2BACtCC,GAAgD,qCAChDC,GAAsC,2BACtCC,GAAyB,cACzBC,GAA0B,eAC1BC,GAA+B,oBAC/BC,GAAsC,2BACtCC,GAA8C,mCAC9CC,GAAgD,qCAChDC,GAAuC,4BACvCC,GAA+C,oCAC/CC,GAAiD,sCACjDC,GAAmC,wBACnCC,GAAwC,6BACxCC,GAAyC,8BACzCC,GAAyC,8BACzCC,GAA8B,mBAC9BC,GAA2C,gCAC3CC,GAAsC,2BACtCC,GAAqC,0BACrCC,GAAiD,sCACjDC,GAAgC,qBAChCC,GAAqC,0BACrCC,GAAuC,4BACvCC,GAAkC,uBAClCC,GAA2C,gCAC3CC,GAAwC,6BACxCC,GAAkD,uCAClDC,GAA8C,mCAC9CC,GAA2C,gCAC3CC,GAAmD,wCACnDC,GAAmC,wBACnCC,GAAgD,qCAChDC,GAAsC,2BACtCC,GAA+C,oCAC/CC,GAAoD,yCACpDC,GAA8C,mCAC9CC,GAAqD,0CACrDC,GAAmD,wCACnDC,GAAwC,6BACxCC,GAA4C,iCAC5CC,GAAkC,uBAClCC,GAA6C,kCAC7CC,GAAmD,wCACnDC,GAA2C,gCAC3CC,GAAiC,sBACjCC,GAAgC,qBAChCC,GAAsC,2BACtCC,GAAmC,wBACnCC,GAA0C,+BAC1CC,GAA2C,gCAC3CC,GAAiC,sBACjCC,GAAyC,8BACzCC,GAA2C,gCAC3CC,GAAoD,yCACpDC,GAA+C,oCAC/CC,GAAyC,8BACzCC,GAAkD,uCAClDC,GAAuC,4BACvCC,GAA4C,iCAC5CC,GAA6C,kCAC7CC,GAAsC,2BACtCC,GAAkD,uCAClDC,GAAsD,2CACtDC,GAA2C,gCAC3CC,GAAwC,6BACxCC,GAA0C,+BAC1CC,GAA+C,oCAC/CC,GAA+C,oCAC/CC,GAAmD,wCACnDC,GAAwD,6CACxDC,GAAwC,6BACxCC,GAAgC,qBAChCC,GAA2B,gBAC3BC,GAAuD,4CACvDC,GAAsC,2BACtCC,GAA6C,kCAC7CC,GAA+C,oCAC/CC,GAAqC,0BACrCC,GAAuC,4BACvCC,GAAyC,8BACzCC,GAAsC,2BACtCC,GAAkC,uBAClCC,GAAoC,yBACpCC,GAAqC,0BACrCC,GAAuC,4BACvCC,GAAmC,wBACnCC,GAAoC,yBACpCC,GAAgC,qBAChCC,GAAsC,2BACtCC,GAA+B,oBAC/BC,GAAmC,wBACnCC,GAAgC,qBAChCC,GAAyB,c,OCxGzBC,GAAiB1a,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,S,OCOtHC,GAAiB,CACf/H,MCRe9S,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,SDSpHE,UETe9a,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,SFUpHG,UGVe/a,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,SHWpHI,aIXehb,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,SJYpH3S,OKZejI,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,SLapH,cMbe5a,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,SNcpHjI,UOde3S,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,U,OPCtHK,GAAiB,CACfC,QQFelb,EAAA,SAAA2a,aAA6C,SAAW3a,EAAA,SAAA4a,QAA6C,UCAtHxL,EAAApP,EAAA,SAIe,MAAAmb,GASbvY,YAAYwY,EAAkBC,EAAWxY,GACvCI,KAAKqY,UAAYF,EACjBnY,KAAKsY,YAAcF,EACnBpY,KAAKuY,OAAS3Y,CAChB,CAEA4Y,SAASL,GACHnY,KAAKnD,MAAMsb,KACbnY,KAAKqY,UAAYF,EACjBnY,KAAKF,SAET,CAEA2Y,QACMzY,KAAK0Y,QACP1Y,KAAK0Y,OAAO3R,MAEhB,CAEAlK,MAAMsb,GACJ,OAAOA,IAAanY,KAAKqY,SAC3B,CAEAvY,SACOE,KAAK0Y,SACR1Y,KAAK0Y,OAAS1Y,KAAKsY,cAKrB,EAAAnM,EAAAC,WAAUpM,KAAKuY,OAAOI,UAAW3Y,KAAK0Y,OACxC,ECxCa,MAAAE,GAYbjZ,YAAYgZ,GAEV,GAAIC,GAAOC,WACT,OAAOD,GAAOC,WAGhB7Y,KAAK8Y,OAAS,GACd9Y,KAAK+Y,QAAUC,OAAOD,QACtB/Y,KAAKiZ,WAAaN,EAElBC,GAAOC,WAAa7Y,IACtB,CAEAkZ,IAAIf,EAAkBgB,GACpB,MAAMC,EAAQ,IAAIlB,GAAMC,EAAUgB,EAAO,CAAER,UAAW3Y,KAAKiZ,aAI3D,OAFAjZ,KAAK8Y,OAAOnX,KAAKyX,GAEVpZ,IACT,CAEAd,QACE0F,QAAQC,IAAIwU,SAASlB,UAErBa,OAAOM,WAAeC,IACpBvZ,KAAKwZ,SAASD,EAAOjS,cAAyB+R,SAASlB,SAAQ,CAEnE,CAEAqB,SAASrB,GACP,MAAMiB,EAAQpZ,KAAKyZ,SAAStB,GACvBiB,IAIDpZ,KAAK0Z,eAAiB1Z,KAAK0Z,gBAAkBN,GAC/CpZ,KAAK0Z,cAAcjB,QAGrBzY,KAAK0Z,cAAgBN,EACrBA,EAAMtZ,SACR,CAEA6Z,GAAGxB,GACDnY,KAAK+Y,QAAQa,UAAU,CAAC,EAAG,GAAIzB,GAC/BnY,KAAKwZ,SAASrB,EAChB,CAEA0B,OACE7Z,KAAK+Y,QAAQc,MACf,CAEAC,UACE9Z,KAAK+Y,QAAQe,SACf,CAEAL,SAAStB,GACP,OAAOnY,KAAK8Y,OAAOiB,MAAKX,GAASA,EAAMvc,MAAMsb,IAC/C,CAEA6B,kBACE,OAAOha,KAAK0Z,aACd,E,aC9EF,IAAAO,G,IAAKC,OAAAD,QAAA,KACH,UADGC,GAEH,YAFGA,GAGH,UAHGA,GAIH,gBAca,MAAAC,GAIbxa,YAAYya,GACVpa,KAAKqa,SAAWD,CAClB,CAEAE,IAAI/d,EAAage,GAbnB,IAAwB3c,EAkBpB,OAJI2c,GAAWA,EAAQ3c,OACrBrB,GAAO,KAfWqB,EAeU2c,EAAQ3c,KAdjC9B,OAAO8J,QAAQhI,GAAMmS,KAAI,EAAE1O,EAAK5E,KAC9B+d,mBAAmBnZ,GAAO,IAAMmZ,mBAAmB/d,KACzDge,KAAK,MAaJF,EAAQ3c,KAAO,CAAC,GAEXoC,KAAK0a,QAAQ1a,KAAKqa,SAAW9d,EAAK,IAAKge,EAASI,OAAQV,GAAOW,KACxE,CAEAC,KAAKte,EAAage,GAChB,OAAOva,KAAK0a,QAAQ1a,KAAKqa,SAAW9d,EAAK,IAAKge,EAASI,OAAQV,GAAOa,MACxE,CAEAC,IAAIxe,EAAage,GACf,OAAOva,KAAK0a,QAAQ1a,KAAKqa,SAAW9d,EAAK,IAAKge,EAASI,OAAQV,GAAOe,KACxE,CAEAC,OAAO1e,EAAage,GAClB,OAAOva,KAAK0a,QAAQ1a,KAAKqa,SAAW9d,EAAK,IAAKge,EAASI,OAAQV,GAAOiB,QACxE,CAEAR,QAAQne,EAAage,EAAmB,CAAEI,OAAQV,GAAOW,MACvD,MAAMO,QAAEA,EAAU,CAAE,eAAgB,oBAAmBR,OAAGA,EAAM/c,KAAEA,GAAS2c,EAE3E,OAAO,IAAIa,SAAQ,CAACzD,EAAS0D,KAC3B,MAAMvY,EAAM,IAAIwY,eAEhBxY,EAAIyY,KAAKZ,EAAkBpe,GAC3BuG,EAAI0Y,iBAAkB,EAEtB,IAAIC,GAAO,EAuBX,GApBA3f,OAAOD,KAAKsf,GAAS/Z,SAASC,IACF,iBAAtBA,EAAIqa,eAAmE,wBAA/BP,EAAQ9Z,GAAKqa,cACvDD,GAAO,EAEP3Y,EAAI6Y,iBAAiBta,EAAK8Z,EAAQ9Z,GAAI,IAI1CyB,EAAI8Y,OAAS,WACX,MAAMC,OAAEA,GAAW/Y,EACnB,OAAe,MAAX+Y,GAA6B,MAAXA,EACblE,EAAQ7U,GAEVuY,EAAOvY,EAChB,EAEAA,EAAIgZ,QAAUT,EACdvY,EAAIiZ,QAAUV,EACdvY,EAAIkZ,UAAYX,EAEZV,IAAWV,GAAOW,KAAQhd,EAEvB,CAEL,MAAMqe,EAAIR,EAAOxe,KAAKif,UAAUte,GAAQA,EACxCkF,EAAIqZ,KAAKF,EACX,MALEnZ,EAAIqZ,MAKN,GAEJ,EC9Ea,MAAAC,GAIbzc,YAAY0c,GACVrc,KAAKsc,KAAO,IAAInC,GAAckC,EAChC,CAEAE,YAAmBxZ,GAEjB,aADuB/C,KAAKsc,KAAKzB,KAAK,eAAgB,CAAEjd,KAAMmF,KAC9CC,YAClB,CAEAuZ,aAAoBxZ,GAElB,aADuB/C,KAAKsc,KAAKzB,KAAK,eAAgB,CAAEjd,KAAMmF,KAC9CC,YAClB,CAEAuZ,eAEE,aADuBvc,KAAKsc,KAAKzB,KAAK,iBACtB7X,YAClB,CAEAuZ,gBAEE,aADuBvc,KAAKsc,KAAKhC,IAAI,aAEvC,ECtBa,MAAAkC,GAIb7c,YAAY0c,GACVrc,KAAKsc,KAAO,IAAInC,GAAckC,EAChC,CAEAE,mBAA0B3e,GAExB,aADuBoC,KAAKsc,KAAKvB,IAAI,iBAAkB,C,KAAEnd,KACzCoF,YAClB,CAEAuZ,eAAsBxZ,GAEpB,aADuB/C,KAAKsc,KAAKvB,IAAI,gBAAiB,CAAEnd,KAAMmF,KAC9CC,YAClB,CAEAuZ,eAAsB3e,GAEpB,aADuBoC,KAAKsc,KAAKzB,KAAK,eAAgB,C,KAAEjd,GAE1D,CAEA2e,mBAA0B3e,GAOxB,aANuBoC,KAAKsc,KAAKvB,IAAI,uBAAwB,C,KAC3Dnd,EACAud,QAAS,CACP,eAAgB,wBAItB,E,aC3Ba,MAAAsB,GAIb9c,YAAY0c,GACVrc,KAAKsc,KAAO,IAAInC,GAAckC,EAChC,CAEAE,aAEE,aADuBvc,KAAKsc,KAAKhC,IAAI,SAEvC,CAEAiC,aAAoB3e,GAElB,aADuBoC,KAAKsc,KAAKzB,KAAK,SAAU,C,KAAEjd,KAClCoF,YAClB,CAEAuZ,aAAoB3e,GAElB,aADuBoC,KAAKsc,KAAKrB,OAAO,SAAU,C,KAAErd,GAEtD,CAEA2e,cAAqB3e,GAEnB,aADuBoC,KAAKsc,KAAKvB,IAAI,eAAgB,C,KAAEnd,GAEzD,CAEA2e,iBAAwB3e,GAEtB,aADuBoC,KAAKsc,KAAKrB,OAAO,eAAgB,C,KAAErd,GAE5D,CAEA2e,eAAsB9R,GAEpB,aADuBzK,KAAKsc,KAAKzB,KAAK,gBAAgBpQ,IAExD,CAEA8R,eAAsB9R,GAEpB,aADuBzK,KAAKsc,KAAKhC,IAAI,UAAU7P,UAEjD,CAEA8R,mBAA0B3e,GAOxB,aANuBoC,KAAKsc,KAAKvB,IAAI,gBAAiB,C,KACpDnd,EACAud,QAAS,CACP,eAAgB,wBAItB,E,0BC1Da,MAAAuB,GAIbC,QAAQ/e,GAENoC,KAAK4c,QAAU,IAAIC,UACjB,GAAG7a,EAAOG,gBAAgBvE,EAAK4M,UAAU5M,EAAK6M,UAAU7M,EAAK8D,SAG/D1B,KAAK4c,QAAQE,iBAAiB,WAAYxW,IACxC7D,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO4K,kBAAmBhH,EAAE1I,KAAI,IAGvFoC,KAAK4c,QAAQE,iBAAiB,QAAQ,KACpC9c,KAAK+c,OAAO,GACZ/c,KAAKgd,MAAI,IAGXhd,KAAK4c,QAAQE,iBAAiB,SAAS,KACrClY,QAAQC,IAAI,oBAIhB,CAEAsX,KAAKve,GACHoC,KAAK4c,QAAQT,KAAKlf,KAAKif,UAAUte,GACnC,CAEAmf,OAAOE,GACLjd,KAAK4c,QAAQT,KAAKlf,KAAKif,UAAU,CAC/B9M,QAAS6N,EACTzc,KAAM,YAEV,CAEAwc,OACEhd,KAAKmc,KAAK,CAAE/M,QAAW,OAAQ5O,KAAQ,SAEvC0c,WAAWld,KAAKgd,KAAKna,KAAK7C,MAAO,IACnC,EC9BF,MAAMmd,GAAQrhB,OAAOshB,OAAOhgB,EAAAwa,IAAUxa,EAAA4a,KAEhCqF,GAAO,IAAIrc,EAEXsc,GAAS,IAAI1E,GAAO,QAEpB2E,GAAI,IAAI,EAAA9a,EAAA/C,SAER8d,GAAiB,IClBR,MAQb7d,YAAY8d,GACVzd,KAAK0d,QAAUD,EAEfzd,KAAK2d,SAAW,IAAIvB,GAAQpa,EAAOC,YACnCjC,KAAK4d,SAAW,IAAIpB,GAAQxa,EAAOC,WACrC,CAEAsa,aACE9Z,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmb,gBAC5Dpb,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+G,gBAC9D,CAEA8S,gBACE,IACE,MAAMxZ,QAAa/C,KAAK2d,SAASG,UACjCrb,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOqb,uBAAwBhb,EACtF,CAAE,MAAO2D,GACPjE,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOsb,sBAAuBtX,EACrF,CACF,CAEA6V,aAAoB0B,GAClB,IACEje,KAAK2d,SAASO,SAEVD,GACFje,KAAK0d,QAAQ/D,GAAGsE,EAEpB,CAAE,MAAOvX,GACP9B,QAAQC,IAAI,qBAAsB6B,EACpC,CAEF,CAEA6V,YAAmBrX,EAAiB+Y,GAClC,MAAMlb,EAAqB,CAAEgB,MAAO,GAAIC,SAAU,IAElDkB,EAAO9D,SAAQkE,IACb,MAAMd,EAAUc,EAAMd,QACtBzB,EAAKyB,EAAQzF,MAA8ByF,EAAQ/H,KAAK,IAG1D,UACQuD,KAAK2d,SAAS5Z,MAAMhB,GAC1B/C,KAAK0d,QAAQ/D,GAAGsE,GAEhBxb,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOyb,qBAE9D,CAAE,MAAOzX,GACPjE,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO0b,oBAAqB1X,EACnF,CACF,CAEA6V,aAAoBrX,EAAiB+Y,GACnC,MAAMrgB,EAAiB,CAAC,EAExBsH,EAAO9D,SAAQkE,IACb,MAAMd,EAAUc,EAAMd,QAChB5G,EAAM4G,EAAQzF,MAAQyF,EAAQ/H,KAAK,IAG3C,UACQuD,KAAK2d,SAASU,OAAOzgB,GAC3BoC,KAAK0d,QAAQ/D,GAAGsE,GAChBxb,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO4b,sBAE9D,CAAE,MAAO5X,GACPjE,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO6b,qBAAsB7X,EACpF,CACF,CAEA6V,eAAsBrX,EAAiBqV,GACrC,MAAM3c,EAAwB,CAAEmG,MAAO,IAEvCmB,EAAO9D,SAAQkE,IACb,MAAMd,EAAUc,EAAMd,QAChB5G,EAAM4G,EAAQzF,MAAQyF,EAAQ/H,KAAK,IAG3C,IACE,MAAM+hB,QAAexe,KAAK4d,SAASa,SAAS7gB,GACtCiQ,EAAQ5Q,KAAKC,MAAMshB,EAAOxb,cAChC,IACI0b,EADAC,GAAQ,EASZ,GANA9Q,EAAMzM,SAASwd,IACTA,EAAE7a,QAAUnG,EAAKmG,QACnB4a,GAAQ,EACRD,EAASE,EACX,IAEGD,EAIHlc,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAKkS,EAAQxP,aAAc2T,OAJlD,CACV,MAAMhY,EAAQzJ,KAAKif,UAAU,CAAElT,OAAQ,mBACvCvG,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAKkS,EAAQvP,YAAatE,EAC7D,CAIF,CAAE,MAAOA,GACPjE,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAKkS,EAAQvP,YAAatE,EAC7D,CACF,CAEA6V,eAAsBrX,GACpB,MAAMtH,EAAiB,CAAC,EAExBsH,EAAO9D,SAAQkE,IACb,MAAMd,EAAUc,EAAMd,QAChB5G,EAAM4G,EAAQzF,MAAQyF,EAAQ/H,KAAK,IAG3C,UACQuD,KAAK4d,SAASiB,SAASjhB,GAC7B6E,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOoc,wBAAyBlhB,EAEvF,CAAE,MAAO8I,GACPjE,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOqc,uBAAwBrY,EACtF,CACF,CAEA6V,mBAA0BrX,GACxB,MAAMtH,EAAwB,CAAEohB,YAAa,GAAIC,YAAa,IAE9D/Z,EAAO9D,SAAQkE,IACb,MAAMd,EAAUc,EAAMd,QAChB5G,EAAM4G,EAAQzF,MAAQyF,EAAQ/H,KAAK,IAG3C,UACQuD,KAAK4d,SAASsB,aAAathB,GACjC6E,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOyc,4BAE9D,CAAE,MAAOzY,GACPjE,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO0c,2BAA4B1Y,EAC1F,CACF,CAEA6V,mBAA0BnX,GAExB,IACE,IAAK,IAAI/D,KAAO+D,EAASvJ,OACvB+I,QAAQC,IAAIxD,EAAK+D,EAASkV,IAAIjZ,IAEhC,MAAMmd,QAAexe,KAAK4d,SAASyB,aAAaja,GAChD3C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOC,4BAA6B6b,EAE3F,CAAE,MAAO9X,GACPjE,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO8D,2BAA4BE,EAC1F,CACF,GD3IwC4W,IACpCgC,GAAiB,IExBR,MAIb3f,cACEK,KAAKuf,SAAW,IAAI9C,GAAQza,EAAOC,WACrC,CAEAsa,iBAEE,IACE,MAAM3e,QAAaoC,KAAKuf,SAASC,OACjC/c,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+c,wBAAyB7hB,EACvF,CAAE,MAAO8I,GACP9B,QAAQC,IAAI,oBAAqB6B,EACnC,CACF,CAEA6V,iBAAwBrX,GAEtB,MAAMtH,EAA0B,CAAEuG,MAAO,IAEzCe,EAAO9D,SAAQkE,IACb,MAAMd,EAAUc,EAAMd,QAChB5G,EAAM4G,EAAQzF,MAAQyF,EAAQ/H,KAAK,IAG3C,UACQuD,KAAKuf,SAASG,OAAO9hB,GAC3B6E,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmG,0BAC9D,CAAE,MAAOnC,GACP9B,QAAQC,IAAI,sBAAuB6B,EACrC,CACF,CAEA6V,mBAA0BtgB,GACxB,IACE,MAAMuiB,QAAexe,KAAKuf,SAAS3d,SAAS3F,GACtCyF,EAAQzE,KAAKC,MAAMshB,EAAOxb,cAActB,MAC9Ce,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOid,4BAA6B,C,GACvF1jB,E,MACAyF,GAGJ,CAAE,MAAOgF,GACP9B,QAAQC,IAAI,yBAA0B6B,EACxC,CACF,CAEA6V,mBAA0B9R,GACxB,IACE,MAAM+T,QAAexe,KAAKuf,SAASK,SAASnV,GACtCoD,EAAQ5Q,KAAKC,MAAMshB,EAAOxb,cAChCP,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO8K,4BAA6B,C,OACvF/C,E,MACAoD,GAGJ,CAAE,MAAOnH,GACP9B,QAAQC,IAAI,yBAA0B6B,EACxC,CACF,CAEA6V,kBAAyB3e,GAEvB,UACQoC,KAAKuf,SAASM,QAAQ,CAC1BhS,MAAO,CAAEjQ,EAAK4M,QACdC,OAAQ7M,EAAK6M,SAEfhI,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO2H,2BAC9D,CAAE,MAAO3D,GACP9B,QAAQC,IAAI,wBAAyB6B,EACvC,CACF,CAEA6V,qBAA4B3e,GAE1B,UACQoC,KAAKuf,SAASO,WAAW,CAC7BjS,MAAO,CAAEjQ,EAAK4M,QACdC,OAAQ7M,EAAK6M,SAEfhI,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+I,8BAC9D,CAAE,MAAO/E,GACP9B,QAAQC,IAAI,2BAA4B6B,EAC1C,CACF,CAEA6V,iBAAwB9R,GAEtB,UACQzK,KAAKuf,SAAStE,OAAO,C,OACzBxQ,IAEFhI,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOsJ,0BAC9D,CAAE,MAAOtF,GACP9B,QAAQC,IAAI,sBAAuB6B,EACrC,CACF,GF1EIqZ,GAAqB,IG3BZ,MAIbpgB,cACEK,KAAKggB,OAAS,IAAItD,EACpB,CAEAuD,YAAYriB,GACVoC,KAAKggB,OAAOrD,QAAQ/e,EACtB,CAEAsiB,YAAYhb,GAEV,MAAMV,EAAUU,EAAO,GAAGV,QAEpB5G,EAAkB,CACtBwR,QAAS5K,EAAQ/H,MAAQ+H,EAAQ/H,MAAQ,GACzC+D,KAAM,WAGRR,KAAKggB,OAAO7D,KAAKve,EACnB,GHSIuiB,GAAY,IADH,C,OAAEC,G,MAAQjD,G,OAAO/f,EAAAqa,K,OACD6F,IAEzB+C,GAAQ,II1BP,cAAoBta,EAIzBpG,YAAYC,GACVC,MAAM,MAAOD,GACbI,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAO4d,sBAAuBtgB,KAAKugB,uBAAuB1d,KAAK7C,OACjGA,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAO0b,oBAAqBpe,KAAKwgB,qBAAqB3d,KAAK7C,OAC7FA,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAOyb,qBAAsBne,KAAKygB,sBAAsB5d,KAAK7C,MACjG,CAEQugB,uBAAuBnb,GAQ7B,MANAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAC3C,KAEI,IAAIrH,MAAM,mBAClB,CAEQskB,wBACNzgB,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmb,gBAC3C7d,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+G,gBAC7C,CAEQ+W,qBAAqB5iB,GAC3B,MAAM4J,EAAOvK,KAAKC,MAAMU,EAAKoF,cAAcgG,OAC3ChJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAE7B9B,QAAQC,IAAI,mBAAoB2C,EAClC,CAEQkZ,eAAenH,GACrB,MAAM/U,EAAU+U,EAAM3S,OACGrC,EAAQC,GAGXM,MAGpBN,EAAQqC,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBAF3CgB,EAAQqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAK5C,CAEA1D,SAEE,MAAM6gB,EAAa,IAAIpgB,EAAM,CAC3BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,iBACvDzE,KAAM,QACNoK,eAAgB,QAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAI9BqJ,EAAe,IAAI1F,EAAa,CACpCJ,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkD,SAAS1G,KAAKJ,MAAM4D,OAAO,kBAGnDsd,EAAgB,IAAIvgB,EAAM,CAC9BC,KAAM,WACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,oBACvDzE,KAAM,WACNoK,eAAgB,WAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAI9B+gB,EAAc,IAAIvhB,EAAO,CAC7BgI,KAAM,iBACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAAUjI,KAAKJ,MAAM4D,OAAO,+BACxD4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEF,MAAMhD,EAAS,CAACyb,EAAYG,GAE5B,IACE9gB,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOse,eAAgB9b,GAC3DlF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOue,aAAc/b,EAAQ,aAEnE,CAAE,MAAOwB,GACP9B,QAAQC,IAAI,eAAgB6B,EAC9B,MAIAwa,EAAe,IAAI1hB,EAAO,CAC9BgI,KAAM,gBACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAAUjI,KAAKJ,MAAM4D,OAAO,iCACxD4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBACFlI,KAAKJ,MAAM6d,OAAO9D,GAAG,gBAKrBwH,EAAa,IAAIzgB,EAAM,CAC3B8G,KAAM,QACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAEnD6d,EAAgB,IAAI3gB,EAAM,CAC9B8G,KAAM,SACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAKzD,OAFAxD,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQvC,EAAM,CACnBqG,OAAQxD,KAAKJ,MAAM4D,O,YACnBud,E,aACAG,E,WACAC,E,cACAE,E,WACAV,E,cACAG,E,aACAzX,GAEJ,GJtGsB8W,IAElBmB,GAAS,IK9BR,cAAqBvb,EAI1BpG,YAAYC,GACVC,MAAM,MAAOD,GACbI,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAO6e,uBAAwBvhB,KAAKwhB,wBAAwB3e,KAAK7C,OACnGA,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAO6b,qBAAsBve,KAAKyhB,sBAAsB5e,KAAK7C,OAC/FA,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAO4b,sBAAuBte,KAAK0hB,uBAAuB7e,KAAK7C,MACnG,CAEQwhB,wBAAwBpc,GAQ9B,MANAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAC3C,KAEI,IAAIrH,MAAM,mBAClB,CAEQslB,sBAAsB7jB,GAE5B,MAAM4J,EAAOvK,KAAKC,MAAMU,EAAKoF,cAAcgG,OAC3ChJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAE7B9B,QAAQC,IAAI,oBAAqB2C,EACnC,CAEQka,yBACN1hB,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmb,gBAC3C7d,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+G,gBAC7C,CAGQiX,eAAenH,GACrB,MAAM/U,EAAU+U,EAAM3S,OAMtB,GALKrC,EAAQC,GAASM,MAGpBN,EAAQqC,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBAF3CgB,EAAQqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBAItB,aAAhBgB,EAAQzF,KAAqB,CAC/B,MAAM4iB,EAAYnd,EAASod,MAAMC,SAAoC7d,SACjE2d,GAAand,EAAQ/H,QAAUklB,EAAUllB,OAC3C+H,EAAQqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAE5C,CACF,CAEA1D,SAEE,MAAMgiB,EAAa,IAAIvhB,EAAM,CAC3BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,iBACvDzE,KAAM,QACNoK,eAAgB,QAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9B2gB,EAAa,IAAIpgB,EAAM,CAC3BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,iBACvDzE,KAAM,QACNoK,eAAgB,QAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9B+hB,EAAiB,IAAIxhB,EAAM,CAC/BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,sBACvDzE,KAAM,aACNoK,eAAgB,OAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9BgiB,EAAkB,IAAIzhB,EAAM,CAChCC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,uBACvDzE,KAAM,cACNoK,eAAgB,OAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9BiiB,EAAa,IAAI1hB,EAAM,CAC3BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,iBACvDzE,KAAM,QACNoK,eAAgB,QAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAI9B8gB,EAAgB,IAAIvgB,EAAM,CAC9BC,KAAM,WACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,oBACvDzE,KAAM,WACNoK,eAAgB,WAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9BkiB,EAAiB,IAAI3hB,EAAM,CAC/BC,KAAM,WACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,oBACvDzE,KAAM,YACNoK,eAAgB,yBAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAI9BqJ,EAAe,IAAI1F,EAAa,CACpCJ,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkD,SAAS1G,KAAKJ,MAAM4D,OAAO,kBAGnD0d,EAAe,IAAI1hB,EAAO,CAC9BgI,KAAM,qBACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAAUjI,KAAKJ,MAAM4D,OAAO,gCACxD4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEFlI,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,GACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,QAG7B,MAAMxB,EAAS,CACb4c,EAAYnB,EAAYoB,EAAgBC,EACxCC,EAAYnB,EAAeoB,GAG7B,IACEliB,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOyf,gBAAiBjd,GAC5DlF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO0f,cAAeld,EAAQ,SAEpE,CAAE,MAAOwB,GACP9B,QAAQC,IAAI,eAAgB6B,EAC9B,MAIAqa,EAAc,IAAIvhB,EAAO,CAC7BgI,KAAM,QACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAAUjI,KAAKJ,MAAM4D,OAAO,kCACxD4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBACFlI,KAAKJ,MAAM6d,OAAO9D,GAAG,SAMrB0I,EAAa,IAAI3hB,EAAM,CAC3B8G,KAAM,QACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAEnD2d,EAAa,IAAIzgB,EAAM,CAC3B8G,KAAM,QACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAEnD8e,EAAiB,IAAI5hB,EAAM,CAC/B8G,KAAM,MACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAEnD+e,EAAkB,IAAI7hB,EAAM,CAChC8G,KAAM,UACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAEnDgf,EAAa,IAAI9hB,EAAM,CAC3B8G,KAAM,UACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAEnD6d,EAAgB,IAAI3gB,EAAM,CAC9B8G,KAAM,SACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAEnDif,EAAiB,IAAI/hB,EAAM,CAC/B8G,KAAM,mBACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO4d,SAASphB,KAAKJ,MAAM4D,OAAO,kBAKzD,OAFAxD,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQsG,EAAM,CACnBxC,OAAQxD,KAAKJ,MAAM4D,O,WACnB6e,E,WACAlB,E,eACAmB,E,gBACAC,E,WACAC,E,cACAnB,E,eACAoB,E,WACAX,E,WACAnB,E,eACAoB,E,gBACAC,E,WACAC,E,cACAnB,E,eACAoB,E,aACA7Y,E,YACA0X,E,aACAG,GAEJ,GL/LwBf,IAEpBuC,GAAO,IMPN,cAAmB3c,EAIxBpG,YAAYC,GACVC,MAAM,MAAOD,GAEbI,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO+c,wBACtBzf,KAAK2iB,mBAAmB9f,KAAK7C,OAC/BA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOid,4BACtB3f,KAAK4iB,uBAAuB/f,KAAK7C,MACrC,CAEQ4iB,uBAAuBhlB,GAE7BoD,EAAKC,SAASK,SAAS,CACrBrF,GAAI2B,EAAK3B,GACTyF,MAAO9D,EAAK8D,QAGd1B,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmgB,mBAAoB,CAC7DrY,OAAQxJ,EAAKC,SAASY,QAAQ,MAC9B4I,OAAQ7M,EAAK3B,GACbyF,MAAO9D,EAAK8D,QAGd1B,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOgI,oBAAqB9M,EAAK3B,GACvE,CAEQ0mB,mBAAmB7f,GAEzB9C,KAAK8iB,WAAa,GACY7lB,KAAKC,MAAM4F,EAAIE,cAEvC5B,SAASK,IACb,IAAIsN,EAAa,GACjB,GAAItN,EAAKshB,cAActU,KAAM,CAC3B,MAAMA,EAAO,IAAID,KAAK/M,EAAKshB,aAAatU,MAGxCM,EAAa,GAFCiU,OAAOvU,EAAKO,YAAYiU,SAAS,EAAG,QAClCD,OAAOvU,EAAKQ,cAAcgU,SAAS,EAAG,MAExD,CACA,MAAMC,EAAazhB,EAAKshB,cAAc3T,QAAU3N,EAAKshB,aAAa3T,QAAU,GAE5E,IAAInM,EAASjD,KAAKJ,MAAMyD,MAAMN,KAE1BtB,EAAKwB,SACPA,EAASjB,EAAOE,YAAcT,EAAKwB,QAGrCjD,KAAK8iB,WAAWnhB,KAAK,IAAIf,EAAS,CAChCuD,MAAO1C,EAAK0C,MACZlB,OAAQA,EACRuE,KAAM0b,EACNpT,UAAW,OAAOrO,EAAK0C,QACvBgf,aAAc1hB,EAAK0hB,aACnB1U,KAAMM,EACNvL,OAAQxD,KAAKJ,MAAM4D,OACnB4C,OAAQ,CACNC,MAAO,KACL,IACE,MAAMzG,EAAQ,CAAE6K,OAAQhJ,EAAKxF,MAAO+D,KAAKJ,OACnCwjB,EAAe,IAAI/V,GAAazN,GACtCI,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO2gB,oBAAqB5hB,EAAKxF,KAErE,EAAAkQ,EAAAC,WAAU,gBAAiBgX,EAE7B,CAAE,MAAO1c,GACP9B,QAAQC,IAAI6B,EACd,MAGN,IAEF1G,KAAKkD,SAAS,CACZogB,UAAWtjB,KAAK8iB,YAEpB,CAEQpC,eAAenH,GACrB,MAAM/U,EAAU+U,EAAM3S,OACjBrC,EAAQC,GAASM,MAKpBN,EAAQqC,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBAJtCgB,EAAQqC,UAAUC,SAAS9G,KAAKJ,MAAM4D,OAAO,iBAChDgB,EAAQqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eAK9C,CAEA1D,SAEE,MAAMwjB,EAAwB,GAC9BtjB,KAAK8iB,WAAaQ,EAElB,MAAMC,EAAkB,IAAIziB,EAAK,CAC/B0G,KAAM,WACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,qBACzBggB,cAAexjB,KAAKJ,MAAMyD,MAAM0U,aAChCjI,UAAW,UACX1J,OAAQ,CACNC,MAAO,KACLrG,KAAKJ,MAAM6d,OAAO9D,GAAG,iBAKrB8J,EAAc,IAAI3iB,EAAK,CAC3B0G,KAAM,IACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,sBACzB4C,OAAQ,CACNC,MAAO,KACL,MAAMqd,EAAkB,IAAIlb,EAAgB,CAC1ChF,OAAQxD,KAAKJ,MAAM4D,UAGrB,EAAA2I,EAAAC,WAAU,SAAUsX,EAAA,KAKpBC,EAAc,IAAIpjB,EAAM,CAC5BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,sBACvDzE,KAAM,SACNqK,YAAa,IACbhD,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAIpC,OAAO,EAAAD,EAAAL,SAAQuG,EAAM,C,UACnBqd,E,gBACAC,E,YACAE,E,YACAE,KACG3jB,KAAKJ,OAEZ,GNtIoBugB,IAEhByD,GAAc,IOhCb,cAA0B7d,EAC/BpG,YAAYC,GACVC,MAAM,MAAOD,GAEbI,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAOmhB,iBAAkB7jB,KAAK8jB,mBAAmBjhB,KAAK7C,MAC1F,CAEQ8jB,mBAAmB/gB,GACzB/C,KAAKkD,SAAS,CACZH,KAAMA,EAAKlB,WAEf,CAEA/B,SACE,MAAMuf,EAAe,IAAIjc,EAAO,IAC3BpD,KAAKJ,MACRkQ,UAAW,SACX1J,OAAQ,CACNC,MAAO,MACL,EAAA8F,EAAAC,WAAU,SAAU,IAAIjG,EAAYnG,KAAKJ,OAAK,KAK9CmkB,EAAoB,IAAIjjB,EAAK,CACjCyC,MAAOvD,KAAKJ,MAAM4D,OAAO,gBACzBoJ,iBAAkB5M,KAAKJ,MAAM4D,OAAO,yBACpCkJ,eAAgB1M,KAAKJ,MAAMyD,MAAMwU,UACjC/H,UAAW,QACX1J,OAAQ,CACNC,MAAO,KACLrG,KAAKJ,MAAM6d,OAAO9D,GAAG,kBAKrBqK,EAAiB,IAAIljB,EAAK,CAC9ByC,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkE,QAAQ1H,KAAKJ,MAAM4D,OAAO,mCACtDgE,KAAM,kBACNsI,UAAW,kBACX1J,OAAQ,CACNC,MAAO,KACLrG,KAAKJ,MAAM6d,OAAO9D,GAAG,wBAIrBsK,EAAqB,IAAInjB,EAAK,CAClCyC,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkE,QAAQ1H,KAAKJ,MAAM4D,OAAO,uCACtDgE,KAAM,kBACNsI,UAAW,kBACX1J,OAAQ,CACNC,MAAO,KACLrG,KAAKJ,MAAM6d,OAAO9D,GAAG,0BAIrBuK,EAAW,IAAIpjB,EAAK,CACxByC,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkE,QAAQ1H,KAAKJ,MAAM4D,OAAO,4BACtDgE,KAAM,QACNsI,UAAW,QACX1J,OAAQ,CACNC,MAAO,KACLrG,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOyhB,cAAe,SAKhE,OAAO,EAAApkB,EAAAL,SAAQmR,GAAM,C,aACnBwO,E,kBACA0E,E,eACAC,E,mBACAC,E,SACAC,KACGlkB,KAAKJ,OAEZ,GP3CkCugB,IAE9BiE,GAAgB,IQhCf,cAA4Bre,EAIjCpG,YAAYC,GACVC,MAAM,MAAOD,GACbI,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO2hB,yBACtBrkB,KAAKskB,0BAA0BzhB,KAAK7C,OACtCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOqc,uBACtB/e,KAAKukB,wBAAwB1hB,KAAK7C,OACpCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOoc,wBACtB9e,KAAKwkB,yBAAyB3hB,KAAK7C,OAErCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOmhB,iBACtB7jB,KAAK8jB,mBAAmBjhB,KAAK7C,MACjC,CAEQ8jB,mBAAmB/gB,GACzB/C,KAAKkD,SAAS,CACZH,KAAMA,EAAKlB,WAEf,CAEQyiB,0BAA0Blf,GAShC,MAPAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBACzCgB,GAASigB,wBAAwB5d,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eACnE,KAEI,IAAIrH,MAAM,mBAClB,CAEQooB,wBAAwBG,GAC9B,MAAMld,EAAOvK,KAAKC,MAAMwnB,EAAI1hB,cAAcgG,OAC1ChJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,OAE/B,CAEQ8d,yBAAyBG,GAE/B,MAAM5hB,EAAO/B,EAAKC,SAClB8B,EAAK5B,QAAQwjB,GAEb3kB,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmhB,iBAAkB9gB,GAE7D/C,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,aACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,OAE/B,CAEQga,eAAenH,GACrB,MAAM/U,EAAU+U,EAAM3S,OAEhBoJ,EAAmBzL,EAAQC,GACjC,GAAKwL,EAAiBlL,MAYf,CACLN,EAAQqC,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBAC3CgB,EAAQigB,wBAAwB5d,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBACnE,MAAM2M,EAAY3L,EAAQ4L,mBACtBD,GAAaA,EAAUE,YAAcF,aAAqBG,EAAAC,YAC5DJ,EAAUE,WAAWG,YAAYL,EAErC,KAnB6B,CAE3B3L,EAAQqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBACxCgB,EAAQigB,wBAAwB5d,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBAChE,MAAM2M,EAAY3L,EAAQ4L,mBACtBD,GAAaA,EAAUE,YAAcF,aAAqBG,EAAAC,YAC5DJ,EAAUE,WAAWG,YAAYL,GAGnC,MAAMzJ,EAAQ,IAAI,EAAA4J,EAAAC,YAAW,CAAE/I,KAAKwI,EAAiBhH,OAAQzF,MAAOvD,KAAKJ,MAAM4D,OAAO,iBACtFgB,EAAQiM,sBAAsB,WAAY/J,EAAMgK,aAElD,CAQF,CAEA5Q,SAEE,MAAMqD,EAAMnC,EAAKC,SAASY,QAAQ,UAC9BG,EAAOE,YAAclB,EAAKC,SAASY,QAAQ,UAC3C7B,KAAKJ,MAAMyD,MAAMN,KAEfO,EAAc,IAAIjB,EAAY,CAClCkB,MAAOvD,KAAKJ,MAAM4D,OAAO,wB,IACzBL,IAII2e,EAAa,IAAIvhB,EAAM,CAC3BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,QACNoK,eAAgB,QAChB1M,MAAOuD,KAAKJ,MAAMmD,MAAMmB,MACxBkC,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9B2gB,EAAa,IAAIpgB,EAAM,CAC3BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,QACNoK,eAAgB,QAChB1M,MAAOuD,KAAKJ,MAAMmD,MAAMgB,MACxBqC,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9B+hB,EAAiB,IAAIxhB,EAAM,CAC/BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,aACNoK,eAAgB,OAChB1M,MAAOuD,KAAKJ,MAAMmD,MAAMkL,WACxB7H,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9BgiB,EAAkB,IAAIzhB,EAAM,CAChCC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,cACNoK,eAAgB,OAChB1M,MAAOuD,KAAKJ,MAAMmD,MAAMmL,YACxB9H,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9B4kB,EAAmB,IAAIrkB,EAAM,CACjCC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,eACNoK,eAAgB,OAChB1M,MAAOuD,KAAKJ,MAAMmD,MAAMiL,aACxB5H,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9BiiB,EAAa,IAAI1hB,EAAM,CAC3BC,KAAM,OACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,QACNoK,eAAgB,QAChB1M,MAAOuD,KAAKJ,MAAMmD,MAAMkB,MACxBmC,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAI9B6kB,EAA0B,IAAI/jB,EAAK,CACvCyC,MAAOvD,KAAKJ,MAAM4D,OAAO,gBACzBoJ,iBAAkB5M,KAAKJ,MAAM4D,OAAO,yBACpCkJ,eAAgB1M,KAAKJ,MAAMyD,MAAMwU,UACjCzR,OAAQ,CACNC,MAAO,KACLrG,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,GACRjE,MAAS,GAAGvD,KAAKJ,MAAM4D,OAAOkD,SAAS1G,KAAKJ,MAAM4D,OAAO,kBAE3DxD,KAAKJ,MAAM6d,OAAO9D,GAAG,iBAKrBtQ,EAAe,IAAI1F,EAAa,CACpCJ,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkD,SAAS1G,KAAKJ,MAAM4D,OAAO,kBAGnDshB,EAAa,IAAItlB,EAAO,CAC5BgI,KAAM,YACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAAUjI,KAAKJ,MAAM4D,OAAO,gCACxD4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEF,MAAMhD,EAAS,CACb4c,EAAYnB,EAAYoB,EAAgBC,EAAiBC,EAAY2C,GAGvE,IACE5kB,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOqiB,kBAAmB7f,GAC9DlF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOsiB,gBAAiB9f,EAE9D,CAAE,MAAOwB,GACP9B,QAAQC,IAAI,eAAgB6B,EAC9B,MAKA2b,EAAa,IAAI3hB,EAAM,CAC3B8G,KAAM,QACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAErB2d,EAAa,IAAIzgB,EAAM,CAC3B8G,KAAM,QACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAErB8e,EAAiB,IAAI5hB,EAAM,CAC/B8G,KAAM,MACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAErB+e,EAAkB,IAAI7hB,EAAM,CAChC8G,KAAM,UACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAErByhB,EAAmB,IAAIvkB,EAAM,CACjC8G,KAAM,aACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAErBgf,EAAa,IAAI9hB,EAAM,CAC3B8G,KAAM,UACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAK3B,OAFAxD,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQoR,GAAM,CACnBtN,OAAQxD,KAAKJ,MAAM4D,OACnB0hB,OAAQllB,KAAKJ,MAAMslB,O,YACnB5hB,E,WACA+e,E,WACAlB,E,eACAmB,E,gBACAC,E,iBACA0C,E,WACAzC,E,WACAV,E,WACAnB,E,eACAoB,E,gBACAC,E,iBACA4C,E,WACA3C,E,wBACA4C,E,aACAxb,E,WACAyb,GAEJ,GR7NsC3E,IAElCgF,GAAkB,ISlCjB,cAA8Bpf,EAInCpG,YAAYC,GACVC,MAAM,MAAOD,GACbI,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO0iB,6BACtBplB,KAAKqlB,8BAA8BxiB,KAAK7C,OAC1CA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAO0c,2BACtBpf,KAAKslB,4BAA4BziB,KAAK7C,OACxCA,KAAKsC,EAAEC,SAASC,GACdC,EAAA/C,QAAegD,OAAOyc,4BACtBnf,KAAKulB,6BAA6B1iB,KAAK7C,OACzCA,KAAKsC,EAAEC,SAASC,GAAGC,EAAA/C,QAAegD,OAAOmhB,iBACvC7jB,KAAK8jB,mBAAmBjhB,KAAK7C,MACjC,CAEQ8jB,mBAAmB/gB,GACzB/C,KAAKkD,SAAS,CACZH,KAAMA,EAAKlB,WAEf,CAEQwjB,8BAA8BjgB,GASpC,MAPAtJ,OAAOD,KAAKuJ,GAAUhE,SAAQC,IAC5B,IAAK+D,EAAS/D,GAAKoE,QAAS,CAC1B,MAAMjB,EAAUmD,SAASC,cAAc,cAAcvG,MACrDmD,GAASqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBACzCgB,GAASigB,wBAAwB5d,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,eACnE,KAEI,IAAIrH,MAAM,mBAClB,CAEQmpB,4BAA4BZ,GAClC,MAAMld,EAAOvK,KAAKC,MAAMwnB,EAAI1hB,cAAcgG,OAC1ChJ,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQA,EACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,OAE/B,CAEQ6e,+BACNvlB,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,iBACRjE,MAASvD,KAAKJ,MAAM4D,OAAOkD,OAE/B,CAGQga,eAAenH,GACrB,MAAM/U,EAAU+U,EAAM3S,OAChBoJ,EAAmBzL,EAAQC,GACjC,GAAKwL,EAAiBlL,MAUf,CACLN,EAAQqC,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBAC3CgB,EAAQigB,wBAAwB5d,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBACnE,MAAM2M,EAAY3L,EAAQ4L,mBACtBD,GAAaA,EAAUE,YAAcF,aAAqBG,EAAAC,YAC5DJ,EAAUE,WAAWG,YAAYL,EAErC,KAjB6B,CAC3B3L,EAAQqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBACxCgB,EAAQigB,wBAAwB5d,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBAChE,MAAM2M,EAAY3L,EAAQ4L,mBACtBD,GAAaA,EAAUE,YAAcF,aAAqBG,EAAAC,YAC5DJ,EAAUE,WAAWG,YAAYL,GAGnC,MAAMzJ,EAAQ,IAAI,EAAA4J,EAAAC,YAAW,CAAE/I,KAAKwI,EAAiBhH,OAAQzF,MAAOvD,KAAKJ,MAAM4D,OAAO,iBACtFgB,EAAQiM,sBAAsB,WAAY/J,EAAMgK,aAClD,CASA,GAAoB,gBAAhBlM,EAAQzF,KAAwB,CAClC,MAAM4iB,EAAYnd,EAASod,MAAMC,SAAoC5C,YACjE0C,GAAand,EAAQ/H,QAAUklB,EAAUllB,QAC3C+H,EAAQqC,UAAUkC,IAAI/I,KAAKJ,MAAM4D,OAAO,gBACxCgB,EAAQigB,wBAAwB5d,UAAUqJ,OAAOlQ,KAAKJ,MAAM4D,OAAO,gBAEvE,CAEF,CAEA1D,SAEE,MAAMqD,EAAMnC,EAAKC,SAASY,QAAQ,UAC9BG,EAAOE,YAAclB,EAAKC,SAASY,QAAQ,UAC3C7B,KAAKJ,MAAMyD,MAAMN,KAEfO,EAAc,IAAIjB,EAAY,CAClCkB,MAAOvD,KAAKJ,MAAM4D,OAAO,wB,IACzBL,IAGIqiB,EAAmB,IAAIjlB,EAAM,CACjCC,KAAM,WACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,cACNoK,eAAgB,WAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9BylB,EAAmB,IAAIllB,EAAM,CACjCC,KAAM,WACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,cACNoK,eAAgB,WAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAG9B0lB,EAAoB,IAAInlB,EAAM,CAClCC,KAAM,WACN+C,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAO8B,SAAStF,KAAKJ,MAAM4D,OAAO,gCACvDzE,KAAM,eACNoK,eAAgB,WAChB/C,OAAQ,CACNwa,KAAM5gB,KAAK0gB,eAAe7d,KAAK7C,MAC/B6gB,MAAO7gB,KAAK0gB,eAAe7d,KAAK7C,SAI9B2lB,EAA4B,IAAI7kB,EAAK,CACzCyC,MAAOvD,KAAKJ,MAAM4D,OAAO,gBACzBoJ,iBAAkB5M,KAAKJ,MAAM4D,OAAO,yBACpCkJ,eAAgB1M,KAAKJ,MAAMyD,MAAMwU,UACjCzR,OAAQ,CACNC,MAAO,KACLrG,KAAKiJ,cAAc/F,SAAS,CAC1BsE,KAAQ,GACRjE,MAAS,GAAGvD,KAAKJ,MAAM4D,OAAOkD,SAAS1G,KAAKJ,MAAM4D,OAAO,kBAE3DxD,KAAKJ,MAAM6d,OAAO9D,GAAG,iBAKrBtQ,EAAe,IAAI1F,EAAa,CACpCJ,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOkD,SAAS1G,KAAKJ,MAAM4D,OAAO,kBAGnD0B,EAAS,CACbsgB,EAAkBC,EAAkBC,GAGhCZ,EAAa,IAAItlB,EAAO,CAC5BgI,KAAM,YACNjE,MAAO,GAAGvD,KAAKJ,MAAM4D,OAAOyE,UAAUjI,KAAKJ,MAAM4D,OAAO,yCACxD4C,OAAQ,CACNC,MAAQC,IACNA,EAAE4B,iBAEFlI,KAAKiJ,cAAc/F,SAAS,CAC1BK,MAAS,GAAGvD,KAAKJ,MAAM4D,OAAOkD,SAAS1G,KAAKJ,MAAM4D,OAAO,kBAI3D,IACExD,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOkjB,sBAAuB1gB,GAClElF,KAAKsC,EAAEC,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmjB,oBAAqB3gB,EAElE,CAAE,MAAOwB,GACP9B,QAAQC,IAAI,eAAgB6B,EAC9B,MAKAof,EAAmB,IAAIplB,EAAM,CACjC8G,KAAM,gBACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAErBuiB,EAAmB,IAAIrlB,EAAM,CACjC8G,KAAM,eACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAErBwiB,EAAoB,IAAItlB,EAAM,CAClC8G,KAAM,yBACNjE,MAAOvD,KAAKJ,MAAM4D,OAAO,6BAK3B,OAFAxD,KAAKiJ,cAAgBI,GAEd,EAAAtJ,EAAAL,SAAQqR,GAAM,CACnBvN,OAAQxD,KAAKJ,MAAM4D,OACnB0hB,OAAQllB,KAAKJ,MAAMslB,O,YACnB5hB,E,iBACAwiB,E,iBACAC,E,kBACAC,E,iBACAR,E,iBACAC,E,kBACAC,E,0BACAC,E,aACAtc,E,WACAyb,GAEJ,GTxK0C3E,IAc5C5C,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOujB,YAAazI,GAAe0I,KAAKrjB,KAAK2a,KAG1ED,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOmb,eAAgBL,GAAeM,QAAQjb,KAAK2a,KAChFD,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOqb,wBAhBpC,SAA0Bjb,GACxB,MAAMmZ,EAAIhf,KAAKC,MAAM4F,EAAIE,cACzBqa,GAAKlc,QAAQ8a,GAEbsB,GAAEhb,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmhB,iBAAkBxG,IACxDC,GAAO3D,GAAgC,MAA7BX,OAAOK,SAASlB,SAAmB,aAAea,OAAOK,SAASlB,SAC9E,IAWAoF,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOsb,uBATpC,WACEV,GAAO3D,GAAgC,aAA7BX,OAAOK,SAASlB,SAA0B,WAAa,IACnE,IASAoF,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOse,gBvCiC7B,SAAuB9b,GAE5B,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO4d,sBAAuBlb,EAEvF,IuCvCAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOue,aAAczD,GAAezZ,MAAMlB,KAAK2a,KAC5ED,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOyb,qBAAsBmB,GAAe6G,SAAStjB,KAAKyc,KACvF/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOyf,iBvCyD7B,SAAwBjd,GAE7B,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO6e,uBAAwBnc,EAExF,IuC/DAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO0f,cAAe5E,GAAea,OAAOxb,KAAK2a,KAC9ED,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOqiB,mBvCqC7B,SAA0B7f,GAE/B,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO2hB,yBAA0Bjf,EAE1F,IuC3CAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOsiB,gBAAiBxH,GAAeqB,SAAShc,KAAK2a,KAGlFD,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOkjB,uBvC0C7B,SAA8B1gB,GAEnC,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO0iB,6BAA8BhgB,EAE9F,IuChDAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOmjB,oBAAqBrI,GAAe0B,aAAarc,KAAK2a,KAC1FD,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOyhB,cAAe3G,GAAeU,OAAOrb,KAAK2a,KAC9ED,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO4F,oBAAqBkV,GAAe6B,aAAaxc,KAAK2a,KAC1FD,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOiO,sBvCiE7B,SAA6BzL,GAElC,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOgL,4BAA6BtI,EAE7F,IuCvEAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOkO,mBAAoBmP,GAAmBG,YAAYrd,KAAKkd,KAC5FxC,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOmI,sBvCwE7B,SAA6B3F,GAElC,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOmH,4BAA6BzE,EAE7F,IuC9EAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO6H,mBAAoB+U,GAAe8G,YAAYvjB,KAAKyc,KACxF/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOoI,gBAAiB0S,GAAeiB,SAAS5b,KAAK2a,KAClFD,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOmJ,yBvC8E7B,SAAgC3G,GAErC,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOyI,+BAAgC/F,EAEhG,IuCpFAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOiJ,sBAAuB2T,GAAe+G,eAAexjB,KAAKyc,KAC9F/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO4J,kBAAmBgT,GAAegH,WAAWzjB,KAAKyc,KAItF/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO+G,gBAAiB6V,GAAe6G,SAAStjB,KAAKyc,KAClF/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO2gB,oBAAqB/D,GAAeiH,aAAa1jB,KAAKyc,KAC1F/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOgI,oBAAqB4U,GAAekH,aAAa3jB,KAAKyc,KAC1F/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO6G,qBvC0C7B,SAA4BrE,GAEjC,MAAOC,EAAaC,GAAYH,EAAeC,GAE1CC,GACH1C,EAAA/C,QAAeuB,SAASsB,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAO+F,2BAA4BrD,EAE5F,IuChDAmY,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAO8G,kBAAmB8V,GAAemH,WAAW5jB,KAAKyc,KACtF/B,GAAEhb,SAASC,GAAGC,EAAA/C,QAAegD,OAAOmgB,mBAAoB9C,GAAmBE,YAAYpd,KAAKkd,KAI5FzC,GACGpE,IAAI,IAAKmH,IACTnH,IAAI,WAAYoI,IAChBpI,IAAI,aAAcwJ,IAClBxJ,IAAI,YAAa0K,IACjB1K,IAAI,mBAAoBkL,IACxBlL,IAAI,qBAAsBiM,IAC1BjmB,QAGHqe,GAAEhb,SAAS8F,KAAK5F,EAAA/C,QAAegD,OAAOujB","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-612e4be4cc7c678a.js","src/pages/login/login.hbs","src/components/button/button.hbs","src/components/button/index.ts","src/components/input/input.hbs","src/components/input/textarea.hbs","src/components/input/index.ts","src/components/label/label.hbs","src/components/label/index.ts","src/components/chat-info/chat-info.hbs","src/components/chat-info/index.ts","src/components/link/link.hbs","src/components/link/index.ts","src/components/avatar/avatar.hbs","src/utils/user.ts","src/components/image/image.hbs","src/components/image/index.ts","src/utils/config.ts","src/components/avatar-image/index.ts","src/components/avatar/index.ts","src/components/error-message/error-message.hbs","src/components/error-message/index.ts","src/components/message/message.hbs","src/components/message/index.ts","src/utils/validator.ts","src/utils/page.ts","src/pages/signup/signup.hbs","src/pages/chat/chat.hbs","src/pages/modals/avatar/avatar.hbs","src/pages/modals/avatar/avatar.ts","src/pages/modals/create-chat/create-chat.hbs","src/pages/modals/create-chat/create-chat.ts","src/pages/modals/chat-actions/chat-actions.hbs","src/pages/modals/add-user/add-user.hbs","src/pages/modals/add-user/add-user.ts","src/pages/modals/delete-user/delete-user.hbs","src/pages/modals/delete-user/delete-user.ts","src/pages/modals/confirm/confirm.hbs","src/pages/modals/confirm/confirm.ts","src/pages/modals/chat-actions/chat-actions.ts","src/pages/conversation/conversation.hbs","src/pages/conversation/index.ts","src/pages/profile/info/info.hbs","src/pages/profile/change/change.hbs","src/pages/profile/password/password.hbs","src/styles.scss","node_modules/@parcel/runtime-js/lib/runtime-826873aa5f82565b.js","static/icons/*.js","node_modules/@parcel/runtime-js/lib/runtime-15e872e1a537d7d4.js","node_modules/@parcel/runtime-js/lib/runtime-824ee4b0c9f8bb63.js","node_modules/@parcel/runtime-js/lib/runtime-6bd6adf14ea86c0b.js","node_modules/@parcel/runtime-js/lib/runtime-1e4a5a85c5e0f0f4.js","node_modules/@parcel/runtime-js/lib/runtime-3046f126e82374fb.js","node_modules/@parcel/runtime-js/lib/runtime-3d2d89689956fa27.js","node_modules/@parcel/runtime-js/lib/runtime-fc0dff0c08e7e8bb.js","node_modules/@parcel/runtime-js/lib/runtime-6897e45e221a8672.js","src/utils/services/route.ts","src/utils/services/router.ts","src/utils/HTTPTransport/index.ts","src/utils/api/auth-api.ts","src/utils/api/user-api.ts","src/utils/api/chat-api.ts","src/utils/api/ws-api.ts","src/index.ts","src/utils/controllers/user.ts","src/utils/controllers/chat.ts","src/utils/controllers/messages.ts","src/pages/login/index.ts","src/pages/signup/index.ts","src/pages/chat/index.ts","src/pages/profile/info/index.ts","src/pages/profile/change/index.ts","src/pages/profile/password/index.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"3uGGr\\\":\\\"index.5a0ce1df.js\\\",\\\"ljX8R\\\":\\\"favicon.b201ce9f.png\\\",\\\"04Yz5\\\":\\\"avatar04.ba12779b.png\\\",\\\"jkKBz\\\":\\\"arrow.653ae12a.svg\\\",\\\"2t2no\\\":\\\"arrowback.a362293c.svg\\\",\\\"csFjj\\\":\\\"paperclip.25f0941c.svg\\\",\\\"1vCHw\\\":\\\"profilearrow.dcd8a1ec.svg\\\",\\\"aGWhp\\\":\\\"search.bf112ee3.svg\\\",\\\"kkkiR\\\":\\\"status-read.e848bc09.svg\\\",\\\"kc1xZ\\\":\\\"threedots.2bc06b6a.svg\\\",\\\"3bdOz\\\":\\\"index.0070abce.css\\\",\\\"67m7Z\\\":\\\"index.c1cdaf2f.js\\\",\\\"5gwz6\\\":\\\"index.1501ae38.css\\\"}\"));","<div class=\"{{ styles.auth-popup }}\">\r\n    <div class={{ styles.auth-container }}>\r\n        <div class={{ styles.auth-header }}>Вход</div>\r\n        <form class={{ styles.form }}>\r\n            {{{ labelLogin }}}\r\n            {{{ inputLogin }}}\r\n            {{{ labelPassword }}}\r\n            {{{ inputPassword }}}\r\n            {{{ errorMessage }}}\r\n            <div class=\"{{ styles.form-login-spacer }}\">&nbsp;</div>\r\n            <div class=\"form-buttons\">\r\n                {{{ buttonLogin }}}\r\n                {{{ buttonSignup }}}\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n","<button class=\"{{ class }}\">{{ text }}</button>","import tmpl from './button.hbs';\nimport Block from '../../utils/block';\nimport compile from '../../utils/compile';\n\ninterface ButtonProps {\n  text: string,\n  class?: string,\n  events?: {\n    click: (e: Event) => void\n  }\n}\n\nexport class Button extends Block {\n  constructor(props: ButtonProps) {\n    super('button', props);\n  }\n\n  render() {\n    return compile(tmpl, this.props);\n  }\n}\n","<input type=\"{{ type }}\" class=\"{{ class }}\" name=\"{{ name }}\"\r\n{{#if value}}\r\n value=\"{{ value }}\"\r\n{{/if}}\r\n{{#if validationType }}\r\n data-validation=\"{{ validationType }}\"\r\n{{/if}}\r\n{{#if placeholder}}\r\n placeholder=\"{{ placeholder }}\"\r\n{{/if}}\r\n{{#if accept}}\r\n accept=\"{{ accept }}\"\r\n{{/if}}\r\n>\r\n","<textarea class=\"{{ class }}\" name=\"{{ name }}\" data-validation=\"{{ validationType }}\" placeholder=\"{{ placeholder }}\">{{ value }}</textarea>\r\n","import tmplInput from './input.hbs';\r\nimport tmplTextarea from './textarea.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\n\r\ninterface InputProps {\r\n  type: string,\r\n  name: string,\r\n  class?: string,\r\n  placeholder?: string,\r\n  value?: string,\r\n  validationType?: string,\r\n  accept?: string,\r\n  events?: {\r\n    blur?: () => void,\r\n    focus?: () => void,\r\n    change?: (e: Event) => void\r\n  }\r\n}\r\n\r\nexport class Input extends Block {\r\n  constructor(props: InputProps) {\r\n    super('div', props);\r\n  }\r\n\r\n  render() {\r\n\r\n    if (this.props.type === 'textarea') {\r\n      return compile(tmplTextarea, this.props);\r\n    }\r\n    return compile(tmplInput, this.props);\r\n  }\r\n}\r\n","<div class=\"{{ class }}\">{{ text }}</div>\n","import tmpl from './label.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\n\r\ninterface LabelProps {\r\n  text?: string,\r\n  class?: string\r\n}\r\n\r\nexport class Label extends Block {\r\n  constructor(props: LabelProps) {\r\n    super('div', props);\r\n  }\r\n\r\n  render() {\r\n    return compile(tmpl, this.props);\r\n  }\r\n}\r\n","<div class={{ styles.chat-info-container }}>\r\n    <div class={{ styles.chat-info }}>\r\n        <div class={{ styles.chat-avatar }}><img class={{ styles.avatar-image }} src={{ avatar }} alt={{ imagesAlt }}></div>\r\n        <div class={{ styles.chat-name }}>{{ title }}</div>\r\n        <time class={{ styles.chat-time }}>{{ time }}</time>\r\n        <div class={{ styles.chat-last-message }}>{{ text }}</div>\r\n        {{#if unread_count}}\r\n        <div class={{ styles.chat-unread-count-container }}>\r\n            <div class={{ styles.chat-unread-count }}>{{ unread_count }} </div>\r\n        </div>\r\n        {{/if}}\r\n    </div>\r\n</div>\r\n","import tmpl from './chat-info.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\n\r\nexport interface ChatInfoProps {\r\n  title: string,\r\n  time: string,\r\n  imagesAlt: string,\r\n  text: string,\r\n  avatar: string,\r\n  unread_count: string | number | undefined,\r\n  styles: Record<string, any>,\r\n  events?: {\r\n    click: () => void\r\n  }\r\n}\r\n\r\n\r\nexport class ChatInfo extends Block {\r\n  constructor(props: ChatInfoProps) {\r\n    super('div', props);\r\n  }\r\n\r\n  render() {\r\n    return compile(tmpl, this.props);\r\n  }\r\n}\r\n","<div class=\"{{ class }}\">\r\n    {{#if imageBeforeSrc}}\r\n    <img class=\"{{ imageBeforeClass }}\" src=\"{{ imageBeforeSrc }}\"  alt=\"{{ imagesAlt }}\">\r\n    {{/if}}\r\n    {{#if text}}{{ text }}{{/if}}\r\n    {{#if imageAfterSrc}}\r\n    <img class=\"{{ imageAfterClass }}\" src=\"{{ imageAfterSrc }}\"  alt=\"{{ imagesAlt }}\">\r\n    {{/if}}\r\n</div>\r\n","import tmpl from './link.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\n\r\ninterface LinkProps {\r\n  text?: string,\r\n  class?: string,\r\n  imagesAlt?: string,\r\n  imageBeforeClass?: string,\r\n  imageBeforeSrc?: string,\r\n  imageAfterClass?: string,\r\n  imageAfterSrc?: string,\r\n  events?: any\r\n}\r\n\r\nexport class Link extends Block {\r\n  constructor(props: LinkProps) {\r\n    super('div', props);\r\n  }\r\n\r\n  render() {\r\n    return compile(tmpl, this.props);\r\n  }\r\n}\r\n","            <div class={{ styles.profile-avatar-wrapper }}>\r\n                {{{ avatarImage }}}\r\n                <div class={{ styles.profile-change-avatar-container }}>\r\n                    <p class={{ styles.profile-change-avatar-text }}>Поменять аватар<p>\r\n                </div>\r\n            </div>\r\n","interface ChatToken {\r\n  id: number,\r\n  token: string,\r\n}\r\n\r\nexport interface UserData {\r\n  id?: number;\r\n  first_name?: string;\r\n  second_name?: string;\r\n  display_name?: string;\r\n  login?: string;\r\n  avatar?: string;\r\n  email?: string;\r\n  phone?: string;\r\n  chatTokens?: ChatToken[];\r\n}\r\n\r\ntype T = keyof UserData;\r\n\r\nexport default class User {\r\n\r\n  private _data: UserData;\r\n\r\n  static instance: User;\r\n\r\n  constructor(data?: UserData) {\r\n    if (User.instance) {\r\n      return User.instance;\r\n    }\r\n\r\n    this._data = data ? data : {};\r\n    User.instance = this;\r\n  }\r\n\r\n  public setData(data: UserData) {\r\n\r\n    Object.keys(data).forEach((key: T) => {\r\n      (<any> this._data)[key] = data[key];\r\n    });\r\n  }\r\n\r\n  public addToken(data: { id: number, token: string }) {\r\n\r\n    let newChat = true;\r\n    if (this._data.chatTokens) {\r\n      this._data.chatTokens.forEach((chat) => {\r\n        if (chat.id === data.id) {\r\n          newChat = false;\r\n          chat.token = data.token;\r\n        }\r\n      });\r\n    } else {\r\n      this._data.chatTokens = [];\r\n    }\r\n    if (newChat) {\r\n      this._data.chatTokens?.push(data);\r\n    }\r\n  }\r\n\r\n  public getToken(id: number) {\r\n\r\n    if (this._data.chatTokens) {\r\n      this._data.chatTokens.forEach((chat) => {\r\n        if (chat.id === id) {\r\n          return chat.token;\r\n        }\r\n      });\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n\r\n    \r\n\r\n  public getData(key?: keyof UserData) {\r\n    if (key) {\r\n      return this._data[key];\r\n    }\r\n    return this._data;\r\n  }\r\n\r\n}","<image class=\"{{ class }}\" src=\"{{ src }}\">","import tmpl from './image.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\n\r\nexport interface ImageProps {\r\n  src: string,\r\n  class?: string,\r\n  events?: {\r\n    click: (e: Event) => void\r\n  }\r\n}\r\n\r\nexport class Image extends Block {\r\n  constructor(props: ImageProps) {\r\n    super('image', props);\r\n  }\r\n\r\n  render() {\r\n    return compile(tmpl, this.props);\r\n  }\r\n}\r\n","export const config = {\r\n  baseAPIUrl: 'https://ya-praktikum.tech/api/v2',\r\n  resourceUrl: 'https://ya-praktikum.tech/api/v2/resources',\r\n  websocketUrl: 'wss://ya-praktikum.tech/ws/chats',\r\n  monthsNames: ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля',\r\n    'августа', 'сентября', 'октября', 'ноября', 'декабря'],\r\n};","import { Image, ImageProps } from '../image';\r\nimport GlobalEventBus from '../../utils/globaleventbus';\r\nimport User from '../../utils/user';\r\nimport { config } from '../../utils/config';\r\n\r\n\r\nexport class AvatarImage extends Image {\r\n\r\n  constructor(props: ImageProps) {\r\n    super(props);\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_CHANGEAVATAR_SUCCEED,\r\n      this.onChangeAvatarSucceed.bind(this));\r\n  }\r\n\r\n  onChangeAvatarSucceed(xhr: XMLHttpRequest) {\r\n\r\n    const user = JSON.parse(xhr.responseText);\r\n    User.instance.setData({ avatar: user.avatar });\r\n    \r\n    this.setProps({\r\n      src: config.resourceUrl + user.avatar,\r\n    });\r\n  }\r\n}\r\n","import tmpl from './avatar.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\nimport User from '../../utils/user';\r\nimport { AvatarImage } from '../avatar-image';\r\nimport { config } from '../../utils/config';\r\n\r\ninterface AvatarProps {\r\n  events?: {\r\n    click: (e: Event) => {}\r\n  }\r\n}\r\n\r\nexport class Avatar extends Block {\r\n\r\n  private _avatarImage: AvatarImage;\r\n\r\n  constructor(props: AvatarProps) {\r\n    super('div', props);\r\n  }\r\n\r\n  render() {\r\n\r\n    const src = User.instance.getData('avatar') \r\n      ? config.resourceUrl + User.instance.getData('avatar')\r\n      : this.props.icons.user;\r\n\r\n    const avatarImage = new AvatarImage({\r\n      class: this.props.styles['profile-avatar-image'],\r\n      src: src,\r\n    });\r\n\r\n    this._avatarImage = avatarImage;\r\n\r\n    return compile(tmpl, {\r\n      avatarImage,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","<div class=\"{{ class }}\">{{ text }}</div>","import tmpl from './error-message.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\n\r\ninterface ErrorMessageProps {\r\n  text?: string,\r\n  class?: string,\r\n}\r\n\r\nexport class ErrorMessage extends Block {\r\n  constructor(props: ErrorMessageProps) {\r\n    super('div', props);\r\n  }\r\n\r\n  render() {\r\n    return compile(tmpl, this.props);\r\n  }\r\n}\r\n","{{#if isMessage}}    \r\n<div\r\n{{#if self}}\r\nclass={{ styles.conversation-self-message }}\r\n{{else}}\r\nclass={{ styles.conversation-other-message }}\r\n{{/if}}\r\n>\r\n        {{#if file}}\r\n        {{ file }}\r\n        {{/if}}\r\n        {{#if text}}\r\n        {{ text }}\r\n        {{/if}}\r\n        {{#if self}}\r\n        <div class={{ styles.conversation-self-message-status }}>\r\n            {{#if isRead}}\r\n            <img src={{ icons.status-read }}  alt=\"{{ imagesAlt }}\">\r\n            {{/if}}\r\n        <time class={{ styles.conversation-self-message-time }}>{{ time }}</time>\r\n        </div>\r\n        {{else}}\r\n        <div class={{ styles.conversation-other-message-time }}>{{ time }}</div>\r\n        {{/if}}\r\n    </div>\r\n{{else}}\r\n    <div class={{ styles.conversation-date }}>{{ date }}</div>\r\n{{/if}}\r\n","import tmpl from './message.hbs';\r\nimport Block from '../../utils/block';\r\nimport compile from '../../utils/compile';\r\n\r\nexport interface MessageProps {\r\n  self?: boolean,\r\n  isMessage: boolean,\r\n  time?: string,\r\n  text?: string,\r\n  file?: string,\r\n  date?: string,\r\n  isRead?: boolean,\r\n  styles: Record<string, any>,\r\n  icons?: Record<string, any>,\r\n}\r\n\r\n\r\nexport class Message extends Block {\r\n  constructor(props: MessageProps) {\r\n    super('div', props);\r\n  }\r\n\r\n  render() {\r\n    return compile(tmpl, this.props);\r\n  }\r\n}\r\n","import { Input } from '../components';\r\nimport GlobalEventBus from './globaleventbus';\r\n\r\nconst VALIDATION_RULES: Record<string, RegExp> = {\r\n  login: /^[0-9a-zA-Z\\-_]{3,}/,\r\n  password: /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,40}$/,\r\n  phone: /^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\\s./0-9]*$/,\r\n  email: /^[^\\s@]+@[^\\s@]+\\.[\\S]{2,}$/,\r\n  name: /^[A-ZА-ЯЁ][а-яА-ЯёЁa-zA-Z-]+$/,\r\n  title: /^.+$/,\r\n  message: /.+/,\r\n};\r\n\r\nconst errorMessages: Record<string, string> = {\r\n  name: `Введите корректное имя (латиница или кириллица, \r\n                  первая буква должна быть заглавной, без пробелов и цифр)`,\r\n  surname: `Введите корректную фамилию (латиница или кириллица,\r\n                   первая буква должна быть заглавной, без пробелов и цифр)`,\r\n  login: `Введите корректный логин (от 3 до 20 символов латиницы, \r\n          возможно содержание цифр, дефиса или нижнего подчёркивания)`,\r\n  password: `Введите корректный пароль (от 8 до 40 символов, обязательно \r\n              должна быть хотя бы одна заглавная буква и цифра)`,\r\n  phone: `Введите корректный номер телефона\r\n               (от 10 до 15 цифр, может начинаться с плюса)`,\r\n  email: `Введите корректный адрес электронной почты (латиница, может включать цифры и \r\n              спецсимволы, обязательно должна быть «собака» (@) и \r\n              точка после неё, но перед точкой обязательно должны быть буквы)`,\r\n  message: 'Введите сообщение',\r\n};\r\n\r\ninterface ValidationResult {\r\n  valid: boolean;\r\n  reason?: string;\r\n}\r\n\r\nexport function isValid(element: HTMLInputElement): ValidationResult {\r\n  const eValidationType = element.dataset.validation;\r\n  console.log(eValidationType);\r\n    \r\n  if (!eValidationType || !(eValidationType in VALIDATION_RULES)) {\r\n    return { valid: true };\r\n  }\r\n\r\n  const rule = VALIDATION_RULES[eValidationType];\r\n\r\n  if (element.value && element.value.search(rule) !== -1) {\r\n    return { valid: true };\r\n  }\r\n  const reason = errorMessages[eValidationType];\r\n\r\n  return { valid: false, reason };\r\n}\r\n\r\nfunction isValidField(data: string, type: string): boolean {\r\n\r\n  // console.log(data, rule);\r\n  if (data.search(VALIDATION_RULES[type]) !== -1) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction validateInputs(inputs: Input[]) {\r\n\r\n  let isFormValid = true;\r\n  let formData: Record<string, any> = {};\r\n  let compareFields: Record<string, string> = {};\r\n\r\n  inputs.forEach(input => {\r\n    const element = input.element as HTMLInputElement;\r\n    if (element.dataset.validation) {\r\n      const validations = element.dataset.validation.split(',');\r\n      formData[element.name] = {\r\n        value: element.value,\r\n        isValid: true,\r\n      };\r\n\r\n      if (!isValidField(element.value, validations[0])) {\r\n        isFormValid = false;\r\n        formData[element.name].isValid = false;\r\n      }\r\n\r\n      if (validations.length > 1) {\r\n        const [k, v] = validations[1].split('=');\r\n\r\n        if (k === 'name') {\r\n          compareFields[element.name] = v;\r\n        }    \r\n      }    \r\n    }\r\n  });\r\n  Object.entries(compareFields).forEach(([key1, key2]) => {\r\n    if (formData[key1].value !== formData[key2].value) {\r\n      isFormValid = false;\r\n      formData[key1].isValid = false;\r\n    }\r\n  });\r\n  return [isFormValid, formData];\r\n}\r\n\r\nexport function validateLogin(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_LOGIN_FAILED, formData);\r\n  }  \r\n}\r\n\r\nexport function validateSaveInfo(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SAVEINFO_FAILED, formData);\r\n  }  \r\n}\r\n\r\nexport function validateSavePassword(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SAVEPASSWORD_FAILED, formData);\r\n  }  \r\n}\r\n\r\nexport function validateSignup(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SIGNUP_FAILED, formData);\r\n  }  \r\n}\r\n\r\nexport function validateCreateChat(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_CREATECHAT_FAILED, formData);\r\n  }  \r\n}\r\n\r\nexport function validateSendMessage(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SENDMESSAGE_FAILED, formData);\r\n  }  \r\n}\r\n\r\nexport function validateAddChatUser(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_ADDCHATUSER_FAILED, formData);\r\n  }  \r\n}\r\n\r\nexport function validateDeleteChatUser(inputs: Input[]) {\r\n\r\n  const [isFormValid, formData] = validateInputs(inputs);\r\n\r\n  if (!isFormValid) {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_DELETECHATUSER_FAILED, formData);\r\n  }  \r\n}\r\n","import Block from './block';\r\nimport Router from './services/router';\r\n\r\nexport interface PageProps {\r\n  styles?: Record<string, any>,\r\n  icons?: Record<string, any>,\r\n  images?: Record<string, any>,\r\n  router?: Router\r\n}\r\n\r\nexport default class Page extends Block {\r\n\r\n\r\n}\r\n","<div class=\"{{ styles.auth-popup }}\">\r\n    <div class={{ styles.auth-container }}>\r\n        <div class={{ styles.auth-header }}>Регистрация</div>\r\n        <form class={{ styles.form }}>\r\n            {{{ labelEmail }}}\r\n            {{{ inputEmail }}}\r\n            {{{ labelLogin }}}\r\n            {{{ inputLogin }}}\r\n            {{{ labelFirstName }}}\r\n            {{{ inputFirstName }}}\r\n            {{{ labelSecondName }}}\r\n            {{{ inputSecondName }}}\r\n            {{{ labelPhone }}}\r\n            {{{ inputPhone }}}\r\n            {{{ labelPassword }}}\r\n            {{{ inputPassword }}}\r\n            {{{ labelPassword2 }}}\r\n            {{{ inputPassword2 }}}\r\n            {{{ errorMessage }}}\r\n            <div class=\"{{ styles.form-signup-spacer }}\">&nbsp;</div>\r\n            <div class=\"form-buttons\">\r\n                {{{ buttonSignup }}}\r\n                {{{ buttonLogin }}}\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>","<div class={{ styles.chat-container }}>\r\n    <div class={{ styles.chat-left-container }}>\r\n        <div class=\"{{ styles.profile-link-container }}\">{{{ linkProfileOpen }}}</div>\r\n        <div class=\"{{ styles.search-container }}\">\r\n            {{{ inputSearch }}}\r\n            <div class={{ styles.search-container-placeholder }}>\r\n                <img class={{ styles.search-icon }} src={{ icons.search }}  alt=\"{{ imagesAlt }}\"> Поиск\r\n            </div>\r\n        </div>\r\n        <div class=\"{{ styles.chat-infos-container }}\">\r\n            {{{ chatInfos }}}\r\n            {{{ linkAddChat }}}\r\n        </div>\r\n    </div>\r\n    <div id=\"conversation\" class={{ styles.chat-right-container }}>\r\n        <p class={{ styles.chat-stub }}>Выберите чат чтобы отправить сообщение</p>\r\n    </div>\r\n</div>\r\n","<div class={{ styles.modal-container }}>\r\n    <div class={{ styles.modal-popup }}>\r\n        <form method=\"post\" class={{ styles.avatar-form }}>\r\n            {{{ inputChooseFile }}}\r\n            <div class={{ styles.avatar-modal-header }}>Загрузите файл</div>\r\n            <div class={{ styles.avatar-modal-choose-file-container }}>\r\n                {{{ labelFileName }}}\r\n                {{{ linkChooseFile }}}\r\n            </div>\r\n            {{{ buttonChange }}}\r\n        </form>\r\n    </div>\r\n</div>\r\n","import tmpl from './avatar.hbs';\r\nimport compile from '../../../utils/compile';\r\nimport { Button, Input, Label, Link } from '../../../components';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ModalAvatar extends Page {\r\n  constructor(props: PageProps) {\r\n    super('div', {\r\n      ...props,\r\n      events: {\r\n        click: (e: Event) => this.hideModal(e),\r\n      },\r\n    });\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_CHANGEAVATAR_FAILED,\r\n      this.onChangeAvatarFailed.bind(this));\r\n  }\r\n\r\n  onChangeAvatarFailed(error: string) {\r\n    console.log(error);\r\n  }\r\n\r\n  hideModal(e: Event) {\r\n    const el = e.target as HTMLElement;\r\n    if (!el) {\r\n      return false;\r\n    }\r\n    if (el.classList.contains(this.props.styles['modal-container'])) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const labelFileName = new Label({});\r\n\r\n    const inputChooseFile = new Input({\r\n      type: 'file',\r\n      class: this.props.styles.hidden,\r\n      name: 'avatar_file',\r\n      accept: 'image/png, image/jpeg',\r\n      events: {\r\n        change: (e) => {\r\n          const fileElement = e.currentTarget as HTMLInputElement;\r\n          if (fileElement && fileElement.files) {\r\n            console.log(fileElement.files[0].name);\r\n            labelFileName.setProps({\r\n              text: fileElement.files[0].name,\r\n              class: this.props.styles['avatar-modal-file'],\r\n            });\r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    const linkChooseFile = new Link({\r\n      text: 'Выбрать файл на компьютере',\r\n      class: `${this.props.styles.link} ${this.props.styles['avatar-modal-choose-file']}`,\r\n      events: {\r\n        click: () => {\r\n          document.querySelector('[type=file]')?.dispatchEvent(new MouseEvent('click', { bubbles: true }));\r\n        },\r\n      },\r\n    });\r\n\r\n    const buttonChange = new Button({\r\n      text: 'Поменять',\r\n      class: `${this.props.styles.button} ${this.props.styles['avatar-modal-change-avatar']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          const formData = new FormData();\r\n          const fileElement = inputChooseFile.element as HTMLInputElement;\r\n\r\n          console.log(fileElement.files);\r\n          if (fileElement.files) {\r\n            formData.append('avatar', fileElement.files[0]);\r\n\r\n            try {\r\n              this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_CHANGEAVATAR, formData);\r\n            } catch (error) {\r\n              console.log(error);\r\n            }\r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    return compile(tmpl, {\r\n      labelFileName,\r\n      linkChooseFile,\r\n      inputChooseFile,\r\n      buttonChange,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","<div class={{ styles.modal-container }}>\r\n    <div class={{ styles.modal-popup }}>\r\n        <form method=\"post\" class={{ styles.create-chat-form }}>\r\n            <div class={{ styles.avatar-modal-header }}>Создать новый чат:</div>\r\n            {{{ inputChatName }}}\r\n            {{{ errorMessage }}}\r\n            {{{ buttonCreate }}}\r\n        </form>\r\n    </div>\r\n</div>\r\n","import tmpl from './create-chat.hbs';\r\nimport compile from '../../../utils/compile';\r\nimport { Button, ErrorMessage, Input } from '../../../components';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ModalCreateChat extends Page {\r\n\r\n  private _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', {\r\n      ...props,\r\n      events: {\r\n        click: (e: Event) => this.hideModal(e),\r\n      },\r\n    });\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.VALIDATE_CREATECHAT_FAILED,\r\n      this._onValidateCreateChatFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_CREATECHAT_FAILED,\r\n      this._onActionCreateChatFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_CREATECHAT_SUCCEED,\r\n      this._onActionCreateChatSucceed.bind(this));\r\n  }\r\n\r\n  private _onValidateCreateChatFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onActionCreateChatFailed(data: string) {\r\n    const text = JSON.parse(data).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n    console.log('Error on create chat: ', text);\r\n  }\r\n\r\n  private _onActionCreateChatSucceed() {\r\n    this.hide();\r\n  }\r\n\r\n  hideModal(e: Event) {\r\n    const el = e.target as HTMLElement;\r\n    if (!el) {\r\n      return false;\r\n    }\r\n    if (el.classList.contains(this.props.styles['modal-container'])) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const inputChatName = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input}`,\r\n      name: 'title',\r\n      validationType: 'title',\r\n      placeholder: 'Название чата',\r\n    });\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      text: '',\r\n      class: this.props.styles.error,\r\n    });\r\n\r\n\r\n    const buttonCreate = new Button({\r\n      text: 'Создать',\r\n      class: `${this.props.styles.button} ` +\r\n             `${this.props.styles['signup-form-button-primary']} ` +\r\n             `${this.props.styles['create-chat-button']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          const inputs = [inputChatName];\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_CREATECHAT, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_CREATECHAT, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATS);\r\n\r\n          } catch (error) {\r\n            console.log('Error: ', error);\r\n            \r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      inputChatName,\r\n      errorMessage,\r\n      buttonCreate,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","<div class={{ styles.modal-container }}>\r\n    <div class={{ styles.modal-popup-small }}>\r\n\r\n        {{{ linkAddChatUser }}}\r\n        {{{ linkDeleteChatUser }}}\r\n        {{{ linkDeleteChat }}}        \r\n    </div>\r\n</div>\r\n","<div class={{ styles.modal-container }}>\r\n    <div class={{ styles.modal-popup }}>\r\n        <form method=\"post\" class={{ styles.add-user-form }}>\r\n            <div class={{ styles.avatar-modal-header }}>Добавить пользователя в чат:</div>\r\n            {{{ inputUserLogin }}}\r\n            {{{ errorMessage }}}\r\n            {{{ buttonAdd }}}\r\n        </form>\r\n    </div>\r\n</div>\r\n","import tmpl from './add-user.hbs';\r\nimport compile from '../../../utils/compile';\r\nimport { Button, ErrorMessage, Input } from '../../../components';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ModalAddUser extends Page {\r\n\r\n  private _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', {\r\n      ...props,\r\n      events: {\r\n        click: (e: Event) => this.hideModal(e),\r\n      },\r\n    });\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.VALIDATE_ADDCHATUSER_FAILED,\r\n      this._onValidateAddChatUserFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_ADDFINDUSER_FAILED,\r\n      this._onActionFindUserFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_ADDFINDUSER_SUCCEED,\r\n      this._onActionFindUserSucceed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_ADDCHATUSER_FAILED,\r\n      this._onActionAddChatUserFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_ADDCHATUSER_SUCCEED,\r\n      this._onActionAddChatUserSucceed.bind(this));\r\n  }\r\n\r\n  private _onValidateAddChatUserFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onActionFindUserFailed(data: string) {\r\n    console.log('Got data: ', JSON.parse(data));\r\n    const text = JSON.parse(data).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n    console.log('Error on find user: ', text);\r\n  }\r\n\r\n  private _onActionFindUserSucceed(data: any) {\r\n    console.log('_onActionFindUserSucceed (add user): ', data);\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_ADDCHATUSER, {\r\n      userId: data.id,\r\n      chatId: this.props.chatId,\r\n    });\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATUSERS, this.props.chatId);\r\n  }\r\n\r\n\r\n\r\n  private _onActionAddChatUserFailed(data: string) {\r\n    const text = JSON.parse(data).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n    console.log('Error on add chat user: ', text);\r\n  }\r\n\r\n  private _onActionAddChatUserSucceed() {\r\n    this._errorMessage.setProps({\r\n      'text': 'User added',\r\n      'class': this.props.styles.error,\r\n    });\r\n  }\r\n\r\n  hideModal(e: Event) {\r\n    const el = e.target as HTMLElement;\r\n    if (!el) {\r\n      return false;\r\n    }\r\n    if (el.classList.contains(this.props.styles['modal-container'])) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const inputUserLogin = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input}`,\r\n      name: 'login',\r\n      validationType: 'login',\r\n      placeholder: 'Логин пользователя',\r\n    });\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      text: '',\r\n      class: this.props.styles.error,\r\n    });\r\n\r\n\r\n    const buttonAdd = new Button({\r\n      text: 'Добавить',\r\n      class: `${this.props.styles.button} ` +\r\n             `${this.props.styles['signup-form-button-primary']} ` +\r\n             `${this.props.styles['add-user-button']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          this._errorMessage.setProps({\r\n            'text': '',\r\n            'class': this.props.styles.error,\r\n          });\r\n\r\n          const inputs = [inputUserLogin];\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_ADDCHATUSER, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_FINDUSER, inputs, {\r\n              succeedEvent: GlobalEventBus.EVENTS.ACTION_ADDFINDUSER_SUCCEED,\r\n              failedEvent: GlobalEventBus.EVENTS.ACTION_ADDFINDUSER_FAILED,\r\n            });\r\n\r\n          } catch (error) {\r\n            console.log('Error: ', error);\r\n            \r\n          }\r\n\r\n        },\r\n      },\r\n    });\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      inputUserLogin,\r\n      errorMessage,\r\n      buttonAdd,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","<div class={{ styles.modal-container }}>\r\n    <div class={{ styles.modal-popup }}>\r\n        <form method=\"post\" class={{ styles.delete-user-form }}>\r\n            <div class={{ styles.avatar-modal-header }}>Удалить пользователя из чата:</div>\r\n            {{{ inputUserLogin }}}\r\n            {{{ errorMessage }}}\r\n            {{{ buttonDelete }}}\r\n        </form>\r\n    </div>\r\n</div>\r\n","import tmpl from './delete-user.hbs';\r\nimport compile from '../../../utils/compile';\r\nimport { Button, ErrorMessage, Input } from '../../../components';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ModalDeleteUser extends Page {\r\n\r\n  _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', {\r\n      ...props,\r\n      events: {\r\n        click: (e: Event) => this.hideModal(e),\r\n      },\r\n    });\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.VALIDATE_DELETECHATUSER_FAILED,\r\n      this._onValidateDeleteChatUserFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_DELETEFINDUSER_FAILED,\r\n      this._onActionFindUserFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_DELETEFINDUSER_SUCCEED,\r\n      this._onActionFindUserSucceed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_DELETECHATUSER_FAILED,\r\n      this._onActionDeleteChatUserFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_DELETECHATUSER_SUCCEED,\r\n      this._onActionDeleteChatUserSucceed.bind(this));\r\n  }\r\n\r\n  private _onValidateDeleteChatUserFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onActionFindUserFailed(data: string) {\r\n    console.log('Got data: ', JSON.parse(data));\r\n    const text = JSON.parse(data).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n    console.log('Error on find user: ', text);\r\n  }\r\n\r\n  private _onActionFindUserSucceed(data: any) {\r\n    console.log('_onActionFindUserSucceed (delete user): ', data);\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_DELETECHATUSER, {\r\n      userId: data.id,\r\n      chatId: this.props.chatId,\r\n    });\r\n\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATUSERS, this.props.chatId);\r\n  }\r\n\r\n  private _onActionDeleteChatUserFailed(data: string) {\r\n    const text = JSON.parse(data).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n    console.log('Error on add chat user: ', text);\r\n  }\r\n\r\n  private _onActionDeleteChatUserSucceed() {\r\n    this._errorMessage.setProps({\r\n      'text': 'User deleted',\r\n      'class': this.props.styles.error,\r\n    });\r\n  }\r\n\r\n\r\n  hideModal(e: Event) {\r\n    const el = e.target as HTMLElement;\r\n    if (!el) {\r\n      return false;\r\n    }\r\n    if (el.classList.contains(this.props.styles['modal-container'])) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const inputUserLogin = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input}`,\r\n      name: 'login',\r\n      validationType: 'login',\r\n      placeholder: 'Логин пользователя',\r\n    });\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      text: '',\r\n      class: this.props.styles.error,\r\n    });\r\n\r\n\r\n    const buttonDelete = new Button({\r\n      text: 'Удалить',\r\n      class: `${this.props.styles.button} ` +\r\n        `${this.props.styles['signup-form-button-primary']} ` +\r\n        `${this.props.styles['delete-user-button']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          this._errorMessage.setProps({\r\n            'text': '',\r\n            'class': this.props.styles.error,\r\n          });\r\n\r\n          const inputs = [inputUserLogin];\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_DELETECHATUSER, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_FINDUSER, inputs, {\r\n              succeedEvent: GlobalEventBus.EVENTS.ACTION_DELETEFINDUSER_SUCCEED,\r\n              failedEvent: GlobalEventBus.EVENTS.ACTION_DELETEFINDUSER_FAILED,\r\n            });\r\n\r\n          } catch (error) {\r\n            console.log('Error: ', error);\r\n\r\n          }\r\n\r\n        },\r\n      },\r\n    });\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      inputUserLogin,\r\n      errorMessage,\r\n      buttonDelete,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","<div class={{ styles.modal-container }}>\r\n    <div class={{ styles.modal-popup }}>\r\n            <div class={{ styles.avatar-modal-header }}>Вы уверены?</div>\r\n            <div class={{ styles.confirm-spacer }}>&nbsp;</div>\r\n            {{{ buttonConfirm }}}\r\n            {{{ buttonCancel }}}\r\n        </form>\r\n    </div>\r\n</div>\r\n","import tmpl from './confirm.hbs';\r\nimport compile from '../../../utils/compile';\r\nimport { Button, ErrorMessage, Label } from '../../../components';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport { renderDOM } from '../../../utils/renderDom';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ModalConfirm extends Page {\r\n\r\n  private _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', {\r\n      ...props,\r\n      events: {\r\n        click: (e: Event) => this.hideModal(e),\r\n      },\r\n    });\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_DELETECHAT_SUCCEED,\r\n      this._onActionDeleteChatSucceed.bind(this));\r\n  }\r\n\r\n  private _onActionDeleteChatSucceed() {\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATS);\r\n    const stub = new Label({\r\n      text: 'Выберите чат чтобы отправить сообщение',\r\n      class: this.props.styles['chat-stub'],\r\n    });\r\n    renderDOM('#conversation', stub);\r\n    this.hide();\r\n  }\r\n\r\n  hideModal(e: Event) {\r\n    const el = e.target as HTMLElement;\r\n    if (!el) {\r\n      return false;\r\n    }\r\n    if (el.classList.contains(this.props.styles['modal-container'])) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      text: '',\r\n      class: this.props.styles.error,\r\n    });\r\n\r\n\r\n    const buttonConfirm = new Button({\r\n      text: 'Подтвердить',\r\n      class: `${this.props.styles.button} ` +\r\n             `${this.props.styles['signup-form-button-primary']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          this._errorMessage.setProps({\r\n            'text': '',\r\n            'class': this.props.styles.error,\r\n          });\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_DELETECHAT, this.props.chatId);\r\n\r\n          } catch (error) {\r\n            console.log('Error: ', error);\r\n            \r\n          }\r\n\r\n        },\r\n      },\r\n    });\r\n\r\n    const buttonCancel = new Button({\r\n      text: 'Отменить',\r\n      class: `${this.props.styles.button} ` +\r\n             `${this.props.styles['signup-form-button-secondary']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n          this.hide();\r\n        },\r\n      },\r\n    });\r\n\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      errorMessage,\r\n      buttonConfirm,\r\n      buttonCancel,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","import tmpl from './chat-actions.hbs';\r\nimport compile from '../../../utils/compile';\r\nimport { Link } from '../../../components';\r\nimport { renderDOM } from '../../../utils/renderDom';\r\nimport { ModalAddUser } from '../add-user/add-user';\r\nimport { ModalDeleteUser } from '../delete-user/delete-user';\r\nimport { ModalConfirm } from '../confirm/confirm';\r\nimport Page, { PageProps } from '../../../utils/page';\r\nimport { ModalAvatar } from '../avatar/avatar';\r\n\r\nexport class ChatActions extends Page {\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', {\r\n      ...props,\r\n      events: {\r\n        click: (e: Event) => this.hideModal(e),\r\n      },\r\n    });\r\n\r\n  }\r\n\r\n  hideModal(e: Event) {\r\n    const el = e.target as HTMLElement;\r\n    if (!el) {\r\n      return false;\r\n    }\r\n    if (el.classList.contains(this.props.styles['modal-container'])) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const linkAddChatUser = new Link({\r\n      class: `${this.props.styles.link} ${this.props.styles['chat-actions-element']}`,\r\n      imageBeforeSrc: this.props.icons.adduser,\r\n      imageBeforeClass: this.props.styles['chat-actions-icon'],\r\n      text: 'Добавить пользователя',\r\n      events: {\r\n        click: () => {\r\n          const modalAddUser = new ModalAddUser(this.props);\r\n          renderDOM('#modal', modalAddUser);\r\n        },\r\n      },\r\n    });\r\n\r\n    const linkDeleteChatUser = new Link({\r\n      class: `${this.props.styles.link} ${this.props.styles['chat-actions-element']}`,\r\n      imageBeforeSrc: this.props.icons.deleteuser,\r\n      imageBeforeClass: this.props.styles['chat-actions-icon'],\r\n      text: 'Удалить пользователя',\r\n      events: {\r\n        click: () => {\r\n          const modalDeleteUser = new ModalDeleteUser(this.props);\r\n          renderDOM('#modal', modalDeleteUser);\r\n        },\r\n      },\r\n    });\r\n\r\n    const linkDeleteChat = new Link({\r\n      class: `${this.props.styles.link} ${this.props.styles['chat-actions-element']}`,\r\n      imageBeforeSrc: this.props.icons.deletechat,\r\n      imageBeforeClass: this.props.styles['chat-actions-icon'],\r\n      text: 'Удалить чат',\r\n      events: {\r\n        click: () => {\r\n          const modalConfirm = new ModalConfirm(this.props);\r\n          renderDOM('#modal', modalConfirm);\r\n        },\r\n      },\r\n    });\r\n\r\n    return compile(tmpl, {\r\n      linkAddChatUser,\r\n      linkDeleteChatUser,\r\n      linkDeleteChat,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","<div class={{ styles.conversation-container }}>\r\n<div class={{ styles.conversation-header }}>\r\n    <div class={{ styles.conversation-avatar-container }}>\r\n        {{{ chatUsers }}}\r\n    </div>\r\n    <div class={{ styles.conversation-actions-container}}>\r\n        {{{ conversationActionsLink }}}\r\n    </div>\r\n\r\n</div>\r\n<div class={{ styles.conversation-body-container }}>\r\n    {{{ messages }}}\r\n</div>\r\n<div class={{ styles.conversation-footer }}>\r\n    <div class={{ styles.attach-button-container }}>\r\n        <img class={{ styles.attach-button }} src={{ icons.paperclip }} alt=\"{{ imagesAlt }}\">\r\n    </div>\r\n    <div class={{ styles.conversation-message-box }}>\r\n        {{{ inputMessage }}}\r\n    </div>\r\n    <div class={{ styles.arrow-button-container }}>\r\n        {{{ linkSend }}} \r\n    </div>\r\n</div>\r\n</div>\r\n","import tmpl from './conversation.hbs';\r\nimport compile from '../../utils/compile';\r\n\r\nimport { Link, Input, Message, Image, Label, ErrorInput } from '../../components';\r\nimport GlobalEventBus from '../../utils/globaleventbus';\r\nimport User from '../../utils/user';\r\nimport { renderDOM } from '../../utils/renderDom';\r\nimport { ChatActions } from '../modals';\r\nimport { config } from '../../utils/config';\r\nimport Page, { PageProps } from '../../utils/page';\r\nimport { isValid } from '../../utils/validator';\r\n\r\ninterface MessageData {\r\n  id: number,\r\n  user_id: number,\r\n  chat_id: number,\r\n  type: string,\r\n  time: string,\r\n  content: string | undefined,\r\n  is_read: boolean,\r\n  file: string | undefined\r\n}\r\n\r\ninterface ChatUserData {\r\n  id: number,\r\n  first_name: string,\r\n  second_name: string,\r\n  display_name?: string,\r\n  login: string,\r\n  avatar?: string,\r\n  email: string,\r\n  phone: string,\r\n  role: string,\r\n}\r\n\r\nexport class Conversation extends Page {\r\n\r\n  private _messages: Message[];\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', props);\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.MESSAGES_RECEIVED,\r\n      this._onMessagesReceived.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_GETCHATUSERS_SUCCEED,\r\n      this._onGetChatUsersSucceed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.VALIDATE_SENDMESSAGE_FAILED,\r\n      this._onValidateSendMessageFailed.bind(this));\r\n\r\n    this._messages = [];\r\n  }\r\n\r\n  private _onGetChatUsersSucceed(data: any) {\r\n\r\n    const { users }: { users: ChatUserData[] } = data;\r\n    const chatUsers: Image[] = [];\r\n\r\n    users.forEach((user) => {\r\n\r\n      let avatar = this.props.icons.user;\r\n     \r\n      if (user.avatar) {\r\n        avatar = config.resourceUrl + user.avatar;\r\n      }\r\n\r\n      console.log(avatar);\r\n      const displayName = user.display_name\r\n        ? user.display_name\r\n        : `${user.first_name} ${user.second_name}`;\r\n\r\n\r\n      chatUsers.push(new Image({\r\n        src: avatar,\r\n        class: this.props.styles['avatar-image'],\r\n      }));\r\n      chatUsers.push(new Label({\r\n        text: displayName,\r\n        class: this.props.styles['conversation-user-name'],\r\n      }));\r\n\r\n    });\r\n    this.setProps({\r\n      chatUsers,\r\n    });\r\n\r\n  }\r\n\r\n  private _onValidateSendMessageFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onMessagesReceived(data: any) {\r\n\r\n    const messagesData: MessageData[] | MessageData = JSON.parse(data);\r\n\r\n    let previousDate: Date;\r\n\r\n    if (messagesData instanceof Array) {\r\n      messagesData.reverse();\r\n\r\n      messagesData.forEach((message) => {\r\n\r\n        const messageDate = new Date(message.time);\r\n        if (!previousDate || previousDate.toLocaleDateString() !== messageDate.toLocaleDateString()) {\r\n          this._messages.push(new Message({\r\n            isMessage: false,\r\n            date: `${messageDate.getDate()} ${config.monthsNames[messageDate.getMonth()]}`,\r\n            styles: this.props.styles,\r\n          }));\r\n        }\r\n        previousDate = messageDate;\r\n\r\n        const timeString = `${messageDate.getHours()}:${messageDate.getMinutes()}`;\r\n        const self = User.instance.getData('id') == message.user_id;\r\n\r\n        this._messages.push(new Message({\r\n          isMessage: true,\r\n          styles: this.props.styles,\r\n          icons: this.props.icons,\r\n          text: message.content,\r\n          time: timeString,\r\n          isRead: message.is_read,\r\n          file: message.file,\r\n          self,\r\n        }));\r\n      });\r\n\r\n      this.setProps({\r\n        messages: this._messages,\r\n      });\r\n\r\n    } else if (messagesData.type === 'message') {\r\n\r\n      const messageDate = new Date(messagesData.time);\r\n      const timeString = `${messageDate.getHours()}:${messageDate.getMinutes()}`;\r\n      const self = User.instance.getData('id') == messagesData.user_id;\r\n\r\n      this._messages.push(new Message({\r\n        isMessage: true,\r\n        styles: this.props.styles,\r\n        icons: this.props.icons,\r\n        text: messagesData.content,\r\n        time: timeString,\r\n        isRead: messagesData.is_read,\r\n        file: messagesData.file,\r\n        self,\r\n      }));\r\n      this.setProps({\r\n        messages: this._messages,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const messages: Message[] = [];\r\n    const chatUsers: [] = [];\r\n\r\n    const conversationActionsLink = new Image({\r\n      src: this.props.icons.threedots,\r\n      class: this.props.styles['actions-button'],\r\n      events: {\r\n        click: () => {\r\n          renderDOM('#modal', new ChatActions(this.props));\r\n        },\r\n      },\r\n    });\r\n\r\n    const inputMessage = new Input({\r\n      type: 'textarea',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-conversation-message-box']}`,\r\n      name: 'message',\r\n      validationType: 'message',\r\n      placeholder: 'Сообщение',\r\n    });\r\n\r\n    const linkSend = new Link({\r\n      class: this.props.styles['arrow-button'],\r\n      imageBeforeClass: this.props.styles['send-button'],\r\n      imageBeforeSrc: this.props.icons.arrow,\r\n      imagesAlt: 'Отправить сообщение',\r\n      events: {\r\n        click: () => {\r\n\r\n          const inputs = [inputMessage];\r\n\r\n          const formData: { [index: string]: any } = {};\r\n          let isFormValid = true;\r\n          inputs.map((input) => {\r\n            const el = input.element as HTMLInputElement;\r\n            const validationResult = isValid(el);\r\n            if (!validationResult.valid) {\r\n              isFormValid = false;\r\n              el.classList.add(this.props.styles['input-error']);\r\n\r\n              const prevError = el.nextElementSibling as ErrorInput;\r\n              if (prevError && prevError.parentNode && prevError instanceof ErrorInput) {\r\n                prevError.parentNode.removeChild(prevError);\r\n              }\r\n\r\n              const error = new ErrorInput({\r\n                text: validationResult.reason,\r\n                class: this.props.styles['input-error'],\r\n              });\r\n              el.insertAdjacentElement('afterend', error.getContent());\r\n            } else {\r\n                \r\n              const name = el.getAttribute('name');\r\n              const { value } = el;\r\n              if (name) {\r\n                formData[name] = value;\r\n              }\r\n              el.classList.remove(this.props.styles['input-error']);\r\n              const prevError = el.nextElementSibling as ErrorInput;\r\n              if (prevError && prevError.parentNode && prevError instanceof ErrorInput) {\r\n                prevError.parentNode.removeChild(prevError);\r\n              }\r\n            }\r\n          });\r\n          //Мне внимательность нужно еще прокачать, закоментировал отправку и забыл про это\r\n          if (isFormValid) {\r\n            try {\r\n              this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SENDMESSAGE, inputs);\r\n              this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SENDMESSAGE, inputs);\r\n            } catch (error) {\r\n              console.log('Error on send message: ', error);\r\n            }\r\n          }\r\n\r\n\r\n        },\r\n      },\r\n    });\r\n\r\n    return compile(tmpl, {\r\n      conversationActionsLink,\r\n      inputMessage,\r\n      chatUsers,\r\n      messages,\r\n      linkSend,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","<div class=\"{{ styles.profile-container }}\">\r\n    <div class={{ styles.profile-return }}>\r\n        <div class={{ styles.arrow-button-container }}>\r\n            {{{ linkProfileReturn }}}\r\n        </div>\r\n    </div>\r\n\r\n    <div class={{ styles.profile-info-container }}>\r\n        <div class={{ styles.profile-info }}>\r\n            <div>\r\n                {{{ changeAvatar }}}\r\n            </div>\r\n            <div class={{ styles.profile-display-name }}>{{ user.display_name }}</div>\r\n            <div class={{ styles.profile-info-fields-container }}>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    <div class={{ styles.profile-info-field-name }}>Почта</div>\r\n                    <div class={{ styles.profile-info-field-value }}>{{ user.email }}</div>\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    <div class={{ styles.profile-info-field-name }}>Логин</div>\r\n                    <div class={{ styles.profile-info-field-value }}>{{ user.login }}</div>\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    <div class={{ styles.profile-info-field-name }}>Имя</div>\r\n                    <div class={{ styles.profile-info-field-value }}>{{ user.first_name }}</div>\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    <div class={{ styles.profile-info-field-name }}>Фамилия</div>\r\n                    <div class={{ styles.profile-info-field-value }}>{{ user.second_name }}</div>\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    <div class={{ styles.profile-info-field-name }}>Имя в чате</div>\r\n                    <div class={{ styles.profile-info-field-value }}>{{ user.display_name }}</div>\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    <div class={{ styles.profile-info-field-name }}>Телефон</div>\r\n                    <div class={{ styles.profile-info-field-value }}>{{ user.phone }}</div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div class={{ styles.profile-info-link }}>\r\n                {{{ linkChangeInfo }}}\r\n            </div>\r\n            <div class={{ styles.profile-info-link }}>\r\n                {{{ linkChangePassword }}}\r\n            </div>\r\n            <div class={{ styles.profile-info-link }}>\r\n                {{{ linkExit }}}\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>","<div class=\"{{ styles.profile-container }}\">\r\n    <div class={{ styles.profile-change-return }}>\r\n        <div class={{ styles.arrow-button-container }}>\r\n            {{{ linkProfileChangeReturn }}}\r\n        </div>\r\n\r\n    </div>\r\n    <div class={{ styles.profile-info-container }}>\r\n        <div class={{ styles.profile-info }}>\r\n            {{{ avatarImage }}}\r\n            <div class={{ styles.profile-info-fields-container }}>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelEmail }}}\r\n                    {{{ inputEmail }}}\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelLogin }}}\r\n                    {{{ inputLogin }}}\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelFirstName }}}\r\n                    {{{ inputFirstName }}}\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelSecondName }}}\r\n                    {{{ inputSecondName }}}\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelDisplayName }}}\r\n                    {{{ inputDisplayName }}}\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelPhone }}}\r\n                    {{{ inputPhone }}}\r\n                </div>\r\n            </div>\r\n            {{{ errorMessage }}}\r\n            {{{ buttonSave }}}\r\n        </div>\r\n    </div>\r\n</div>","<div class=\"{{ styles.profile-container }}\">\r\n    <div class={{ styles.profile-change-password-return }}>\r\n        <div class={{ styles.arrow-button-container }}>\r\n            {{{ linkProfilePasswordReturn }}}\r\n        </div>\r\n\r\n    </div>\r\n    <div class={{ styles.profile-info-container }}>\r\n        <div class={{ styles.profile-info }}>\r\n            {{{ avatarImage }}}\r\n            <div class={{ styles.profile-info-fields-container }}>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelOldPassword }}}\r\n                    {{{ inputOldPassword }}}\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelNewPassword }}}\r\n                    {{{ inputNewPassword }}}\r\n                </div>\r\n                <div class={{ styles.profile-info-field }}>\r\n                    {{{ labelNewPassword2 }}}\r\n                    {{{ inputNewPassword2 }}}\r\n                </div>\r\n            </div>\r\n            {{{ errorMessage }}}\r\n            {{{ buttonSave }}}\r\n        </div>\r\n    </div>\r\n</div>","@import url('components/index.scss');\r\n@import url('pages/index.scss');\r\n\r\n.auth-popup {\r\n    margin: auto;\r\n    width: 340px;\r\n    background: #fff;\r\n    box-shadow: 0 0 6px rgb(0 0 0 / 14%);\r\n    border-radius: 12px;\r\n}\r\n\r\n.auth-container {\r\n    padding: 30px;\r\n}\r\n\r\n.auth-header {\r\n   font-family: Helvetica, sans-serif;\r\n    font-size: 20px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    line-height: 20px;\r\n    letter-spacing: 0;\r\n    text-align: center;\r\n\r\n}\r\n\r\n.form {\r\n    margin: 40px 0 0;\r\n}\r\n\r\nmain {\r\n    display: flex;\r\n    height: 100%;\r\n}\r\n\r\nbody {\r\n    margin: 0;\r\n}\r\n","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"04Yz5\");","const _temp0 = require(\"./favicon.png\");\nmodule.exports = {\n  \"favicon\": _temp0\n}","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"jkKBz\");","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"2t2no\");","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"csFjj\");","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"1vCHw\");","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"aGWhp\");","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"kkkiR\");","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"kc1xZ\");","module.exports = require('./helpers/bundle-url').getBundleURL('3uGGr') + require('./helpers/bundle-manifest').resolve(\"ljX8R\");","import Block from '../block';\r\nimport { renderDOM } from '../renderDom';\r\n\r\n\r\nexport default class Route {\r\n  _pathname: string;\r\n\r\n  _blockClass: any;\r\n\r\n  _block: Block;\r\n\r\n  _props: any;\r\n\r\n  constructor(pathname: string, view: any, props: any) {\r\n    this._pathname = pathname;\r\n    this._blockClass = view;\r\n    this._props = props;\r\n  }\r\n\r\n  navigate(pathname: string) {\r\n    if (this.match(pathname)) {\r\n      this._pathname = pathname;\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  leave() {\r\n    if (this._block) {\r\n      this._block.hide();\r\n    }\r\n  }\r\n\r\n  match(pathname: string) {\r\n    return pathname === this._pathname;\r\n  }\r\n\r\n  render() {\r\n    if (!this._block) {\r\n      this._block = this._blockClass;\r\n\r\n\r\n    }\r\n\r\n    renderDOM(this._props.rootQuery, this._block);\r\n  }\r\n}\r\n","\nimport Route from './route';\n\n\nexport default class Router {\n  private static __instance: Router;\n\n  _currentRoute: Route;\n\n  private _rootQuery: string;\n\n  routes: Route[];\n\n  history: History;\n\n\n  constructor(rootQuery: string) {\n\n    if (Router.__instance) {\n      return Router.__instance;\n    }\n\n    this.routes = [];\n    this.history = window.history;\n    this._rootQuery = rootQuery;\n\n    Router.__instance = this;\n  }\n\n  use(pathname: string, block: any) {\n    const route = new Route(pathname, block, { rootQuery: this._rootQuery });\n\n    this.routes.push(route);\n\n    return this;\n  }\n\n  start() {\n    console.log(location.pathname);\n    \n    window.onpopstate = ((event: PopStateEvent) => {\n      this._onRoute((event.currentTarget as Window).location.pathname);\n    });\n  }\n\n  _onRoute(pathname: string) {\n    const route = this.getRoute(pathname);\n    if (!route) {\n      return;\n    }\n\n    if (this._currentRoute && this._currentRoute !== route) {\n      this._currentRoute.leave();\n    }\n\n    this._currentRoute = route;\n    route.render();\n  }\n\n  go(pathname: string) {\n    this.history.pushState({}, '', pathname);\n    this._onRoute(pathname);\n  }\n\n  back() {\n    this.history.back();\n  }\n\n  forward() {\n    this.history.forward();\n  }\n\n  getRoute(pathname: string) {\n    return this.routes.find(route => route.match(pathname));\n  }\n\n  getCurrentRoute() {\n    return this._currentRoute;\n  }\n}\n","enum Method {\r\n  GET = 'GET',\r\n  POST = 'POST',\r\n  PUT = 'PUT',\r\n  DELETE = 'DELETE',\r\n}\r\n  \r\n  type Options = {\r\n    method?: Method;\r\n    data?: any;\r\n    headers?: any;\r\n  };\r\n  \r\nfunction queryStringify(data: Record<string, any>) {\r\n  return Object.entries(data).map(([key, value]) => {\r\n    return encodeURIComponent(key) + '=' + encodeURIComponent(value);\r\n  }).join('&');\r\n}\r\nexport default class HTTPTransport {\r\n  \r\n  private _baseurl: string;\r\n  \r\n  constructor(baseurl: string) {\r\n    this._baseurl = baseurl;\r\n  }\r\n  \r\n  get(url: string, options?: Options): Promise<XMLHttpRequest> {\r\n    if (options && options.data) {\r\n      url += '?' + queryStringify(options.data);\r\n      options.data = {};\r\n    }\r\n    return this.request(this._baseurl + url, { ...options, method: Method.GET });\r\n  }\r\n  \r\n  post(url: string, options?: Options): Promise<XMLHttpRequest> {\r\n    return this.request(this._baseurl + url, { ...options, method: Method.POST });\r\n  }\r\n  \r\n  put(url: string, options?: Options): Promise<XMLHttpRequest> {\r\n    return this.request(this._baseurl + url, { ...options, method: Method.PUT });\r\n  }\r\n  \r\n  delete(url: string, options?: Options): Promise<XMLHttpRequest> {\r\n    return this.request(this._baseurl + url, { ...options, method: Method.DELETE });\r\n  }\r\n  \r\n  request(url: string, options: Options = { method: Method.GET }): Promise<XMLHttpRequest> {\r\n    const { headers = { 'Content-Type': 'application/json' }, method, data } = options;\r\n  \r\n    return new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n  \r\n      xhr.open(method as string, url);\r\n      xhr.withCredentials = true;\r\n  \r\n      let json = true;\r\n  \r\n  \r\n      Object.keys(headers).forEach((key) => {\r\n        if (key.toLowerCase() === 'content-type' && headers[key].toLowerCase() === 'multipart/form-data') {\r\n          json = false;\r\n        } else {\r\n          xhr.setRequestHeader(key, headers[key]);\r\n        }\r\n      });\r\n  \r\n      xhr.onload = function () {\r\n        const { status } = xhr;\r\n        if (status === 200 || status === 201) {\r\n          return resolve(xhr);\r\n        }\r\n        return reject(xhr);\r\n      };\r\n  \r\n      xhr.onabort = reject;\r\n      xhr.onerror = reject;\r\n      xhr.ontimeout = reject;\r\n  \r\n      if (method === Method.GET || !data) {\r\n        xhr.send();\r\n      } else {\r\n  \r\n        const d = json ? JSON.stringify(data) : data;\r\n        xhr.send(d);\r\n      }\r\n    });\r\n  }\r\n}\r\n  ","import HTTPTransport from '../HTTPTransport';\r\nimport { UserData } from '../user';\r\n\r\nexport interface LoginRequest {\r\n  login: string;\r\n  password: string;\r\n}\r\n\r\nexport default class AuthAPI {\r\n\r\n  private _API: HTTPTransport;\r\n\r\n  constructor(baseUrl: string) {\r\n    this._API = new HTTPTransport(baseUrl);\r\n  }\r\n\r\n  public async login(user: LoginRequest) {\r\n    const response = await this._API.post('/auth/signin', { data: user });\r\n    return response.responseText;\r\n  }\r\n\r\n  public async signup(user: UserData) {\r\n    const response = await this._API.post('/auth/signup', { data: user });\r\n    return response.responseText;\r\n  }\r\n\r\n  public async logout() {\r\n    const response = await this._API.post('/auth/logout');\r\n    return response.responseText;\r\n  }\r\n\r\n  public async getUser() {\r\n    const response = await this._API.get('/auth/user');\r\n    return response;\r\n  }\r\n} ","import HTTPTransport from '../HTTPTransport';\r\nimport { UserData } from '../user';\r\n\r\nexport interface PasswordRequest {\r\n  oldPassword: string;\r\n  newPassword: string;\r\n}\r\n\r\nexport interface FindUserRequest {\r\n  login: string,\r\n}\r\n\r\nexport default class UserAPI {\r\n    \r\n  private _API: HTTPTransport;\r\n\r\n  constructor(baseUrl: string) {\r\n    this._API = new HTTPTransport(baseUrl);\r\n  }\r\n\r\n  public async savePassword(data: PasswordRequest) {\r\n    const response = await this._API.put('/user/password', { data });\r\n    return response.responseText;\r\n  }\r\n\r\n  public async saveInfo(user: UserData) {\r\n    const response = await this._API.put('/user/profile', { data: user });\r\n    return response.responseText;\r\n  }\r\n\r\n  public async findUser(data: FindUserRequest) {\r\n    const response = await this._API.post('/user/search', { data });\r\n    return response;\r\n  }    \r\n\r\n  public async changeAvatar(data: FormData) {\r\n    const response = await this._API.put('/user/profile/avatar', { \r\n      data, \r\n      headers: { \r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n    return response;\r\n  }    \r\n} ","import HTTPTransport from '../HTTPTransport';\r\n\r\nexport interface DeleteChatRequest {\r\n  chatId: number,\r\n}\r\n\r\nexport interface CreateChatRequest {\r\n  title: string,\r\n}\r\n\r\nexport interface ChatUsersRequest {\r\n  users: [number],\r\n  chatId: number,\r\n}\r\n\r\n\r\nexport default class ChatAPI {\r\n\r\n  private _API: HTTPTransport;\r\n\r\n  constructor(baseUrl: string) {\r\n    this._API = new HTTPTransport(baseUrl);\r\n  }\r\n        \r\n  public async list() {\r\n    const response = await this._API.get('/chats');\r\n    return response;\r\n  }\r\n    \r\n  public async create(data: CreateChatRequest) {\r\n    const response = await this._API.post('/chats', { data });\r\n    return response.responseText;\r\n  }    \r\n\r\n  public async delete(data: DeleteChatRequest) {\r\n    const response = await this._API.delete('/chats', { data });\r\n    return response;\r\n  }\r\n\r\n  public async addUser(data: ChatUsersRequest) {\r\n    const response = await this._API.put('/chats/users', { data });\r\n    return response;\r\n  }\r\n\r\n  public async deleteUser(data: ChatUsersRequest) {\r\n    const response = await this._API.delete('/chats/users', { data });\r\n    return response;\r\n  }\r\n\r\n  public async getToken(chatId: number) {\r\n    const response = await this._API.post(`/chats/token/${chatId}`);\r\n    return response;\r\n  }    \r\n\r\n  public async getUsers(chatId: number) {\r\n    const response = await this._API.get(`/chats/${chatId}/users`);\r\n    return response;\r\n  }\r\n    \r\n  public async changeAvatar(data: FormData) {\r\n    const response = await this._API.put('/chats/avatar', { \r\n      data, \r\n      headers: { \r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n    return response;\r\n  }\r\n}\r\n","import { config } from '../config';\r\nimport GlobalEventBus from '../globaleventbus';\r\n\r\nexport interface WSMessage {\r\n  content: string | number,\r\n  type: string,\r\n}\r\n\r\n\r\nexport default class WebSocketsAPI {\r\n\r\n  _socket: WebSocket;\r\n\r\n  connect(data: { userId: number, chatId: number, token: string }) {\r\n\r\n    this._socket = new WebSocket(\r\n      `${config.websocketUrl}/${data.userId}/${data.chatId}/${data.token}`,\r\n    );\r\n\r\n    this._socket.addEventListener('message', (e: MessageEvent) => {\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.MESSAGES_RECEIVED, e.data);\r\n    });\r\n\r\n    this._socket.addEventListener('open', () => {\r\n      this.getOld(0);\r\n      this.ping();\r\n    });\r\n\r\n    this._socket.addEventListener('close', () => {\r\n      console.log('Closing socket');\r\n\r\n    });\r\n\r\n  }\r\n\r\n  send(data: WSMessage) {\r\n    this._socket.send(JSON.stringify(data));\r\n  }\r\n\r\n  getOld(count: number) {\r\n    this._socket.send(JSON.stringify({\r\n      content: count,\r\n      type: 'get old',\r\n    }));\r\n  }\r\n\r\n  ping() {\r\n    this.send({ 'content': 'ping', 'type': 'ping' });\r\n\r\n    setTimeout(this.ping.bind(this), 10000);\r\n  }\r\n}","/* eslint-disable max-len */\r\nimport {\r\n  Login, Signup, Chat, ProfileInfo, ProfileChange, ProfilePassword,\r\n} from './pages';\r\n\r\nimport * as styles from './styles.scss';\r\nimport images from '../static/images/avatar04.png';\r\nimport iconsSVG from '../static/icons/*.svg';\r\nimport iconsPNG from '../static/icons/*.png';\r\nimport Router from './utils/services/router';\r\nimport { \r\n  validateCreateChat, validateLogin, validateSaveInfo, validateSavePassword, validateSignup,\r\n  validateSendMessage, validateAddChatUser, validateDeleteChatUser, \r\n} from './utils/validator';\r\nimport GlobalEventBus from './utils/globaleventbus';\r\nimport User from './utils/user';\r\nimport UserController from './utils/controllers/user';\r\nimport ChatController from './utils/controllers/chat';\r\nimport MessagesController from './utils/controllers/messages';\r\n\r\nconst icons = Object.assign(iconsSVG, iconsPNG);\r\n\r\nconst user = new User();\r\n\r\nconst router = new Router('#app');\r\n\r\nconst g = new GlobalEventBus();\r\n\r\nconst userController = new UserController(router);\r\nconst chatController = new ChatController();\r\nconst messagesController = new MessagesController();\r\n\r\n\r\nconst assets = { styles, icons, images };\r\nconst initProps = { ...assets, router };\r\n\r\nconst login = new Login(initProps);\r\n\r\nconst signup = new Signup(initProps);\r\n\r\nconst chat = new Chat(initProps);\r\n\r\nconst profileInfo = new ProfileInfo(initProps);\r\n\r\nconst profileChange = new ProfileChange(initProps);\r\n\r\nconst profilePassword = new ProfilePassword(initProps);\r\n\r\nfunction onGetUserSucceed(xhr: XMLHttpRequest) {\r\n  const d = JSON.parse(xhr.responseText);\r\n  user.setData(d);\r\n\r\n  g.EventBus.emit(GlobalEventBus.EVENTS.USERDATA_UPDATED, user);\r\n  router.go(window.location.pathname === '/' ? '/messenger' : window.location.pathname);\r\n}\r\n\r\nfunction onGetUserFailed() {\r\n  router.go(window.location.pathname === '/sign-up' ? '/sign-up' : '/');\r\n}\r\n\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_INIT, userController.init.bind(userController));\r\n\r\n\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_GETUSER, userController.getUser.bind(userController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_GETUSER_SUCCEED, onGetUserSucceed);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_GETUSER_FAILED, onGetUserFailed);\r\n\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_LOGIN, validateLogin);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_LOGIN, userController.login.bind(userController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_LOGIN_SUCCEED, chatController.getChats.bind(chatController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_SIGNUP, validateSignup);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_SIGNUP, userController.signup.bind(userController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_SAVEINFO, validateSaveInfo);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_SAVEINFO, userController.saveInfo.bind(userController));\r\n// g.EventBus.on(GlobalEventBus.EVENTS.ACTION_SAVEINFO_SUCCEED, onSaveInfoSucceed);\r\n\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_SAVEPASSWORD, validateSavePassword);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_SAVEPASSWORD, userController.savePassword.bind(userController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_LOGOUT, userController.logout.bind(userController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_CHANGEAVATAR, userController.changeAvatar.bind(userController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_SENDMESSAGE, validateSendMessage);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_SENDMESSAGE, messagesController.sendMessage.bind(messagesController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_ADDCHATUSER, validateAddChatUser);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_ADDCHATUSER, chatController.addChatUser.bind(chatController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_FINDUSER, userController.findUser.bind(userController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_DELETECHATUSER, validateDeleteChatUser);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_DELETECHATUSER, chatController.deleteChatUser.bind(chatController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_DELETECHAT, chatController.deleteChat.bind(chatController));\r\n\r\n\r\n\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_GETCHATS, chatController.getChats.bind(chatController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_GETCHATTOKEN, chatController.getChatToken.bind(chatController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_GETCHATUSERS, chatController.getChatUsers.bind(chatController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_CREATECHAT, validateCreateChat);\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_CREATECHAT, chatController.createChat.bind(chatController));\r\ng.EventBus.on(GlobalEventBus.EVENTS.ACTION_CONNECTCHAT, messagesController.connectChat.bind(messagesController));\r\n\r\n\r\n\r\nrouter\r\n  .use('/', login)\r\n  .use('/sign-up', signup)\r\n  .use('/messenger', chat)\r\n  .use('/settings', profileInfo)\r\n  .use('/settings-change', profileChange)\r\n  .use('/settings-password', profilePassword)\r\n  .start();\r\n\r\n\r\ng.EventBus.emit(GlobalEventBus.EVENTS.ACTION_INIT);\r\n","import { Input } from '../../components';\r\nimport AuthAPI, { LoginRequest } from '../api/auth-api';\r\nimport UserAPI, { FindUserRequest, PasswordRequest } from '../api/user-api';\r\n\r\nimport { config } from '../config';\r\nimport GlobalEventBus from '../globaleventbus';\r\nimport Router from '../services/router';\r\nimport { UserData } from '../user';\r\n\r\n\r\nexport default class UserController {\r\n\r\n  private _router: Router;\r\n\r\n  private _authAPI: AuthAPI;\r\n\r\n  private _userAPI: UserAPI;\r\n\r\n  constructor(router: Router) {\r\n    this._router = router;\r\n\r\n    this._authAPI = new AuthAPI(config.baseAPIUrl);\r\n    this._userAPI = new UserAPI(config.baseAPIUrl);\r\n  }\r\n\r\n  public async init() {\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETUSER);\r\n    GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATS);\r\n  }\r\n\r\n  public async getUser() {\r\n    try {\r\n      const user = await this._authAPI.getUser();\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETUSER_SUCCEED, user);\r\n    } catch (error) {\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETUSER_FAILED, error);\r\n    }\r\n  }\r\n\r\n  public async logout(successPath?: string) {\r\n    try {\r\n      this._authAPI.logout();\r\n\r\n      if (successPath) {\r\n        this._router.go(successPath);\r\n      }\r\n    } catch (error) {\r\n      console.log('Logout await error', error);\r\n    }\r\n\r\n  }\r\n\r\n  public async login(inputs: Input[], successPath: string) {\r\n    const user: LoginRequest = { login: '', password: '' };\r\n\r\n    inputs.forEach(input => {\r\n      const element = input.element as HTMLInputElement;\r\n      user[element.name as keyof LoginRequest] = element.value;\r\n    });\r\n\r\n    try {\r\n      await this._authAPI.login(user);\r\n      this._router.go(successPath);\r\n\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_LOGIN_SUCCEED);\r\n      // Останавливаем крутилку\r\n    } catch (error) {\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_LOGIN_FAILED, error);\r\n    }\r\n  }\r\n\r\n  public async signup(inputs: Input[], successPath: string) {\r\n    const data: UserData = {};\r\n\r\n    inputs.forEach(input => {\r\n      const element = input.element as HTMLInputElement;\r\n      (<any>data)[element.name] = element.value;\r\n    });\r\n\r\n    try {\r\n      await this._authAPI.signup(data);\r\n      this._router.go(successPath);\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SIGNUP_SUCCEED);\r\n\r\n    } catch (error) {\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SIGNUP_FAILED, error);\r\n    }\r\n  }    \r\n\r\n  public async findUser(inputs: Input[], options: { succeedEvent: string, failedEvent: string }) {\r\n    const data: FindUserRequest = { login: '' };\r\n\r\n    inputs.forEach(input => {\r\n      const element = input.element as HTMLInputElement;\r\n      (<any>data)[element.name] = element.value;\r\n    });\r\n\r\n    try {\r\n      const result = await this._userAPI.findUser(data);\r\n      const users = JSON.parse(result.responseText);\r\n      let found = false;\r\n      let uFound;\r\n\r\n      users.forEach((u: any) => {\r\n        if (u.login === data.login) {\r\n          found = true;\r\n          uFound = u;\r\n        }\r\n      });\r\n      if (!found) {\r\n        const error = JSON.stringify({ reason: 'User not found' });\r\n        GlobalEventBus.instance.EventBus.emit(options.failedEvent, error);\r\n      } else {\r\n        GlobalEventBus.instance.EventBus.emit(options.succeedEvent, uFound);\r\n      }\r\n\r\n    } catch (error) {\r\n      GlobalEventBus.instance.EventBus.emit(options.failedEvent, error);\r\n    }\r\n  }\r\n\r\n  public async saveInfo(inputs: Input[]) {\r\n    const data: UserData = {};\r\n\r\n    inputs.forEach(input => {\r\n      const element = input.element as HTMLInputElement;\r\n      (<any>data)[element.name] = element.value;\r\n    });\r\n\r\n    try {\r\n      await this._userAPI.saveInfo(data);\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SAVEINFO_SUCCEED, data);\r\n\r\n    } catch (error) {\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SAVEINFO_FAILED, error);\r\n    }\r\n  }\r\n\r\n  public async savePassword(inputs: Input[]) {\r\n    const data: PasswordRequest = { oldPassword: '', newPassword: '' };\r\n\r\n    inputs.forEach(input => {\r\n      const element = input.element as HTMLInputElement;\r\n      (<any>data)[element.name] = element.value;\r\n    });\r\n\r\n    try {\r\n      await this._userAPI.savePassword(data);\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SAVEPASSWORD_SUCCEED);\r\n\r\n    } catch (error) {\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SAVEPASSWORD_FAILED, error);\r\n    }\r\n  }\r\n\r\n  public async changeAvatar(formData: FormData) {\r\n\r\n    try {\r\n      for (var key of formData.keys()) {\r\n        console.log(key, formData.get(key));\r\n      }            \r\n      const result = await this._userAPI.changeAvatar(formData);\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_CHANGEAVATAR_SUCCEED, result);\r\n\r\n    } catch (error) {\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_CHANGEAVATAR_FAILED, error);\r\n    }\r\n  }\r\n}\r\n","import { Input } from '../../components';\r\nimport ChatAPI, { CreateChatRequest } from '../api/chat-api';\r\nimport { config } from '../config';\r\nimport GlobalEventBus from '../globaleventbus';\r\n\r\nexport default class ChatController {\r\n\r\n  private _chatAPI: ChatAPI;\r\n\r\n  constructor() {\r\n    this._chatAPI = new ChatAPI(config.baseAPIUrl);\r\n  }\r\n\r\n  public async getChats() {\r\n\r\n    try {\r\n      const data = await this._chatAPI.list();\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATS_SUCCEED, data);\r\n    } catch (error) {\r\n      console.log('Get chats error: ', error);\r\n    }\r\n  }\r\n\r\n  public async createChat(inputs: Input[]) {\r\n\r\n    const data: CreateChatRequest = { title: '' };\r\n\r\n    inputs.forEach(input => {\r\n      const element = input.element as HTMLInputElement;\r\n      (<any>data)[element.name] = element.value;\r\n    });\r\n\r\n    try {\r\n      await this._chatAPI.create(data);\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_CREATECHAT_SUCCEED);\r\n    } catch (error) {\r\n      console.log('Create chat error: ', error);\r\n    }\r\n  }\r\n\r\n  public async getChatToken(id: number) {\r\n    try {\r\n      const result = await this._chatAPI.getToken(id);\r\n      const token = JSON.parse(result.responseText).token;\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATTOKEN_SUCCEED, {\r\n        id,\r\n        token,\r\n      });\r\n\r\n    } catch (error) {\r\n      console.log('Get chat token error: ', error);\r\n    }\r\n  }\r\n\r\n  public async getChatUsers(chatId: number) {\r\n    try {\r\n      const result = await this._chatAPI.getUsers(chatId);\r\n      const users = JSON.parse(result.responseText);\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATUSERS_SUCCEED, {\r\n        chatId,\r\n        users,\r\n      });\r\n\r\n    } catch (error) {\r\n      console.log('Get chat users error: ', error);\r\n    }\r\n  }\r\n\r\n  public async addChatUser(data: { userId: number, chatId: number }) {\r\n\r\n    try {\r\n      await this._chatAPI.addUser({\r\n        users: [ data.userId ],\r\n        chatId: data.chatId,\r\n      });\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_ADDCHATUSER_SUCCEED);\r\n    } catch (error) {\r\n      console.log('Add chat user error: ', error);\r\n    }\r\n  }\r\n\r\n  public async deleteChatUser(data: { userId: number, chatId: number }) {\r\n\r\n    try {\r\n      await this._chatAPI.deleteUser({\r\n        users: [ data.userId ],\r\n        chatId: data.chatId,\r\n      });\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_DELETECHATUSER_SUCCEED);\r\n    } catch (error) {\r\n      console.log('Delete chat user error: ', error);\r\n    }\r\n  }\r\n\r\n  public async deleteChat(chatId: number) {\r\n        \r\n    try {\r\n      await this._chatAPI.delete({\r\n        chatId,\r\n      });\r\n      GlobalEventBus.instance.EventBus.emit(GlobalEventBus.EVENTS.ACTION_DELETECHAT_SUCCEED);\r\n    } catch (error) {\r\n      console.log('Delete chat error: ', error);\r\n    }\r\n  }\r\n\r\n}","import { Input } from '../../components';\r\nimport WebSocketsAPI, { WSMessage } from '../api/ws-api';\r\n\r\nexport default class MessagesController {\r\n\r\n  _WSAPI: WebSocketsAPI;\r\n\r\n  constructor() {\r\n    this._WSAPI = new WebSocketsAPI();\r\n  }\r\n\r\n  connectChat(data: { userId: number, chatId: number, token: string }) {\r\n    this._WSAPI.connect(data);\r\n  }\r\n\r\n  sendMessage(inputs: Input[]) {\r\n\r\n    const element = inputs[0].element as HTMLInputElement;\r\n\r\n    const data: WSMessage = {\r\n      content: element.value ? element.value : '',\r\n      type: 'message',\r\n    };\r\n\r\n    this._WSAPI.send(data);\r\n  }\r\n\r\n\r\n}","import tmpl from './login.hbs';\r\nimport compile from '../../utils/compile';\r\n\r\nimport { Label, Input, Button, ErrorMessage, ErrorInput } from '../../components';\r\nimport { isValid } from '../../utils/validator';\r\nimport GlobalEventBus from '../../utils/globaleventbus';\r\nimport Page, { PageProps } from '../../utils/page';\r\n\r\n\r\n\r\nexport class Login extends Page {\r\n\r\n  private _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', props);\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_LOGIN_FAILED, this._onValidateLoginFailed.bind(this));\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.ACTION_LOGIN_FAILED, this._onActionLoginFailed.bind(this));\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.ACTION_LOGIN_SUCCEED, this._onActionLoginSucceed.bind(this));\r\n  }\r\n\r\n  private _onValidateLoginFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onActionLoginSucceed() {\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETUSER);\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATS);\r\n  }\r\n\r\n  private _onActionLoginFailed(data: XMLHttpRequest) {\r\n    const text = JSON.parse(data.responseText).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n    console.log('Error on login: ', text);\r\n  }\r\n\r\n  private _onFocusChange(event: Event) {\r\n    const element = event.target as HTMLInputElement;\r\n    const validationResult = isValid(element);\r\n    \r\n    \r\n    if (!validationResult.valid) {\r\n      element.classList.add(this.props.styles['input-error']);\r\n    } else {\r\n      element.classList.remove(this.props.styles['input-error']);\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n\r\n    const inputLogin = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-login']}`,\r\n      name: 'login',\r\n      validationType: 'login',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      class: `${this.props.styles.error} ${this.props.styles['error-hide']}`,\r\n    });\r\n\r\n    const inputPassword = new Input({\r\n      type: 'password',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-password']}`,\r\n      name: 'password',\r\n      validationType: 'password',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n\r\n    const buttonLogin = new Button({\r\n      text: 'Авторизоваться',\r\n      class: `${this.props.styles.button} ${this.props.styles['login-form-button-primary']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          const inputs = [inputLogin, inputPassword];\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_LOGIN, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_LOGIN, inputs, '/messenger');\r\n\r\n          } catch (error) {\r\n            console.log('Error caught', error);\r\n          }\r\n        },\r\n      },\r\n    });\r\n    const buttonSignup = new Button({\r\n      text: 'Нет аккаунта?',\r\n      class: `${this.props.styles.button} ${this.props.styles['login-form-button-secondary']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n          this.props.router.go('/sign-up');\r\n        },\r\n      },\r\n    });\r\n\r\n    const labelLogin = new Label({\r\n      text: 'Логин',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n    const labelPassword = new Label({\r\n      text: 'Пароль',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      styles: this.props.styles,\r\n      buttonLogin,\r\n      buttonSignup,\r\n      labelLogin,\r\n      labelPassword,\r\n      inputLogin,\r\n      inputPassword,\r\n      errorMessage,\r\n    });\r\n  }\r\n}\r\n","import tmpl from './signup.hbs';\r\nimport compile from '../../utils/compile';\r\nimport { Label, Input, Button, ErrorMessage } from '../../components';\r\n\r\nimport { isValid } from '../../utils/validator';\r\nimport GlobalEventBus from '../../utils/globaleventbus';\r\nimport Page, { PageProps } from '../../utils/page';\r\n\r\nexport class Signup extends Page {\r\n\r\n  private _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', props);\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.VALIDATE_SIGNUP_FAILED, this._onValidateSignupFailed.bind(this));\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.ACTION_SIGNUP_FAILED, this._onActionSignupFailed.bind(this));\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.ACTION_SIGNUP_SUCCEED, this._onActionSignupSucceed.bind(this));\r\n  }\r\n\r\n  private _onValidateSignupFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onActionSignupFailed(data: XMLHttpRequest) {\r\n\r\n    const text = JSON.parse(data.responseText).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n    console.log('Error on signup: ', text);\r\n  }\r\n\r\n  private _onActionSignupSucceed() {\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETUSER);\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATS);\r\n  }\r\n\r\n\r\n  private _onFocusChange(event: Event) {\r\n    const element = event.target as HTMLInputElement;\r\n    if (!isValid(element).valid) {\r\n      element.classList.add(this.props.styles['input-error']);\r\n    } else {\r\n      element.classList.remove(this.props.styles['input-error']);\r\n    }\r\n    if (element.name == 'password2') {\r\n      const password1 = (element.form?.elements as { [key: string]: any }).password;\r\n      if (password1 && element.value !== password1.value) {\r\n        element.classList.add(this.props.styles['input-error']);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const inputEmail = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-email']}`,\r\n      name: 'email',\r\n      validationType: 'email',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputLogin = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-login']}`,\r\n      name: 'login',\r\n      validationType: 'login',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputFirstName = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-first-name']}`,\r\n      name: 'first_name',\r\n      validationType: 'name',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputSecondName = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-second-name']}`,\r\n      name: 'second_name',\r\n      validationType: 'name',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputPhone = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-phone']}`,\r\n      name: 'phone',\r\n      validationType: 'phone',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n\r\n    const inputPassword = new Input({\r\n      type: 'password',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-password']}`,\r\n      name: 'password',\r\n      validationType: 'password',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputPassword2 = new Input({\r\n      type: 'password',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-password']}`,\r\n      name: 'password2',\r\n      validationType: 'password,name=password',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      class: `${this.props.styles.error} ${this.props.styles['error-hide']}`,\r\n    });\r\n\r\n    const buttonSignup = new Button({\r\n      text: 'Зарегистрироваться',\r\n      class: `${this.props.styles.button} ${this.props.styles['signup-form-button-primary']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          this._errorMessage.setProps({\r\n            'text': '',\r\n            'class': this.props.styles.error,\r\n          });\r\n\r\n          const inputs = [\r\n            inputEmail, inputLogin, inputFirstName, inputSecondName,\r\n            inputPhone, inputPassword, inputPassword2,\r\n          ];\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SIGNUP, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SIGNUP, inputs, '/chats');\r\n\r\n          } catch (error) {\r\n            console.log('Error caught', error);\r\n          }\r\n        },\r\n      },\r\n    });\r\n    const buttonLogin = new Button({\r\n      text: 'Войти',\r\n      class: `${this.props.styles.button} ${this.props.styles['signup-form-button-secondary']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n          this.props.router.go('/');\r\n          // renderDOM('#app', this.props.buttonClickLogin);\r\n        },\r\n      },\r\n    });\r\n\r\n    const labelEmail = new Label({\r\n      text: 'Почта',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n    const labelLogin = new Label({\r\n      text: 'Логин',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n    const labelFirstName = new Label({\r\n      text: 'Имя',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n    const labelSecondName = new Label({\r\n      text: 'Фамилия',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n    const labelPhone = new Label({\r\n      text: 'Телефон',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n    const labelPassword = new Label({\r\n      text: 'Пароль',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n    const labelPassword2 = new Label({\r\n      text: 'Пароль (еще раз)',\r\n      class: `${this.props.styles.label} ${this.props.styles['form-label']}`,\r\n    });\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      styles: this.props.styles,\r\n      labelEmail,\r\n      labelLogin,\r\n      labelFirstName,\r\n      labelSecondName,\r\n      labelPhone,\r\n      labelPassword,\r\n      labelPassword2,\r\n      inputEmail,\r\n      inputLogin,\r\n      inputFirstName,\r\n      inputSecondName,\r\n      inputPhone,\r\n      inputPassword,\r\n      inputPassword2,\r\n      errorMessage,\r\n      buttonLogin,\r\n      buttonSignup,\r\n    });\r\n  }\r\n}\r\n","import tmpl from './chat.hbs';\r\nimport compile from '../../utils/compile';\r\n\r\nimport { Link, Input, ChatInfo } from '../../components';\r\nimport { isValid } from '../../utils/validator';\r\nimport { renderDOM } from '../../utils/renderDom';\r\nimport GlobalEventBus from '../../utils/globaleventbus';\r\nimport { ModalCreateChat } from '../modals';\r\nimport User from '../../utils/user';\r\nimport { Conversation } from '../conversation';\r\nimport Page, { PageProps } from '../../utils/page';\r\nimport { config } from '../../utils/config';\r\n\r\nexport interface LastMessage {\r\n  user: {\r\n    first_name: string,\r\n    second_name: string,\r\n    avatar: string,\r\n    email: string,\r\n    login: string,\r\n    phone: string,\r\n  }\r\n  time: string,\r\n  content: string,\r\n}\r\nexport interface ChatInfoData {\r\n  id: number,\r\n  title: string,\r\n  avatar: string,\r\n  unread_count: number | undefined,\r\n  last_message?: LastMessage,\r\n}\r\n\r\nexport class Chat extends Page {\r\n\r\n  private _chatInfos: ChatInfo[];\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', props);\r\n\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_GETCHATS_SUCCEED,\r\n      this._onGetChatsSucceed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_GETCHATTOKEN_SUCCEED,\r\n      this._onGetChatTokenSucceed.bind(this));\r\n  }\r\n\r\n  private _onGetChatTokenSucceed(data: { id: number, token: string }) {\r\n\r\n    User.instance.addToken({\r\n      id: data.id,\r\n      token: data.token,\r\n    });\r\n\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_CONNECTCHAT, {\r\n      userId: User.instance.getData('id'),\r\n      chatId: data.id,\r\n      token: data.token,\r\n    });\r\n\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATUSERS, data.id);\r\n  }\r\n\r\n  private _onGetChatsSucceed(xhr: XMLHttpRequest) {\r\n\r\n    this._chatInfos = [];\r\n    const chats: ChatInfoData[] = JSON.parse(xhr.responseText);\r\n\r\n    chats.forEach((chat) => {\r\n      let timeString = '';\r\n      if (chat.last_message?.time) {\r\n        const time = new Date(chat.last_message.time);\r\n        const hours = String(time.getHours()).padStart(2, '0');\r\n        const minutes = String(time.getMinutes()).padStart(2, '0');\r\n        timeString = `${hours}:${minutes}`;\r\n      }\r\n      const textString = chat.last_message?.content ? chat.last_message.content : '';\r\n\r\n      let avatar = this.props.icons.user;\r\n     \r\n      if (chat.avatar) {\r\n        avatar = config.resourceUrl + chat.avatar;\r\n      }\r\n\r\n      this._chatInfos.push(new ChatInfo({\r\n        title: chat.title,\r\n        avatar: avatar,\r\n        text: textString,\r\n        imagesAlt: `Чат ${chat.title}`,\r\n        unread_count: chat.unread_count,\r\n        time: timeString,\r\n        styles: this.props.styles,\r\n        events: {\r\n          click: () => {\r\n            try {\r\n              const props = { chatId: chat.id, ...this.props };\r\n              const conversation = new Conversation(props);\r\n              this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_GETCHATTOKEN, chat.id);\r\n\r\n              renderDOM('#conversation', conversation);\r\n\r\n            } catch (error) {\r\n              console.log(error);\r\n            }\r\n          },\r\n        },\r\n      }));\r\n    });\r\n    this.setProps({\r\n      chatInfos: this._chatInfos,\r\n    });\r\n  }\r\n\r\n  private _onFocusChange(event: Event) {\r\n    const element = event.target as HTMLInputElement;\r\n    if (!isValid(element).valid) {\r\n      if (!element.classList.contains(this.props.styles['input-error'])) {\r\n        element.classList.add(this.props.styles['input-error']);\r\n      }\r\n    } else {\r\n      element.classList.remove(this.props.styles['input-error']);\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const chatInfos: ChatInfo[] = [];\r\n    this._chatInfos = chatInfos;\r\n\r\n    const linkProfileOpen = new Link({\r\n      text: 'Профиль ',\r\n      class: this.props.styles['link-profile-open'],\r\n      imageAfterSrc: this.props.icons.profilearrow,\r\n      imagesAlt: 'Профиль',\r\n      events: {\r\n        click: () => {\r\n          this.props.router.go('/settings');\r\n        },\r\n      },\r\n    });\r\n\r\n    const linkAddChat = new Link({\r\n      text: '+',\r\n      class: this.props.styles['add-chat-container'],\r\n      events: {\r\n        click: () => {\r\n          const modalCreateChat = new ModalCreateChat({\r\n            styles: this.props.styles,\r\n          });\r\n\r\n          renderDOM('#modal', modalCreateChat);\r\n        },\r\n      },\r\n    });\r\n\r\n    const inputSearch = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['input-search-box']}`,\r\n      name: 'search',\r\n      placeholder: ' ',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n\r\n    return compile(tmpl, {\r\n      chatInfos,\r\n      linkProfileOpen,\r\n      linkAddChat,\r\n      inputSearch,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","import tmpl from './info.hbs';\r\nimport compile from '../../../utils/compile';\r\n\r\nimport { Link, Avatar } from '../../../components';\r\nimport { renderDOM } from '../../../utils/renderDom';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport User from '../../../utils/user';\r\nimport { ModalAvatar } from '../../modals';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ProfileInfo extends Page {\r\n  constructor(props: PageProps) {\r\n    super('div', props);\r\n\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.USERDATA_UPDATED, this._onUserDataUpdated.bind(this));\r\n  }\r\n\r\n  private _onUserDataUpdated(user: User) {\r\n    this.setProps({\r\n      user: user.getData(),\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const changeAvatar = new Avatar({\r\n      ...this.props,\r\n      imagesAlt: 'Аватар',\r\n      events: {\r\n        click: () => {\r\n          renderDOM('#modal', new ModalAvatar(this.props));\r\n        },\r\n      },\r\n    });\r\n\r\n    const linkProfileReturn = new Link({\r\n      class: this.props.styles['arrow-button'],\r\n      imageBeforeClass: this.props.styles['profile-return-button'],\r\n      imageBeforeSrc: this.props.icons.arrowback,\r\n      imagesAlt: 'Назад',\r\n      events: {\r\n        click: () => { \r\n          this.props.router.go('/messenger');            \r\n        },\r\n      },\r\n    });\r\n\r\n    const linkChangeInfo = new Link({\r\n      class: `${this.props.styles.link} ${this.props.styles['profile-info-link-change-info']}`,\r\n      text: 'Изменить данные',\r\n      imagesAlt: 'Изменить данные',\r\n      events: {\r\n        click: () => { \r\n          this.props.router.go('/settings-change');            \r\n        },\r\n      },\r\n    });\r\n    const linkChangePassword = new Link({\r\n      class: `${this.props.styles.link} ${this.props.styles['profile-info-link-change-password']}`,\r\n      text: 'Изменить пароль',\r\n      imagesAlt: 'Изменить пароль',\r\n      events: {\r\n        click: () => { \r\n          this.props.router.go('/settings-password');            \r\n        },\r\n      },\r\n    });\r\n    const linkExit = new Link({\r\n      class: `${this.props.styles.link} ${this.props.styles['profile-info-link-exit']}`,\r\n      text: 'Выйти',\r\n      imagesAlt: 'Выйти',\r\n      events: {\r\n        click: () => {\r\n          this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_LOGOUT, '/');\r\n        },\r\n      },\r\n    });\r\n\r\n    return compile(tmpl, {\r\n      changeAvatar,\r\n      linkProfileReturn,\r\n      linkChangeInfo,\r\n      linkChangePassword,\r\n      linkExit,\r\n      ...this.props,\r\n    });\r\n  }\r\n}\r\n","import tmpl from './change.hbs';\r\nimport {\r\n  Label, Input, Button, Link, ErrorMessage, AvatarImage, ErrorInput,\r\n} from '../../../components';\r\n\r\nimport compile from '../../../utils/compile';\r\nimport { isValid } from '../../../utils/validator';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport User, { UserData } from '../../../utils/user';\r\nimport { config } from '../../../utils/config';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ProfileChange extends Page {\r\n\r\n  _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', props);\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.VALIDATE_SAVEINFO_FAILED,\r\n      this._onValidateSaveInfoFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_SAVEINFO_FAILED,\r\n      this._onActionSaveInfoFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_SAVEINFO_SUCCEED,\r\n      this._onActionSaveInfoSucceed.bind(this));\r\n    \r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.USERDATA_UPDATED,\r\n      this._onUserDataUpdated.bind(this));\r\n  }\r\n\r\n  private _onUserDataUpdated(user: User) {\r\n    this.setProps({\r\n      user: user.getData(),\r\n    });\r\n  }\r\n\r\n  private _onValidateSaveInfoFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n        element?.previousElementSibling?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onActionSaveInfoFailed(res: XMLHttpRequest) {\r\n    const text = JSON.parse(res.responseText).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n  }\r\n\r\n  private _onActionSaveInfoSucceed(userData: UserData) {\r\n\r\n    const user = User.instance;\r\n    user.setData(userData);\r\n\r\n    this.g.EventBus.emit(GlobalEventBus.EVENTS.USERDATA_UPDATED, user);\r\n\r\n    this._errorMessage.setProps({\r\n      'text': 'Info saved',\r\n      'class': this.props.styles.error,\r\n    });\r\n  }\r\n\r\n  private _onFocusChange(event: Event) {\r\n    const element = event.target as HTMLInputElement;\r\n\r\n    const validationResult = isValid(element);\r\n    if (!validationResult.valid) {\r\n        \r\n      element.classList.add(this.props.styles['input-error']);\r\n      element.previousElementSibling?.classList.add(this.props.styles['input-error']);\r\n      const prevError = element.nextElementSibling as ErrorInput;\r\n      if (prevError && prevError.parentNode && prevError instanceof ErrorInput) {\r\n        prevError.parentNode.removeChild(prevError);\r\n      }\r\n         \r\n      const error = new ErrorInput({ text:validationResult.reason, class: this.props.styles['input-error'] });\r\n      element.insertAdjacentElement('afterend', error.getContent());\r\n     \r\n    } else {\r\n      element.classList.remove(this.props.styles['input-error']);\r\n      element.previousElementSibling?.classList.remove(this.props.styles['input-error']);\r\n      const prevError = element.nextElementSibling as ErrorInput;\r\n      if (prevError && prevError.parentNode && prevError instanceof ErrorInput) {\r\n        prevError.parentNode.removeChild(prevError);\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    const src = User.instance.getData('avatar')\r\n      ? config.resourceUrl + User.instance.getData('avatar')\r\n      : this.props.icons.user;\r\n\r\n    const avatarImage = new AvatarImage({\r\n      class: this.props.styles['profile-avatar-image'],\r\n      src,\r\n    });\r\n      \r\n\r\n    const inputEmail = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'email',\r\n      validationType: 'email',\r\n      value: this.props.user?.email,\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputLogin = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'login',\r\n      validationType: 'login',\r\n      value: this.props.user?.login,\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputFirstName = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'first_name',\r\n      validationType: 'name',\r\n      value: this.props.user?.first_name,\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputSecondName = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'second_name',\r\n      validationType: 'name',\r\n      value: this.props.user?.second_name,\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputDisplayName = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'display_name',\r\n      validationType: 'name',\r\n      value: this.props.user?.display_name,\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputPhone = new Input({\r\n      type: 'text',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'phone',\r\n      validationType: 'phone',\r\n      value: this.props.user?.phone,\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n\r\n    const linkProfileChangeReturn = new Link({\r\n      class: this.props.styles['arrow-button'],\r\n      imageBeforeClass: this.props.styles['profile-return-button'],\r\n      imageBeforeSrc: this.props.icons.arrowback,\r\n      events: {\r\n        click: () => {\r\n          this._errorMessage.setProps({\r\n            'text': '',\r\n            'class': `${this.props.styles.error} ${this.props.styles['error-hide']}`,\r\n          });\r\n          this.props.router.go('/settings');\r\n        },\r\n      },\r\n    });\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      class: `${this.props.styles.error} ${this.props.styles['error-hide']}`,\r\n    });\r\n\r\n    const buttonSave = new Button({\r\n      text: 'Сохранить',\r\n      class: `${this.props.styles.button} ${this.props.styles['profile-change-save-button']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          const inputs = [\r\n            inputEmail, inputLogin, inputFirstName, inputSecondName, inputPhone, inputDisplayName,\r\n          ];\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SAVEINFO, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SAVEINFO, inputs);\r\n\r\n          } catch (error) {\r\n            console.log('Error caught', error);\r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    const labelEmail = new Label({\r\n      text: 'Почта',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n    const labelLogin = new Label({\r\n      text: 'Логин',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n    const labelFirstName = new Label({\r\n      text: 'Имя',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n    const labelSecondName = new Label({\r\n      text: 'Фамилия',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n    const labelDisplayName = new Label({\r\n      text: 'Имя в чате',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n    const labelPhone = new Label({\r\n      text: 'Телефон',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      styles: this.props.styles,\r\n      images: this.props.images,\r\n      avatarImage,\r\n      labelEmail,\r\n      labelLogin,\r\n      labelFirstName,\r\n      labelSecondName,\r\n      labelDisplayName,\r\n      labelPhone,\r\n      inputEmail,\r\n      inputLogin,\r\n      inputFirstName,\r\n      inputSecondName,\r\n      inputDisplayName,\r\n      inputPhone,\r\n      linkProfileChangeReturn,\r\n      errorMessage,\r\n      buttonSave,\r\n    });\r\n  }\r\n}\r\n","import tmpl from './password.hbs';\r\nimport {\r\n  Label, Input, Button, Link, ErrorMessage, AvatarImage, ErrorInput,\r\n} from '../../../components';\r\n\r\nimport compile from '../../../utils/compile';\r\nimport { isValid } from '../../../utils/validator';\r\nimport GlobalEventBus from '../../../utils/globaleventbus';\r\nimport User from '../../../utils/user';\r\nimport { config } from '../../../utils/config';\r\nimport Page, { PageProps } from '../../../utils/page';\r\n\r\nexport class ProfilePassword extends Page {\r\n\r\n  private _errorMessage: ErrorMessage;\r\n\r\n  constructor(props: PageProps) {\r\n    super('div', props);\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.VALIDATE_SAVEPASSWORD_FAILED,\r\n      this._onValidateSavePasswordFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_SAVEPASSWORD_FAILED,\r\n      this._onActionSavePasswordFailed.bind(this));\r\n    this.g.EventBus.on(\r\n      GlobalEventBus.EVENTS.ACTION_SAVEPASSWORD_SUCCEED,\r\n      this._onActionSavePasswordSucceed.bind(this));\r\n    this.g.EventBus.on(GlobalEventBus.EVENTS.USERDATA_UPDATED,\r\n      this._onUserDataUpdated.bind(this));\r\n  }\r\n\r\n  private _onUserDataUpdated(user: User) {\r\n    this.setProps({\r\n      user: user.getData(),\r\n    });\r\n  }\r\n\r\n  private _onValidateSavePasswordFailed(formData: { [index: string]: any }) {\r\n\r\n    Object.keys(formData).forEach(key => {\r\n      if (!formData[key].isValid) {\r\n        const element = document.querySelector(`input[name=${key}]`);\r\n        element?.classList.add(this.props.styles['input-error']);\r\n        element?.previousElementSibling?.classList.add(this.props.styles['input-error']);\r\n      }\r\n    });\r\n    throw new Error('Validation Error');\r\n  }\r\n\r\n  private _onActionSavePasswordFailed(res: XMLHttpRequest) {\r\n    const text = JSON.parse(res.responseText).reason;\r\n    this._errorMessage.setProps({\r\n      'text': text,\r\n      'class': this.props.styles.error,\r\n    });\r\n  }\r\n\r\n  private _onActionSavePasswordSucceed() {\r\n    this._errorMessage.setProps({\r\n      'text': 'Password saved',\r\n      'class': this.props.styles.error,\r\n    });\r\n  }\r\n\r\n\r\n  private _onFocusChange(event: Event) {\r\n    const element = event.target as HTMLInputElement;\r\n    const validationResult = isValid(element);\r\n    if (!validationResult.valid) {\r\n      element.classList.add(this.props.styles['input-error']);\r\n      element.previousElementSibling?.classList.add(this.props.styles['input-error']);\r\n      const prevError = element.nextElementSibling as ErrorInput;\r\n      if (prevError && prevError.parentNode && prevError instanceof ErrorInput) {\r\n        prevError.parentNode.removeChild(prevError);\r\n      }\r\n        \r\n      const error = new ErrorInput({ text:validationResult.reason, class: this.props.styles['input-error'] });\r\n      element.insertAdjacentElement('afterend', error.getContent());\r\n    } else {\r\n      element.classList.remove(this.props.styles['input-error']);\r\n      element.previousElementSibling?.classList.remove(this.props.styles['input-error']);\r\n      const prevError = element.nextElementSibling as ErrorInput;\r\n      if (prevError && prevError.parentNode && prevError instanceof ErrorInput) {\r\n        prevError.parentNode.removeChild(prevError);\r\n      }\r\n    }\r\n\r\n    if (element.name == 'newPassword2') {\r\n      const password1 = (element.form?.elements as { [key: string]: any }).newPassword;\r\n      if (password1 && element.value !== password1.value) {\r\n        element.classList.add(this.props.styles['input-error']);\r\n        element.previousElementSibling?.classList.remove(this.props.styles['input-error']);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n\r\n    const src = User.instance.getData('avatar')\r\n      ? config.resourceUrl + User.instance.getData('avatar')\r\n      : this.props.icons.user;\r\n\r\n    const avatarImage = new AvatarImage({\r\n      class: this.props.styles['profile-avatar-image'],\r\n      src,\r\n    });\r\n\r\n    const inputOldPassword = new Input({\r\n      type: 'password',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'oldPassword',\r\n      validationType: 'password',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputNewPassword = new Input({\r\n      type: 'password',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'newPassword',\r\n      validationType: 'password',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n    const inputNewPassword2 = new Input({\r\n      type: 'password',\r\n      class: `${this.props.styles.input} ${this.props.styles['profile-change-field-value']}`,\r\n      name: 'newPassword2',\r\n      validationType: 'password',\r\n      events: {\r\n        blur: this._onFocusChange.bind(this),\r\n        focus: this._onFocusChange.bind(this),\r\n      },\r\n    });\r\n\r\n    const linkProfilePasswordReturn = new Link({\r\n      class: this.props.styles['arrow-button'],\r\n      imageBeforeClass: this.props.styles['profile-return-button'],\r\n      imageBeforeSrc: this.props.icons.arrowback,\r\n      events: {\r\n        click: () => {\r\n          this._errorMessage.setProps({\r\n            'text': '',\r\n            'class': `${this.props.styles.error} ${this.props.styles['error-hide']}`,\r\n          });\r\n          this.props.router.go('/settings');\r\n        },\r\n      },\r\n    });\r\n\r\n    const errorMessage = new ErrorMessage({\r\n      class: `${this.props.styles.error} ${this.props.styles['error-hide']}`,\r\n    });\r\n\r\n    const inputs = [\r\n      inputOldPassword, inputNewPassword, inputNewPassword2,\r\n    ];\r\n\r\n    const buttonSave = new Button({\r\n      text: 'Сохранить',\r\n      class: `${this.props.styles.button} ${this.props.styles['profile-change-password-save-button']}`,\r\n      events: {\r\n        click: (e) => {\r\n          e.preventDefault();\r\n\r\n          this._errorMessage.setProps({\r\n            'class': `${this.props.styles.error} ${this.props.styles['error-hide']}`,\r\n          });\r\n\r\n\r\n          try {\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.VALIDATE_SAVEPASSWORD, inputs);\r\n            this.g.EventBus.emit(GlobalEventBus.EVENTS.ACTION_SAVEPASSWORD, inputs);\r\n\r\n          } catch (error) {\r\n            console.log('Error caught', error);\r\n          }\r\n        },\r\n      },\r\n    });\r\n\r\n    const labelOldPassword = new Label({\r\n      text: 'Старый пароль',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n    const labelNewPassword = new Label({\r\n      text: 'Новый пароль',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n    const labelNewPassword2 = new Label({\r\n      text: 'Повторите новый пароль',\r\n      class: this.props.styles['profile-info-field-name'],\r\n    });\r\n\r\n    this._errorMessage = errorMessage;\r\n\r\n    return compile(tmpl, {\r\n      styles: this.props.styles,\r\n      images: this.props.images,\r\n      avatarImage,\r\n      labelOldPassword,\r\n      labelNewPassword,\r\n      labelNewPassword2,\r\n      inputOldPassword,\r\n      inputNewPassword,\r\n      inputNewPassword2,\r\n      linkProfilePasswordReturn,\r\n      errorMessage,\r\n      buttonSave,\r\n    });\r\n  }\r\n}\r\n"],"names":["$837f77c547bdcd4a$export$6503ec6e8aabbaf","$837f77c547bdcd4a$export$f7ad0328861e2f03","$837f77c547bdcd4a$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7f7584642242f637$export$bdfd709ae4826697","$7f7584642242f637$var$bundleURL","$7f7584642242f637$var$getBaseURL","url","replace","value","err","matches","stack","match","$7f7584642242f637$var$getBundleURL","parcelRequire","register","JSON","parse","$9e042fdef987c649$export$2e2bcd8739ae039","$parcel$interopDefault","template","compiler","main","container","depth0","helpers","partials","data","stack1","helper","alias1","lambda","alias2","escapeExpression","alias3","nullContext","alias4","hooks","helperMissing","alias5","lookupProperty","parent","propertyName","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","useData","$41cb65e0d158857f$export$2e2bcd8739ae039","$9e0a7b603d59a488$export$353f5b6fc5456de1","$jHzaH","default","constructor","props","super","render","$4rITg","this","$4e839dacf131c653$export$2e2bcd8739ae039","fn","program","inverse","noop","$d143a24ba72de0c7$export$2e2bcd8739ae039","$9e3d36059ee7a79b$export$f5b8910cec6cf069","type","$12898999d6995961$export$2e2bcd8739ae039","$314b4a73a4c91a97$export$b04be29aa201d4f5","$32a1153fd28000b0$export$2e2bcd8739ae039","$ea647bcf31b58ab3$export$417df33c34bcc359","$ddd197993b547c62$export$2e2bcd8739ae039","$687b6875800ce48d$export$a6c7ac8248d6e38a","$ddfacf0f8ddd7b95$export$2e2bcd8739ae039","$f94d65e240222df9$export$2e2bcd8739ae039","instance","_data","setData","forEach","key","addToken","newChat","chatTokens","chat","token","push","getToken","getData","$2147499cd9f09d26$export$2e2bcd8739ae039","$2859e713946e85d6$export$3e431a229df88919","$4cac2a3015fdba1d$export$e506a1d27d1eaa20","baseAPIUrl","resourceUrl","websocketUrl","monthsNames","$bcd8e0c502329c38$export$2cd8ae1985206fe8","g","EventBus","on","$2E9QK","EVENTS","ACTION_CHANGEAVATAR_SUCCEED","onChangeAvatarSucceed","bind","xhr","user","responseText","avatar","setProps","src","$12267ee03685297c$export$e2255cf6045e8d47","icons","avatarImage","class","styles","_avatarImage","$3183fa5a84495efc$export$2e2bcd8739ae039","$5804cdb6222a4c46$export$915e9e7bd4f0f96d","$506faf6b7ab2dfdf$export$2e2bcd8739ae039","$5066d8ce6c34a11a$export$f69c19e57285b83a","$6a118c993005ae01$var$VALIDATION_RULES","login","password","phone","email","title","message","$6a118c993005ae01$var$errorMessages","surname","$6a118c993005ae01$export$1ea939691cdc45b8","element","eValidationType","dataset","validation","console","log","valid","rule","search","$6a118c993005ae01$var$validateInputs","inputs","isFormValid","formData","compareFields","input","validations","split","isValid","k","v","entries","key1","key2","$5fbff5cac4d60a93$export$2e2bcd8739ae039","$13461762da3f2b0c$export$2e2bcd8739ae039","$0de5a899e5a81638$export$2e2bcd8739ae039","$6649bcdb1989b431$export$2e2bcd8739ae039","$213244ea21274ec5$export$23afbd7a4c5aab2d","events","click","e","hideModal","ACTION_CHANGEAVATAR_FAILED","onChangeAvatarFailed","error","el","target","classList","contains","hide","labelFileName","inputChooseFile","hidden","accept","change","fileElement","currentTarget","files","text","linkChooseFile","link","document","querySelector","dispatchEvent","MouseEvent","bubbles","buttonChange","button","preventDefault","FormData","append","emit","ACTION_CHANGEAVATAR","$d61c238c6f5955be$export$2e2bcd8739ae039","$73985603421519e0$export$966e9bab7cd7aba4","VALIDATE_CREATECHAT_FAILED","_onValidateCreateChatFailed","ACTION_CREATECHAT_FAILED","_onActionCreateChatFailed","ACTION_CREATECHAT_SUCCEED","_onActionCreateChatSucceed","add","reason","_errorMessage","inputChatName","validationType","placeholder","errorMessage","buttonCreate","VALIDATE_CREATECHAT","ACTION_CREATECHAT","ACTION_GETCHATS","$8bbced8d3456b179$export$2e2bcd8739ae039","$bd16df9aa31b187e$export$2e2bcd8739ae039","$8dc13b3dc8b88b65$export$bb109fa15781ecef","VALIDATE_ADDCHATUSER_FAILED","_onValidateAddChatUserFailed","ACTION_ADDFINDUSER_FAILED","_onActionFindUserFailed","ACTION_ADDFINDUSER_SUCCEED","_onActionFindUserSucceed","ACTION_ADDCHATUSER_FAILED","_onActionAddChatUserFailed","ACTION_ADDCHATUSER_SUCCEED","_onActionAddChatUserSucceed","ACTION_ADDCHATUSER","userId","chatId","ACTION_GETCHATUSERS","inputUserLogin","buttonAdd","VALIDATE_ADDCHATUSER","ACTION_FINDUSER","succeedEvent","failedEvent","$149c3398d549be19$export$2e2bcd8739ae039","$ed8038a8e6523b13$export$b178f931711a66e7","VALIDATE_DELETECHATUSER_FAILED","_onValidateDeleteChatUserFailed","ACTION_DELETEFINDUSER_FAILED","ACTION_DELETEFINDUSER_SUCCEED","ACTION_DELETECHATUSER_FAILED","_onActionDeleteChatUserFailed","ACTION_DELETECHATUSER_SUCCEED","_onActionDeleteChatUserSucceed","ACTION_DELETECHATUSER","buttonDelete","VALIDATE_DELETECHATUSER","$7727dadb6d0f5d19$export$2e2bcd8739ae039","$8fd51583adb92eca$export$427af6990c8ff682","ACTION_DELETECHAT_SUCCEED","_onActionDeleteChatSucceed","stub","$guyfn","renderDOM","buttonConfirm","ACTION_DELETECHAT","buttonCancel","$0565d51fc0efe1dc$export$d4289a3c86fe3b2d","linkAddChatUser","imageBeforeSrc","adduser","imageBeforeClass","modalAddUser","linkDeleteChatUser","deleteuser","modalDeleteUser","linkDeleteChat","deletechat","modalConfirm","$8d399822f07e98be$export$2e2bcd8739ae039","$ba58172f7540077a$export$8e86b22308382a1","MESSAGES_RECEIVED","_onMessagesReceived","ACTION_GETCHATUSERS_SUCCEED","_onGetChatUsersSucceed","VALIDATE_SENDMESSAGE_FAILED","_onValidateSendMessageFailed","_messages","users","chatUsers","displayName","display_name","first_name","second_name","messagesData","previousDate","Array","reverse","messageDate","Date","time","toLocaleDateString","isMessage","date","getDate","getMonth","timeString","getHours","getMinutes","self","user_id","content","isRead","is_read","file","messages","conversationActionsLink","threedots","inputMessage","linkSend","arrow","imagesAlt","map","validationResult","getAttribute","remove","prevError","nextElementSibling","parentNode","$6PFVL","ErrorInput","removeChild","insertAdjacentElement","getContent","VALIDATE_SENDMESSAGE","ACTION_SENDMESSAGE","$3fdbb6df38483770$export$2e2bcd8739ae039","$d449bc6e9321bcb1$export$2e2bcd8739ae039","$d08e0fd69f8fe8c1$export$2e2bcd8739ae039","$0fc3b017a1ffb963$export$2ba01fb71ed41cb6","$0fc3b017a1ffb963$export$2b1a73bb2441fadc","$0fc3b017a1ffb963$export$b7e3ae3d7c15e42e","$0fc3b017a1ffb963$export$1237798dc640739a","$0fc3b017a1ffb963$export$fc11b9210dba9dfb","$0fc3b017a1ffb963$export$16645c4f361a16b8","$0fc3b017a1ffb963$export$1f93f3e9bd45e79e","$0fc3b017a1ffb963$export$232c758f92aba22b","$0fc3b017a1ffb963$export$3a2cf78dc43b2adf","$0fc3b017a1ffb963$export$b80d3ca71ab9515b","$0fc3b017a1ffb963$export$46bffd7bb1fd64ea","$0fc3b017a1ffb963$export$1a08a2b61c777851","$0fc3b017a1ffb963$export$493268d93b95566d","$0fc3b017a1ffb963$export$e4de835daa79b19b","$0fc3b017a1ffb963$export$9c30223ca0a664fb","$0fc3b017a1ffb963$export$a3bc9b8ed74fc","$0fc3b017a1ffb963$export$a4c65eb131f7f150","$0fc3b017a1ffb963$export$5d461b71b7250288","$0fc3b017a1ffb963$export$2dd57adeb3cb2403","$0fc3b017a1ffb963$export$ce7d7888d03f27d","$0fc3b017a1ffb963$export$972ba11996232e82","$0fc3b017a1ffb963$export$ce55d105b6caa4b0","$0fc3b017a1ffb963$export$a785f7a6ac3e8288","$0fc3b017a1ffb963$export$c2f78ad7e6e1a296","$0fc3b017a1ffb963$export$2b712e8b042250e5","$0fc3b017a1ffb963$export$e49e55517399e1ba","$0fc3b017a1ffb963$export$70e72564dc3060e6","$0fc3b017a1ffb963$export$1e4a906254b93cd9","$0fc3b017a1ffb963$export$6c36bb90b3d28dbf","$0fc3b017a1ffb963$export$a0b8ef246b3de40c","$0fc3b017a1ffb963$export$306b23c8c27fcbd5","$0fc3b017a1ffb963$export$8bd8fd4869fa27b3","$0fc3b017a1ffb963$export$61acc7693f98b56c","$0fc3b017a1ffb963$export$ef093d83e27bf2d8","$0fc3b017a1ffb963$export$2c562034c0aa5c58","$0fc3b017a1ffb963$export$476131d6af30dd59","$0fc3b017a1ffb963$export$fa4d7178366eacec","$0fc3b017a1ffb963$export$e0213ce5cb329ce0","$0fc3b017a1ffb963$export$47901370c8444266","$0fc3b017a1ffb963$export$12dcc5df427f906","$0fc3b017a1ffb963$export$d0623bd5bd461343","$0fc3b017a1ffb963$export$a95de26d555ea89f","$0fc3b017a1ffb963$export$feb194ffedaf5c3","$0fc3b017a1ffb963$export$3cf6c85dfd4223f","$0fc3b017a1ffb963$export$cdc6e47d0a80136e","$0fc3b017a1ffb963$export$e68283ff716edb08","$0fc3b017a1ffb963$export$60e0a70c02872189","$0fc3b017a1ffb963$export$6a770630f618b3b6","$0fc3b017a1ffb963$export$471a4cec2dbf4264","$0fc3b017a1ffb963$export$b710ad5340b9b3c0","$0fc3b017a1ffb963$export$963dda10e0738367","$0fc3b017a1ffb963$export$9f342e20a5e7f73f","$0fc3b017a1ffb963$export$7673c46e1b939624","$0fc3b017a1ffb963$export$9a980fdd2b8491dd","$0fc3b017a1ffb963$export$b652b4903cbcfe00","$0fc3b017a1ffb963$export$85955057052446ba","$0fc3b017a1ffb963$export$299712c1a4091f12","$0fc3b017a1ffb963$export$e781649a2d3824db","$0fc3b017a1ffb963$export$6f5ca75558ad98ae","$0fc3b017a1ffb963$export$fa7280825d4a20ae","$0fc3b017a1ffb963$export$aee4f4ca8cebd557","$0fc3b017a1ffb963$export$66888a4bcd37cca5","$0fc3b017a1ffb963$export$87882d1953f0b65e","$0fc3b017a1ffb963$export$acee6781f310ff05","$0fc3b017a1ffb963$export$ffb640038da77531","$0fc3b017a1ffb963$export$3389250a43fea21c","$0fc3b017a1ffb963$export$d790149770b87522","$0fc3b017a1ffb963$export$9a4dfbc93217ba35","$0fc3b017a1ffb963$export$53ae94809d291b1e","$0fc3b017a1ffb963$export$1d45a54f1446b66b","$0fc3b017a1ffb963$export$c85c87c20bfc57d9","$0fc3b017a1ffb963$export$d4b2ae551d2a7161","$0fc3b017a1ffb963$export$d28e0f323e3206d4","$0fc3b017a1ffb963$export$d4c1278fafc00f42","$0fc3b017a1ffb963$export$3912c14522c9f361","$0fc3b017a1ffb963$export$27fc0449f0799d74","$0fc3b017a1ffb963$export$f4d116fdcd1a6bec","$0fc3b017a1ffb963$export$2a84cfb0180bb40","$0fc3b017a1ffb963$export$ae2a74110009bf66","$0fc3b017a1ffb963$export$72e4468fc5d60940","$0fc3b017a1ffb963$export$889865af8bb361ed","$0fc3b017a1ffb963$export$60ea881aca689dbc","$0fc3b017a1ffb963$export$42b2d89b8f3efe7e","$0fc3b017a1ffb963$export$a024473f99bc8f50","$0fc3b017a1ffb963$export$73920f18ca706874","$0fc3b017a1ffb963$export$ff23bb5c387fca75","$0fc3b017a1ffb963$export$56a0cad4f4cbdce","$0fc3b017a1ffb963$export$3fc8a51a1f601fab","$0fc3b017a1ffb963$export$1553fdbbd27d9454","$0fc3b017a1ffb963$export$495a9264460b583f","$0fc3b017a1ffb963$export$243ec72302486ce4","$0fc3b017a1ffb963$export$93f275a6ce478b64","$0fc3b017a1ffb963$export$5cfeaff1ff4d183f","$0fc3b017a1ffb963$export$80eb80e06f04e4be","$0fc3b017a1ffb963$export$710403c2852c4e4c","$0fc3b017a1ffb963$export$ce665e5e74b60eab","$0fc3b017a1ffb963$export$86b242a8d67f95f6","$0fc3b017a1ffb963$export$1682dd745575f80b","$0fc3b017a1ffb963$export$a7facc7e2bc2d2b4","$0fc3b017a1ffb963$export$c64fd9e547f462ad","$0fc3b017a1ffb963$export$e9fa7a1b949ec0ee","$0fc3b017a1ffb963$export$6956ace751af450e","$0fc3b017a1ffb963$export$a3f061082544fcc8","$0fc3b017a1ffb963$export$2acd71edafa1b44d","$0fc3b017a1ffb963$export$6210fa4921d2a466","$5b8ef4acb1d98f57$exports","getBundleURL","resolve","$2f8c5ec15baee934$exports","arrowback","paperclip","profilearrow","$9f422a7a9c9e3b31$exports","favicon","$bb4907d4f51bb290$export$2e2bcd8739ae039","pathname","view","_pathname","_blockClass","_props","navigate","leave","_block","rootQuery","$4bdbd9e1aff95ad5$export$2e2bcd8739ae039","__instance","routes","history","window","_rootQuery","use","block","route","location","onpopstate","event","_onRoute","getRoute","_currentRoute","go","pushState","back","forward","find","getCurrentRoute","$5e2b9edddf91f09c$var$Method","Method","$5e2b9edddf91f09c$export$2e2bcd8739ae039","baseurl","_baseurl","get","options","encodeURIComponent","join","request","method","GET","post","POST","put","PUT","delete","DELETE","headers","Promise","reject","XMLHttpRequest","open","withCredentials","json","toLowerCase","setRequestHeader","onload","status","onabort","onerror","ontimeout","d","stringify","send","$2ba61785a8bd671b$export$2e2bcd8739ae039","baseUrl","_API","async","$53d69f709accb711$export$2e2bcd8739ae039","$cdd70d96f3f6bab8$export$2e2bcd8739ae039","$746dc23c125a56b4$export$2e2bcd8739ae039","connect","_socket","WebSocket","addEventListener","getOld","ping","count","setTimeout","$53abc26ccced5b7d$var$icons","assign","$53abc26ccced5b7d$var$user","$53abc26ccced5b7d$var$router","$53abc26ccced5b7d$var$g","$53abc26ccced5b7d$var$userController","router","_router","_authAPI","_userAPI","ACTION_GETUSER","getUser","ACTION_GETUSER_SUCCEED","ACTION_GETUSER_FAILED","successPath","logout","ACTION_LOGIN_SUCCEED","ACTION_LOGIN_FAILED","signup","ACTION_SIGNUP_SUCCEED","ACTION_SIGNUP_FAILED","result","findUser","uFound","found","u","saveInfo","ACTION_SAVEINFO_SUCCEED","ACTION_SAVEINFO_FAILED","oldPassword","newPassword","savePassword","ACTION_SAVEPASSWORD_SUCCEED","ACTION_SAVEPASSWORD_FAILED","changeAvatar","$53abc26ccced5b7d$var$chatController","_chatAPI","list","ACTION_GETCHATS_SUCCEED","create","ACTION_GETCHATTOKEN_SUCCEED","getUsers","addUser","deleteUser","$53abc26ccced5b7d$var$messagesController","_WSAPI","connectChat","sendMessage","$53abc26ccced5b7d$var$initProps","$0fc3b017a1ffb963$exports","$53abc26ccced5b7d$var$login","VALIDATE_LOGIN_FAILED","_onValidateLoginFailed","_onActionLoginFailed","_onActionLoginSucceed","_onFocusChange","inputLogin","blur","focus","inputPassword","buttonLogin","VALIDATE_LOGIN","ACTION_LOGIN","buttonSignup","labelLogin","label","labelPassword","$53abc26ccced5b7d$var$signup","VALIDATE_SIGNUP_FAILED","_onValidateSignupFailed","_onActionSignupFailed","_onActionSignupSucceed","password1","form","elements","inputEmail","inputFirstName","inputSecondName","inputPhone","inputPassword2","VALIDATE_SIGNUP","ACTION_SIGNUP","labelEmail","labelFirstName","labelSecondName","labelPhone","labelPassword2","$53abc26ccced5b7d$var$chat","_onGetChatsSucceed","_onGetChatTokenSucceed","ACTION_CONNECTCHAT","_chatInfos","last_message","String","padStart","textString","unread_count","conversation","ACTION_GETCHATTOKEN","chatInfos","linkProfileOpen","imageAfterSrc","linkAddChat","modalCreateChat","inputSearch","$53abc26ccced5b7d$var$profileInfo","USERDATA_UPDATED","_onUserDataUpdated","linkProfileReturn","linkChangeInfo","linkChangePassword","linkExit","ACTION_LOGOUT","$53abc26ccced5b7d$var$profileChange","VALIDATE_SAVEINFO_FAILED","_onValidateSaveInfoFailed","_onActionSaveInfoFailed","_onActionSaveInfoSucceed","previousElementSibling","res","userData","inputDisplayName","linkProfileChangeReturn","buttonSave","VALIDATE_SAVEINFO","ACTION_SAVEINFO","labelDisplayName","images","$53abc26ccced5b7d$var$profilePassword","VALIDATE_SAVEPASSWORD_FAILED","_onValidateSavePasswordFailed","_onActionSavePasswordFailed","_onActionSavePasswordSucceed","inputOldPassword","inputNewPassword","inputNewPassword2","linkProfilePasswordReturn","VALIDATE_SAVEPASSWORD","ACTION_SAVEPASSWORD","labelOldPassword","labelNewPassword","labelNewPassword2","ACTION_INIT","init","getChats","addChatUser","deleteChatUser","deleteChat","getChatToken","getChatUsers","createChat"],"version":3,"file":"index.5a0ce1df.js.map"}